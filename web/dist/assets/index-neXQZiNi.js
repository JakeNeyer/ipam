var cr=Object.defineProperty;var ll=n=>{throw TypeError(n)};var ur=(n,t,e)=>t in n?cr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ze=(n,t,e)=>ur(n,typeof t!="symbol"?t+"":t,e),fr=(n,t,e)=>t.has(n)||ll("Cannot "+e);var sl=(n,t,e)=>t.has(n)?ll("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e);var $t=(n,t,e)=>(fr(n,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const dr="modulepreload",pr=function(n){return"/"+n},ol={},hr=function(t,e,l){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(e.map(u=>{if(u=pr(u),u in ol)return;ol[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":dr,f||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),f)return new Promise((m,b)=>{h.addEventListener("load",m),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};function se(){}function an(n,t){for(const e in t)n[e]=t[e];return n}function Lo(n){return n()}function il(){return Object.create(null)}function _e(n){n.forEach(Lo)}function zo(n){return typeof n=="function"}function Je(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function mr(n){return Object.keys(n).length===0}function br(n,...t){if(n==null){for(const l of t)l(void 0);return se}const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function ln(n,t,e){n.$$.on_destroy.push(br(t,e))}function rl(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}const gr=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function r(n,t){n.appendChild(t)}function R(n,t,e){n.insertBefore(t,e||null)}function z(n){n.parentNode&&n.parentNode.removeChild(n)}function Ke(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function p(n){return document.createElement(n)}function $e(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function D(n){return document.createTextNode(n)}function I(){return D(" ")}function Xe(){return D("")}function W(n,t,e,l){return n.addEventListener(t,e,l),()=>n.removeEventListener(t,e,l)}function Dt(n){return function(t){return t.preventDefault(),n.call(this,t)}}function Ye(n){return function(t){return t.stopPropagation(),n.call(this,t)}}function a(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}const _r=["width","height"];function al(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const l in t)t[l]==null?n.removeAttribute(l):l==="style"?n.style.cssText=t[l]:l==="__value"?n.value=n[l]=t[l]:e[l]&&e[l].set&&_r.indexOf(l)===-1?n[l]=t[l]:a(n,l,t[l])}function cl(n,t){for(const e in t)a(n,e,t[e])}function Ro(n){return n===""?null:+n}function kr(n){return Array.from(n.childNodes)}function V(n,t){t=""+t,n.data!==t&&(n.data=t)}function fe(n,t){n.value=t??""}function pe(n,t,e,l){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,"")}function at(n,t,e){for(let l=0;l<n.options.length;l+=1){const s=n.options[l];if(s.__value===t){s.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function zt(n){const t=n.querySelector(":checked");return t&&t.__value}function be(n,t,e){n.classList.toggle(t,!!e)}function vr(n,t,{bubbles:e=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:l})}class wr{constructor(t=!1){ze(this,"is_svg",!1);ze(this,"e");ze(this,"n");ze(this,"t");ze(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,l=null){this.e||(this.is_svg?this.e=$e(e.nodeName):this.e=p(e.nodeType===11?"TEMPLATE":e.nodeName),this.t=e.tagName!=="TEMPLATE"?e:e.content,this.c(t)),this.i(l)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)R(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(z)}}let Wt;function Ut(n){Wt=n}function On(){if(!Wt)throw new Error("Function called outside component initialization");return Wt}function _t(n){On().$$.on_mount.push(n)}function yr(n){On().$$.on_destroy.push(n)}function pt(){const n=On();return(t,e,{cancelable:l=!1}={})=>{const s=n.$$.callbacks[t];if(s){const o=vr(t,e,{cancelable:l});return s.slice().forEach(i=>{i.call(n,o)}),!o.defaultPrevented}return!0}}function Pt(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(l=>l.call(this,t))}const At=[],rt=[];let Lt=[];const Tn=[],Do=Promise.resolve();let An=!1;function No(){An||(An=!0,Do.then(Mo))}function Cr(){return No(),Do}function mt(n){Lt.push(n)}function Gt(n){Tn.push(n)}const Cn=new Set;let Et=0;function Mo(){if(Et!==0)return;const n=Wt;do{try{for(;Et<At.length;){const t=At[Et];Et++,Ut(t),Sr(t.$$)}}catch(t){throw At.length=0,Et=0,t}for(Ut(null),At.length=0,Et=0;rt.length;)rt.pop()();for(let t=0;t<Lt.length;t+=1){const e=Lt[t];Cn.has(e)||(Cn.add(e),e())}Lt.length=0}while(At.length);for(;Tn.length;)Tn.pop()();An=!1,Cn.clear(),Ut(n)}function Sr(n){if(n.fragment!==null){n.update(),_e(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(mt)}}function Ir(n){const t=[],e=[];Lt.forEach(l=>n.indexOf(l)===-1?t.push(l):e.push(l)),e.forEach(l=>l()),Lt=t}const sn=new Set;let vt;function Re(){vt={r:0,c:[],p:vt}}function De(){vt.r||_e(vt.c),vt=vt.p}function Z(n,t){n&&n.i&&(sn.delete(n),n.i(t))}function Y(n,t,e,l){if(n&&n.o){if(sn.has(n))return;sn.add(n),vt.c.push(()=>{sn.delete(n),l&&(e&&n.d(1),l())}),n.o(t)}else l&&l()}function Ee(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Oo(n,t){n.d(1),t.delete(n.key)}function Bo(n,t,e,l,s,o,i,c,u,f,d,h){let m=n.length,b=o.length,v=m;const g={};for(;v--;)g[n[v].key]=v;const y=[],w=new Map,_=new Map,C=[];for(v=b;v--;){const T=h(s,o,v),M=e(T);let A=i.get(M);A?C.push(()=>A.p(T,t)):(A=f(M,T),A.c()),w.set(M,y[v]=A),M in g&&_.set(M,Math.abs(v-g[M]))}const k=new Set,q=new Set;function S(T){Z(T,1),T.m(c,d),i.set(T.key,T),d=T.first,b--}for(;m&&b;){const T=y[b-1],M=n[m-1],A=T.key,F=M.key;T===M?(d=T.first,m--,b--):w.has(F)?!i.has(A)||k.has(A)?S(T):q.has(F)?m--:_.get(A)>_.get(F)?(q.add(A),S(T)):(k.add(F),m--):(u(M,i),m--)}for(;m--;){const T=n[m];w.has(T.key)||u(T,i)}for(;b;)S(y[b-1]);return _e(C),y}function Fo(n,t){const e={},l={},s={$$scope:1};let o=n.length;for(;o--;){const i=n[o],c=t[o];if(c){for(const u in i)u in c||(l[u]=1);for(const u in c)s[u]||(e[u]=c[u],s[u]=1);n[o]=c}else for(const u in i)s[u]=1}for(const i in l)i in e||(e[i]=void 0);return e}function Zt(n,t,e){const l=n.$$.props[t];l!==void 0&&(n.$$.bound[l]=e,e(n.$$.ctx[l]))}function Ie(n){n&&n.c()}function ye(n,t,e){const{fragment:l,after_update:s}=n.$$;l&&l.m(t,e),mt(()=>{const o=n.$$.on_mount.map(Lo).filter(zo);n.$$.on_destroy?n.$$.on_destroy.push(...o):_e(o),n.$$.on_mount=[]}),s.forEach(mt)}function Ce(n,t){const e=n.$$;e.fragment!==null&&(Ir(e.after_update),_e(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function qr(n,t){n.$$.dirty[0]===-1&&(At.push(n),No(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function et(n,t,e,l,s,o,i=null,c=[-1]){const u=Wt;Ut(n);const f=n.$$={fragment:null,ctx:[],props:o,update:se,not_equal:s,bound:il(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:il(),dirty:c,skip_bound:!1,root:t.target||u.$$.root};i&&i(f.root);let d=!1;if(f.ctx=e?e(n,t.props||{},(h,m,...b)=>{const v=b.length?b[0]:m;return f.ctx&&s(f.ctx[h],f.ctx[h]=v)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](v),d&&qr(n,h)),m}):[],f.update(),d=!0,_e(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const h=kr(t.target);f.fragment&&f.fragment.l(h),h.forEach(z)}else f.fragment&&f.fragment.c();t.intro&&Z(n.$$.fragment),ye(n,t.target,t.anchor),Mo()}Ut(u)}class tt{constructor(){ze(this,"$$");ze(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=se}$on(t,e){if(!zo(e))return se;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(e),()=>{const s=l.indexOf(e);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!mr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Er="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Er);const Tt=[];function hn(n,t=se){let e;const l=new Set;function s(c){if(Je(n,c)&&(n=c,e)){const u=!Tt.length;for(const f of l)f[1](),Tt.push(f,n);if(u){for(let f=0;f<Tt.length;f+=2)Tt[f][0](Tt[f+1]);Tt.length=0}}}function o(c){s(c(n))}function i(c,u=se){const f=[c,u];return l.add(f),l.size===1&&(e=t(s,o)||se),c(n),()=>{l.delete(f),l.size===0&&e&&(e(),e=null)}}return{set:s,update:o,subscribe:i}}const jo="ipam-theme";function Tr(){if(typeof window>"u")return"dark";const n=localStorage.getItem(jo);return n==="light"||n==="dark"?n:"dark"}const Uo=Tr();typeof document<"u"&&(document.documentElement.setAttribute("data-theme","wintry"),document.documentElement.classList.toggle("dark",Uo==="dark"));const Pn=hn(Uo);Pn.subscribe(n=>{typeof window>"u"||(localStorage.setItem(jo,n),document.documentElement.setAttribute("data-theme","wintry"),document.documentElement.classList.toggle("dark",n==="dark"))});const ct="/api",ht={credentials:"include"};function mn(n,t="Something went wrong"){if(!n||typeof n!="string")return t;const e=n.trim();if(!e)return t;if(e.startsWith("{"))try{const l=JSON.parse(e),s=l.message??l.error??l.detail??l.msg;if(typeof s=="string"&&s.length>0)return s;if(Array.isArray(l.errors)&&l.errors.length>0){const o=l.errors[0];return typeof o=="string"?o:o.message??o.error??t}}catch{}return e.length>200?e.slice(0,200)+"…":e}async function Ct(n){const t=await n.text().catch(()=>n.statusText);throw new Error(mn(t,n.statusText))}async function St(n,t={}){const e=new URLSearchParams;Object.entries(t).forEach(([i,c])=>{c!=null&&c!==""&&e.set(i,String(c))});const l=e.toString(),s=l?`${ct}${n}?${l}`:`${ct}${n}`,o=await fetch(s,ht);return o.ok||await Ct(o),o.json()}async function kt(n,t){const e=await fetch(`${ct}${n}`,{...ht,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return e.ok||await Ct(e),e.json()}async function Ho(n,t){const e=await fetch(`${ct}${n}`,{...ht,method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return e.ok||await Ct(e),e.json()}async function Bn(n){const t=await fetch(`${ct}${n}`,{...ht,method:"DELETE"});if(t.ok||await Ct(t),t.status===204)return;const e=await t.text();if(e)return JSON.parse(e)}async function bn(n={}){const e={limit:(n.limit??500)||500,offset:n.offset??0};n.name!=null&&n.name!==""&&(e.name=n.name);const l=await St("/environments",e);return{environments:l.environments??[],total:l.total??0}}async function Ar(n,t=null){const e={name:n};return t&&t.name&&t.cidr&&(e.initial_block={name:t.name,cidr:t.cidr}),kt("/environments",e)}async function Sn(n){return await St("/environments/"+n)}async function Pr(n,t){return Ho("/environments/"+n,{name:t})}async function Lr(n){return Bn("/environments/"+n)}async function Fn(n={}){const e={limit:(n.limit??500)||500,offset:n.offset??0};n.name!=null&&n.name!==""&&(e.name=n.name),n.environment_id!=null&&n.environment_id!==""&&(e.environment_id=n.environment_id),n.orphaned_only&&(e.orphaned_only="true");const l=await St("/blocks",e);return{blocks:l.blocks??[],total:l.total??0}}async function zr(n,t,e=null){const l={name:n,cidr:t};return e&&(l.environment_id=e),kt("/blocks",l)}const Rr="00000000-0000-0000-0000-000000000000";async function Dr(n,t,e=null){const l={name:t};return e!=null&&(l.environment_id=e===""?Rr:e),Ho("/blocks/"+n,l)}async function Nr(n){return Bn("/blocks/"+n)}async function Mr(n,t){const e=await St(`/blocks/${n}/suggest-cidr?prefix=${encodeURIComponent(t)}`);return(e==null?void 0:e.cidr)??""}async function Or(n,t){const e=await St(`/environments/${n}/suggest-block-cidr?prefix=${encodeURIComponent(t)}`);return(e==null?void 0:e.cidr)??""}async function Vt(n={}){const e={limit:(n.limit??500)||500,offset:n.offset??0};n.name!=null&&n.name!==""&&(e.name=n.name),n.block_name!=null&&n.block_name!==""&&(e.block_name=n.block_name);const l=await St("/allocations",e);return{allocations:l.allocations??[],total:l.total??0}}async function Br(n,t,e){return kt("/allocations",{name:n,block_name:t,cidr:e})}async function Fr(n){return Bn("/allocations/"+n)}async function Qo(n,t){const e=await kt("/auth/login",{email:n,password:t});return(e==null?void 0:e.user)??null}async function jr(){await kt("/auth/logout",{})}async function Ur(){const n=await fetch(`${ct}/auth/me`,ht);if(n.status===401)return null;if(!n.ok)throw new Error(mn(await n.text()));const t=await n.json();return(t==null?void 0:t.user)??null}async function Hr(){const n=await fetch(`${ct}/auth/me/tour-completed`,{...ht,method:"POST"});if(n.ok||await Ct(n),n.status!==204)return n.json()}async function Wo(){return{tokens:(await St("/auth/me/tokens")).tokens??[]}}async function Qr(n){return await kt("/auth/me/tokens",{name:n})}async function Go(n){const t=await fetch(`${ct}/auth/me/tokens/${n}`,{...ht,method:"DELETE"});t.ok||await Ct(t),t.status}async function Wr(){const n=await fetch(`${ct}/setup/status`,ht);if(!n.ok)throw new Error(mn(await n.text()));return n.json()}async function Gr(n,t){const e=await kt("/setup",{email:n,password:t});return(e==null?void 0:e.user)??null}async function Zr(){const n=await fetch(`${ct}/admin/users`,ht);return n.ok||await Ct(n),{users:(await n.json()).users??[]}}async function Vr(n,t,e="user"){const l=await kt("/admin/users",{email:n,password:t,role:e});return(l==null?void 0:l.user)??null}async function Kr(){const n=await fetch(`${ct}/export/csv`,ht);if(!n.ok){const s=await n.text().catch(()=>n.statusText);throw new Error(mn(s,n.statusText))}const t=await n.blob(),e=URL.createObjectURL(t),l=document.createElement("a");l.href=e,l.download="ipam-export.csv",l.click(),URL.revokeObjectURL(e)}const gt=hn(null),cn=hn(!1),Kt=hn(null);async function Zo(){try{const n=await Ur();return gt.set(n),cn.set(!0),n!=null}catch{return gt.set(null),cn.set(!0),!1}}async function Yr(){try{await jr()}finally{gt.set(null)}}async function Vo(){try{const n=await Wr(),t=(n==null?void 0:n.setup_required)===!0;return Kt.set(t),t}catch{return Kt.set(!1),!1}}const Xr=Object.freeze(Object.defineProperty({__proto__:null,authChecked:cn,checkAuth:Zo,checkSetupRequired:Vo,logout:Yr,setupRequired:Kt,user:gt},Symbol.toStringTag,{value:"Module"})),Ko=/^[a-z0-9]+(-[a-z0-9]+)*$/,gn=(n,t,e,l="")=>{const s=n.split(":");if(n.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;l=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const c=s.pop(),u=s.pop(),f={provider:s.length>0?s[0]:l,prefix:u,name:c};return t&&!on(f)?null:f}const o=s[0],i=o.split("-");if(i.length>1){const c={provider:l,prefix:i.shift(),name:i.join("-")};return t&&!on(c)?null:c}if(e&&l===""){const c={provider:l,prefix:"",name:o};return t&&!on(c,e)?null:c}return null},on=(n,t)=>n?!!((t&&n.prefix===""||n.prefix)&&n.name):!1,Yo=Object.freeze({left:0,top:0,width:16,height:16}),un=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),_n=Object.freeze({...Yo,...un}),Ln=Object.freeze({..._n,body:"",hidden:!1});function Jr(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const l=((n.rotate||0)+(t.rotate||0))%4;return l&&(e.rotate=l),e}function ul(n,t){const e=Jr(n,t);for(const l in Ln)l in un?l in n&&!(l in e)&&(e[l]=un[l]):l in t?e[l]=t[l]:l in n&&(e[l]=n[l]);return e}function xr(n,t){const e=n.icons,l=n.aliases||Object.create(null),s=Object.create(null);function o(i){if(e[i])return s[i]=[];if(!(i in s)){s[i]=null;const c=l[i]&&l[i].parent,u=c&&o(c);u&&(s[i]=[c].concat(u))}return s[i]}return Object.keys(e).concat(Object.keys(l)).forEach(o),s}function $r(n,t,e){const l=n.icons,s=n.aliases||Object.create(null);let o={};function i(c){o=ul(l[c]||s[c],o)}return i(t),e.forEach(i),ul(n,o)}function Xo(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(s=>{t(s,null),e.push(s)});const l=xr(n);for(const s in l){const o=l[s];o&&(t(s,$r(n,s,o)),e.push(s))}return e}const ea={provider:"",aliases:{},not_found:{},...Yo};function In(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Jo(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!In(n,ea))return null;const e=t.icons;for(const s in e){const o=e[s];if(!s||typeof o.body!="string"||!In(o,Ln))return null}const l=t.aliases||Object.create(null);for(const s in l){const o=l[s],i=o.parent;if(!s||typeof i!="string"||!e[i]&&!l[i]||!In(o,Ln))return null}return t}const fl=Object.create(null);function ta(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function Rt(n,t){const e=fl[n]||(fl[n]=Object.create(null));return e[t]||(e[t]=ta(n,t))}function xo(n,t){return Jo(t)?Xo(t,(e,l)=>{l?n.icons[e]=l:n.missing.add(e)}):[]}function na(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}let Yt=!1;function $o(n){return typeof n=="boolean"&&(Yt=n),Yt}function la(n){const t=typeof n=="string"?gn(n,!0,Yt):n;if(t){const e=Rt(t.provider,t.prefix),l=t.name;return e.icons[l]||(e.missing.has(l)?null:void 0)}}function sa(n,t){const e=gn(n,!0,Yt);if(!e)return!1;const l=Rt(e.provider,e.prefix);return t?na(l,e.name,t):(l.missing.add(e.name),!0)}function oa(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),Yt&&!t&&!n.prefix){let s=!1;return Jo(n)&&(n.prefix="",Xo(n,(o,i)=>{sa(o,i)&&(s=!0)})),s}const e=n.prefix;if(!on({prefix:e,name:"a"}))return!1;const l=Rt(t,e);return!!xo(l,n)}const ei=Object.freeze({width:null,height:null}),ti=Object.freeze({...ei,...un}),ia=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ra=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function dl(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const l=n.split(ia);if(l===null||!l.length)return n;const s=[];let o=l.shift(),i=ra.test(o);for(;;){if(i){const c=parseFloat(o);isNaN(c)?s.push(o):s.push(Math.ceil(c*t*e)/e)}else s.push(o);if(o=l.shift(),o===void 0)return s.join("");i=!i}}function aa(n,t="defs"){let e="";const l=n.indexOf("<"+t);for(;l>=0;){const s=n.indexOf(">",l),o=n.indexOf("</"+t);if(s===-1||o===-1)break;const i=n.indexOf(">",o);if(i===-1)break;e+=n.slice(s+1,o).trim(),n=n.slice(0,l).trim()+n.slice(i+1)}return{defs:e,content:n}}function ca(n,t){return n?"<defs>"+n+"</defs>"+t:t}function ua(n,t,e){const l=aa(n);return ca(l.defs,t+l.content+e)}const fa=n=>n==="unset"||n==="undefined"||n==="none";function da(n,t){const e={..._n,...n},l={...ti,...t},s={left:e.left,top:e.top,width:e.width,height:e.height};let o=e.body;[e,l].forEach(g=>{const y=[],w=g.hFlip,_=g.vFlip;let C=g.rotate;w?_?C+=2:(y.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),y.push("scale(-1 1)"),s.top=s.left=0):_&&(y.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),y.push("scale(1 -1)"),s.top=s.left=0);let k;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:k=s.height/2+s.top,y.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:y.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:k=s.width/2+s.left,y.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}C%2===1&&(s.left!==s.top&&(k=s.left,s.left=s.top,s.top=k),s.width!==s.height&&(k=s.width,s.width=s.height,s.height=k)),y.length&&(o=ua(o,'<g transform="'+y.join(" ")+'">',"</g>"))});const i=l.width,c=l.height,u=s.width,f=s.height;let d,h;i===null?(h=c===null?"1em":c==="auto"?f:c,d=dl(h,u/f)):(d=i==="auto"?u:i,h=c===null?dl(d,f/u):c==="auto"?f:c);const m={},b=(g,y)=>{fa(y)||(m[g]=y.toString())};b("width",d),b("height",h);const v=[s.left,s.top,u,f];return m.viewBox=v.join(" "),{attributes:m,viewBox:v,body:o}}const pa=/\sid="(\S+)"/g,ha="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let ma=0;function ba(n,t=ha){const e=[];let l;for(;l=pa.exec(n);)e.push(l[1]);if(!e.length)return n;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(o=>{const i=typeof t=="function"?t(o):t+(ma++).toString(),c=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");n=n.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+i+s+"$3")}),n=n.replace(new RegExp(s,"g"),""),n}const zn=Object.create(null);function ga(n,t){zn[n]=t}function Rn(n){return zn[n]||zn[""]}function jn(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const Un=Object.create(null),Ot=["https://api.simplesvg.com","https://api.unisvg.com"],rn=[];for(;Ot.length>0;)Ot.length===1||Math.random()>.5?rn.push(Ot.shift()):rn.push(Ot.pop());Un[""]=jn({resources:["https://api.iconify.design"].concat(rn)});function _a(n,t){const e=jn(t);return e===null?!1:(Un[n]=e,!0)}function Hn(n){return Un[n]}const ka=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let pl=ka();function va(n,t){const e=Hn(n);if(!e)return 0;let l;if(!e.maxURL)l=0;else{let s=0;e.resources.forEach(i=>{s=Math.max(s,i.length)});const o=t+".json?icons=";l=e.maxURL-s-e.path.length-o.length}return l}function wa(n){return n===404}const ya=(n,t,e)=>{const l=[],s=va(n,t),o="icons";let i={type:o,provider:n,prefix:t,icons:[]},c=0;return e.forEach((u,f)=>{c+=u.length+1,c>=s&&f>0&&(l.push(i),i={type:o,provider:n,prefix:t,icons:[]},c=u.length),i.icons.push(u)}),l.push(i),l};function Ca(n){if(typeof n=="string"){const t=Hn(n);if(t)return t.path}return"/"}const Sa=(n,t,e)=>{if(!pl){e("abort",424);return}let l=Ca(t.provider);switch(t.type){case"icons":{const o=t.prefix,c=t.icons.join(","),u=new URLSearchParams({icons:c});l+=o+".json?"+u.toString();break}case"custom":{const o=t.uri;l+=o.slice(0,1)==="/"?o.slice(1):o;break}default:e("abort",400);return}let s=503;pl(n+l).then(o=>{const i=o.status;if(i!==200){setTimeout(()=>{e(wa(i)?"abort":"next",i)});return}return s=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?e("abort",o):e("next",s)});return}setTimeout(()=>{e("success",o)})}).catch(()=>{e("next",s)})},Ia={prepare:ya,send:Sa};function qa(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((s,o)=>s.provider!==o.provider?s.provider.localeCompare(o.provider):s.prefix!==o.prefix?s.prefix.localeCompare(o.prefix):s.name.localeCompare(o.name));let l={provider:"",prefix:"",name:""};return n.forEach(s=>{if(l.name===s.name&&l.prefix===s.prefix&&l.provider===s.provider)return;l=s;const o=s.provider,i=s.prefix,c=s.name,u=e[o]||(e[o]=Object.create(null)),f=u[i]||(u[i]=Rt(o,i));let d;c in f.icons?d=t.loaded:i===""||f.missing.has(c)?d=t.missing:d=t.pending;const h={provider:o,prefix:i,name:c};d.push(h)}),t}function ni(n,t){n.forEach(e=>{const l=e.loaderCallbacks;l&&(e.loaderCallbacks=l.filter(s=>s.id!==t))})}function Ea(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const l=n.provider,s=n.prefix;t.forEach(o=>{const i=o.icons,c=i.pending.length;i.pending=i.pending.filter(u=>{if(u.prefix!==s)return!0;const f=u.name;if(n.icons[f])i.loaded.push({provider:l,prefix:s,name:f});else if(n.missing.has(f))i.missing.push({provider:l,prefix:s,name:f});else return e=!0,!0;return!1}),i.pending.length!==c&&(e||ni([n],o.id),o.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),o.abort))})}))}let Ta=0;function Aa(n,t,e){const l=Ta++,s=ni.bind(null,e,l);if(!t.pending.length)return s;const o={id:l,icons:t,callback:n,abort:s};return e.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(o)}),s}function Pa(n,t=!0,e=!1){const l=[];return n.forEach(s=>{const o=typeof s=="string"?gn(s,t,e):s;o&&l.push(o)}),l}var La={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function za(n,t,e,l){const s=n.resources.length,o=n.random?Math.floor(Math.random()*s):n.index;let i;if(n.random){let S=n.resources.slice(0);for(i=[];S.length>1;){const T=Math.floor(Math.random()*S.length);i.push(S[T]),S=S.slice(0,T).concat(S.slice(T+1))}i=i.concat(S)}else i=n.resources.slice(o).concat(n.resources.slice(0,o));const c=Date.now();let u="pending",f=0,d,h=null,m=[],b=[];typeof l=="function"&&b.push(l);function v(){h&&(clearTimeout(h),h=null)}function g(){u==="pending"&&(u="aborted"),v(),m.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),m=[]}function y(S,T){T&&(b=[]),typeof S=="function"&&b.push(S)}function w(){return{startTime:c,payload:t,status:u,queriesSent:f,queriesPending:m.length,subscribe:y,abort:g}}function _(){u="failed",b.forEach(S=>{S(void 0,d)})}function C(){m.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),m=[]}function k(S,T,M){const A=T!=="success";switch(m=m.filter(F=>F!==S),u){case"pending":break;case"failed":if(A||!n.dataAfterTimeout)return;break;default:return}if(T==="abort"){d=M,_();return}if(A){d=M,m.length||(i.length?q():_());return}if(v(),C(),!n.random){const F=n.resources.indexOf(S.resource);F!==-1&&F!==n.index&&(n.index=F)}u="completed",b.forEach(F=>{F(M)})}function q(){if(u!=="pending")return;v();const S=i.shift();if(S===void 0){if(m.length){h=setTimeout(()=>{v(),u==="pending"&&(C(),_())},n.timeout);return}_();return}const T={status:"pending",resource:S,callback:(M,A)=>{k(T,M,A)}};m.push(T),f++,h=setTimeout(q,n.rotate),e(S,t,T.callback)}return setTimeout(q),w}function li(n){const t={...La,...n};let e=[];function l(){e=e.filter(c=>c().status==="pending")}function s(c,u,f){const d=za(t,c,u,(h,m)=>{l(),f&&f(h,m)});return e.push(d),d}function o(c){return e.find(u=>c(u))||null}return{query:s,find:o,setIndex:c=>{t.index=c},getIndex:()=>t.index,cleanup:l}}function hl(){}const qn=Object.create(null);function Ra(n){if(!qn[n]){const t=Hn(n);if(!t)return;const e=li(t),l={config:t,redundancy:e};qn[n]=l}return qn[n]}function Da(n,t,e){let l,s;if(typeof n=="string"){const o=Rn(n);if(!o)return e(void 0,424),hl;s=o.send;const i=Ra(n);i&&(l=i.redundancy)}else{const o=jn(n);if(o){l=li(o);const i=n.resources?n.resources[0]:"",c=Rn(i);c&&(s=c.send)}}return!l||!s?(e(void 0,424),hl):l.query(t,s,e)().abort}function ml(){}function Na(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,Ea(n)}))}function Ma(n){const t=[],e=[];return n.forEach(l=>{(l.match(Ko)?t:e).push(l)}),{valid:t,invalid:e}}function Bt(n,t,e){function l(){const s=n.pendingIcons;t.forEach(o=>{s&&s.delete(o),n.icons[o]||n.missing.add(o)})}if(e&&typeof e=="object")try{if(!xo(n,e).length){l();return}}catch(s){console.error(s)}l(),Na(n)}function bl(n,t){n instanceof Promise?n.then(e=>{t(e)}).catch(()=>{t(null)}):t(n)}function Oa(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:l}=n,s=n.iconsToLoad;if(delete n.iconsToLoad,!s||!s.length)return;const o=n.loadIcon;if(n.loadIcons&&(s.length>1||!o)){bl(n.loadIcons(s,l,e),d=>{Bt(n,s,d)});return}if(o){s.forEach(d=>{const h=o(d,l,e);bl(h,m=>{const b=m?{prefix:l,icons:{[d]:m}}:null;Bt(n,[d],b)})});return}const{valid:i,invalid:c}=Ma(s);if(c.length&&Bt(n,c,null),!i.length)return;const u=l.match(Ko)?Rn(e):null;if(!u){Bt(n,i,null);return}u.prepare(e,l,i).forEach(d=>{Da(e,d,h=>{Bt(n,d.icons,h)})})}))}const Ba=(n,t)=>{const e=Pa(n,!0,$o()),l=qa(e);if(!l.pending.length){let u=!0;return t&&setTimeout(()=>{u&&t(l.loaded,l.missing,l.pending,ml)}),()=>{u=!1}}const s=Object.create(null),o=[];let i,c;return l.pending.forEach(u=>{const{provider:f,prefix:d}=u;if(d===c&&f===i)return;i=f,c=d,o.push(Rt(f,d));const h=s[f]||(s[f]=Object.create(null));h[d]||(h[d]=[])}),l.pending.forEach(u=>{const{provider:f,prefix:d,name:h}=u,m=Rt(f,d),b=m.pendingIcons||(m.pendingIcons=new Set);b.has(h)||(b.add(h),s[f][d].push(h))}),o.forEach(u=>{const f=s[u.provider][u.prefix];f.length&&Oa(u,f)}),t?Aa(t,l,o):ml};function Fa(n,t){const e={...n};for(const l in t){const s=t[l],o=typeof s;l in ei?(s===null||s&&(o==="string"||o==="number"))&&(e[l]=s):o===typeof e[l]&&(e[l]=l==="rotate"?s%4:s)}return e}const ja=/[\s,]+/;function Ua(n,t){t.split(ja).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}function Ha(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function l(s){for(;s<0;)s+=4;return s%4}if(e===""){const s=parseInt(n);return isNaN(s)?0:l(s)}else if(e!==n){let s=0;switch(e){case"%":s=25;break;case"deg":s=90}if(s){let o=parseFloat(n.slice(0,n.length-e.length));return isNaN(o)?0:(o=o/s,o%1===0?l(o):0)}}return t}function Qa(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const l in t)e+=" "+l+'="'+t[l]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function Wa(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Ga(n){return"data:image/svg+xml,"+Wa(n)}function Za(n){return'url("'+Ga(n)+'")'}const gl={...ti,inline:!1},Va={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Ka={display:"inline-block"},Dn={"background-color":"currentColor"},si={"background-color":"transparent"},_l={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},kl={"-webkit-mask":Dn,mask:Dn,background:si};for(const n in kl){const t=kl[n];for(const e in _l)t[n+"-"+e]=_l[e]}function Ya(n){return n+(n.match(/^[-0-9.]+$/)?"px":"")}function Xa(n,t){const e=Fa(gl,t),l=t.mode||"svg",s=l==="svg"?{...Va}:{};n.body.indexOf("xlink:")===-1&&delete s["xmlns:xlink"];let o=typeof t.style=="string"?t.style:"";for(let w in t){const _=t[w];if(_!==void 0)switch(w){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":e[w]=_===!0||_==="true"||_===1;break;case"flip":typeof _=="string"&&Ua(e,_);break;case"color":o=o+(o.length>0&&o.trim().slice(-1)!==";"?";":"")+"color: "+_+"; ";break;case"rotate":typeof _=="string"?e[w]=Ha(_):typeof _=="number"&&(e[w]=_);break;case"ariaHidden":case"aria-hidden":_!==!0&&_!=="true"&&delete s["aria-hidden"];break;default:if(w.slice(0,3)==="on:")break;gl[w]===void 0&&(s[w]=_)}}const i=da(n,e),c=i.attributes;if(e.inline&&(o="vertical-align: -0.125em; "+o),l==="svg"){Object.assign(s,c),o!==""&&(s.style=o);let w=0,_=t.id;return typeof _=="string"&&(_=_.replace(/-/g,"_")),{svg:!0,attributes:s,body:ba(i.body,_?()=>_+"ID"+w++:"iconifySvelte")}}const{body:u,width:f,height:d}=n,h=l==="mask"||(l==="bg"?!1:u.indexOf("currentColor")!==-1),m=Qa(u,{...c,width:f+"",height:d+""}),v={"--svg":Za(m)},g=w=>{const _=c[w];_&&(v[w]=Ya(_))};g("width"),g("height"),Object.assign(v,Ka,h?Dn:si);let y="";for(const w in v)y+=w+": "+v[w]+";";return s.style=y+o,{svg:!1,attributes:s}}$o(!0);ga("",Ia);if(typeof document<"u"&&typeof window<"u"){const n=window;if(n.IconifyPreload!==void 0){const t=n.IconifyPreload,e="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(l=>{try{(typeof l!="object"||l===null||l instanceof Array||typeof l.icons!="object"||typeof l.prefix!="string"||!oa(l))&&console.error(e)}catch{console.error(e)}})}if(n.IconifyProviders!==void 0){const t=n.IconifyProviders;if(typeof t=="object"&&t!==null)for(let e in t){const l="IconifyProviders["+e+"] is invalid.";try{const s=t[e];if(typeof s!="object"||!s||s.resources===void 0)continue;_a(e,s)||console.error(l)}catch{console.error(l)}}}}function Ja(n,t,e,l,s){function o(){t.loading&&(t.loading.abort(),t.loading=null)}if(typeof n=="object"&&n!==null&&typeof n.body=="string")return t.name="",o(),{data:{..._n,...n}};let i;if(typeof n!="string"||(i=gn(n,!1,!0))===null)return o(),null;const c=la(i);if(!c)return e&&(!t.loading||t.loading.name!==n)&&(o(),t.name="",t.loading={name:n,abort:Ba([i],l)}),null;o(),t.name!==n&&(t.name=n,s&&!t.destroyed&&s(n));const u=["iconify"];return i.prefix!==""&&u.push("iconify--"+i.prefix),i.provider!==""&&u.push("iconify--"+i.provider),{data:c,classes:u}}function xa(n,t){return n?Xa({..._n,...n},t):null}function vl(n){let t;function e(o,i){return o[0].svg?ec:$a}let l=e(n),s=l(n);return{c(){s.c(),t=Xe()},m(o,i){s.m(o,i),R(o,t,i)},p(o,i){l===(l=e(o))&&s?s.p(o,i):(s.d(1),s=l(o),s&&(s.c(),s.m(t.parentNode,t)))},d(o){o&&z(t),s.d(o)}}}function $a(n){let t,e=[n[0].attributes],l={};for(let s=0;s<e.length;s+=1)l=an(l,e[s]);return{c(){t=p("span"),al(t,l)},m(s,o){R(s,t,o)},p(s,o){al(t,l=Fo(e,[o&1&&s[0].attributes]))},d(s){s&&z(t)}}}function ec(n){let t,e=n[0].body+"",l=[n[0].attributes],s={};for(let o=0;o<l.length;o+=1)s=an(s,l[o]);return{c(){t=$e("svg"),cl(t,s)},m(o,i){R(o,t,i),t.innerHTML=e},p(o,i){i&1&&e!==(e=o[0].body+"")&&(t.innerHTML=e),cl(t,s=Fo(l,[i&1&&o[0].attributes]))},d(o){o&&z(t)}}}function tc(n){let t,e=n[0]&&vl(n);return{c(){e&&e.c(),t=Xe()},m(l,s){e&&e.m(l,s),R(l,t,s)},p(l,[s]){l[0]?e?e.p(l,s):(e=vl(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:se,o:se,d(l){l&&z(t),e&&e.d(l)}}}function nc(n,t,e){const l={name:"",loading:null,destroyed:!1};let s=!1,o=0,i;const c=f=>{typeof t.onLoad=="function"&&t.onLoad(f),pt()("load",{icon:f})};function u(){e(3,o++,o)}return _t(()=>{e(2,s=!0)}),yr(()=>{e(1,l.destroyed=!0,l),l.loading&&(l.loading.abort(),e(1,l.loading=null,l))}),n.$$set=f=>{e(6,t=an(an({},t),rl(f)))},n.$$.update=()=>{{const f=!!t.ssr||s,d=Ja(t.icon,l,f,u,c);e(0,i=d?xa(d.data,t):null),i&&d.classes&&e(0,i.attributes.class=(typeof t.class=="string"?t.class+" ":"")+d.classes.join(" "),i)}},t=rl(t),[i,l,s,o]}class Ve extends tt{constructor(t){super(),et(this,t,nc,tc,Je,{})}}const{window:lc}=gr;function wl(n,t,e){const l=n.slice();return l[19]=t[e],l}function yl(n){let t;return{c(){t=p("div"),t.innerHTML='<span class="logo svelte-x1p4oq">IPAM</span>',a(t,"class","brand svelte-x1p4oq")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function sc(n){let t;return{c(){t=p("span"),t.textContent=`${n[19].label}`,a(t,"class","nav-tooltip svelte-x1p4oq"),a(t,"role","tooltip")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function oc(n){let t;return{c(){t=p("span"),t.textContent=`${n[19].label}`,a(t,"class","label svelte-x1p4oq")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Cl(n){let t,e,l,s,o,i,c,u,f;s=new Ve({props:{icon:n[19].icon,width:"1.25em",height:"1.25em"}});function d(g,y){if(!g[2])return oc;if(g[4]===g[19].label)return sc}let h=d(n),m=h&&h(n);function b(){return n[11](n[19])}function v(){return n[12](n[19])}return{c(){t=p("li"),e=p("button"),l=p("span"),Ie(s.$$.fragment),o=I(),m&&m.c(),a(l,"class","icon svelte-x1p4oq"),a(e,"class","link svelte-x1p4oq"),a(e,"data-tour","tour-nav-"+n[19].id),a(e,"title",i=n[2]?n[19].label:""),a(e,"aria-label",n[19].label),be(e,"active",n[0]===n[19].id)},m(g,y){R(g,t,y),r(t,e),r(e,l),ye(s,l,null),r(e,o),m&&m.m(e,null),c=!0,u||(f=[W(e,"click",b),W(e,"mouseenter",v),W(e,"mouseleave",n[13])],u=!0)},p(g,y){n=g,h===(h=d(n))&&m?m.p(n,y):(m&&m.d(1),m=h&&h(n),m&&(m.c(),m.m(e,null))),(!c||y&4&&i!==(i=n[2]?n[19].label:""))&&a(e,"title",i),(!c||y&1025)&&be(e,"active",n[0]===n[19].id)},i(g){c||(Z(s.$$.fragment,g),c=!0)},o(g){Y(s.$$.fragment,g),c=!1},d(g){g&&z(t),Ce(s),m&&m.d(),u=!1,_e(f)}}}function Sl(n){let t,e,l,s,o,i,c,u,f;s=new Ve({props:{icon:"lucide:shield",width:"1.25em",height:"1.25em"}});function d(b,v){if(!b[2])return rc;if(b[4]==="Admin")return ic}let h=d(n),m=h&&h(n);return{c(){t=p("li"),e=p("button"),l=p("span"),Ie(s.$$.fragment),o=I(),m&&m.c(),a(l,"class","icon svelte-x1p4oq"),a(e,"class","link svelte-x1p4oq"),a(e,"data-tour","tour-nav-admin"),a(e,"title",i=n[2]?"Admin":""),a(e,"aria-label","Admin"),be(e,"active",n[0]==="admin")},m(b,v){R(b,t,v),r(t,e),r(e,l),ye(s,l,null),r(e,o),m&&m.m(e,null),c=!0,u||(f=[W(e,"click",n[14]),W(e,"mouseenter",n[15]),W(e,"mouseleave",n[16])],u=!0)},p(b,v){h!==(h=d(b))&&(m&&m.d(1),m=h&&h(b),m&&(m.c(),m.m(e,null))),(!c||v&4&&i!==(i=b[2]?"Admin":""))&&a(e,"title",i),(!c||v&1)&&be(e,"active",b[0]==="admin")},i(b){c||(Z(s.$$.fragment,b),c=!0)},o(b){Y(s.$$.fragment,b),c=!1},d(b){b&&z(t),Ce(s),m&&m.d(),u=!1,_e(f)}}}function ic(n){let t;return{c(){t=p("span"),t.textContent="Admin",a(t,"class","nav-tooltip svelte-x1p4oq"),a(t,"role","tooltip")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function rc(n){let t;return{c(){t=p("span"),t.textContent="Admin",a(t,"class","label svelte-x1p4oq")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function Il(n){let t;return{c(){t=p("span"),t.textContent="Collapse",a(t,"class","collapse-label svelte-x1p4oq")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function ql(n){let t;return{c(){t=p("span"),t.textContent="Settings",a(t,"class","settings-label svelte-x1p4oq")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function El(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g;const y=[cc,ac],w=[];function _(C,k){return C[5]==="dark"?0:1}return c=_(n),u=w[c]=y[c](n),h=new Ve({props:{icon:"lucide:log-out",width:"1em",height:"1em"}}),{c(){t=p("div"),e=p("a"),e.textContent="User guide",l=I(),s=p("a"),s.textContent="API docs",o=I(),i=p("button"),u.c(),f=I(),d=p("button"),Ie(h.$$.fragment),m=D(" Sign out"),a(e,"href","#docs"),a(e,"class","settings-item svelte-x1p4oq"),a(e,"role","menuitem"),a(s,"href","/docs"),a(s,"target","_blank"),a(s,"rel","noopener noreferrer"),a(s,"class","settings-item svelte-x1p4oq"),a(s,"role","menuitem"),a(i,"type","button"),a(i,"class","settings-item svelte-x1p4oq"),a(i,"role","menuitem"),a(d,"type","button"),a(d,"class","settings-item svelte-x1p4oq"),a(d,"role","menuitem"),a(t,"class","settings-popover svelte-x1p4oq"),a(t,"role","menu")},m(C,k){R(C,t,k),r(t,e),r(t,l),r(t,s),r(t,o),r(t,i),w[c].m(i,null),r(t,f),r(t,d),ye(h,d,null),r(d,m),b=!0,v||(g=[W(i,"click",n[8]),W(d,"click",n[18])],v=!0)},p(C,k){let q=c;c=_(C),c!==q&&(Re(),Y(w[q],1,1,()=>{w[q]=null}),De(),u=w[c],u||(u=w[c]=y[c](C),u.c()),Z(u,1),u.m(i,null))},i(C){b||(Z(u),Z(h.$$.fragment,C),b=!0)},o(C){Y(u),Y(h.$$.fragment,C),b=!1},d(C){C&&z(t),w[c].d(),Ce(h),v=!1,_e(g)}}}function ac(n){let t,e,l;return t=new Ve({props:{icon:"lucide:moon",width:"1em",height:"1em"}}),{c(){Ie(t.$$.fragment),e=D(" Dark mode")},m(s,o){ye(t,s,o),R(s,e,o),l=!0},i(s){l||(Z(t.$$.fragment,s),l=!0)},o(s){Y(t.$$.fragment,s),l=!1},d(s){s&&z(e),Ce(t,s)}}}function cc(n){let t,e,l;return t=new Ve({props:{icon:"lucide:sun",width:"1em",height:"1em"}}),{c(){Ie(t.$$.fragment),e=D(" Light mode")},m(s,o){ye(t,s,o),R(s,e,o),l=!0},i(s){l||(Z(t.$$.fragment,s),l=!0)},o(s){Y(t.$$.fragment,s),l=!1},d(s){s&&z(e),Ce(t,s)}}}function uc(n){var O;let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T=!n[2]&&yl(),M=Ee(n[10]),A=[];for(let L=0;L<M.length;L+=1)A[L]=Cl(wl(n,M,L));const F=L=>Y(A[L],1,1,()=>{A[L]=null});let Q=((O=n[1])==null?void 0:O.role)==="admin"&&Sl(n);f=new Ve({props:{icon:n[2]?"lucide:chevron-right":"lucide:chevron-left",width:"1em",height:"1em"}});let B=!n[2]&&Il();w=new Ve({props:{icon:"lucide:settings",width:"1.25em",height:"1.25em"}});let U=!n[2]&&ql(),N=n[3]&&El(n);return{c(){t=p("nav"),T&&T.c(),e=I(),l=p("ul");for(let L=0;L<A.length;L+=1)A[L].c();s=I(),Q&&Q.c(),o=I(),i=p("div"),c=p("button"),u=p("span"),Ie(f.$$.fragment),d=I(),B&&B.c(),b=I(),v=p("div"),g=p("button"),y=p("span"),Ie(w.$$.fragment),_=I(),U&&U.c(),C=I(),N&&N.c(),a(l,"class","links svelte-x1p4oq"),a(u,"class","collapse-icon svelte-x1p4oq"),a(u,"aria-hidden","true"),a(c,"type","button"),a(c,"class","collapse-btn svelte-x1p4oq"),a(c,"title",h=n[2]?"Expand sidebar":"Collapse sidebar"),a(c,"aria-label",m=n[2]?"Expand sidebar":"Collapse sidebar"),a(y,"class","settings-icon svelte-x1p4oq"),a(y,"aria-hidden","true"),a(g,"type","button"),a(g,"class","settings-trigger svelte-x1p4oq"),a(g,"data-tour","tour-nav-settings"),a(g,"title","Settings"),a(g,"aria-label","Settings"),a(g,"aria-expanded",n[3]),a(g,"aria-haspopup","true"),a(v,"class","settings-area svelte-x1p4oq"),a(i,"class","nav-footer svelte-x1p4oq"),a(t,"class","nav svelte-x1p4oq"),be(t,"collapsed",n[2])},m(L,H){R(L,t,H),T&&T.m(t,null),r(t,e),r(t,l);for(let G=0;G<A.length;G+=1)A[G]&&A[G].m(l,null);r(l,s),Q&&Q.m(l,null),r(t,o),r(t,i),r(i,c),r(c,u),ye(f,u,null),r(c,d),B&&B.m(c,null),r(i,b),r(i,v),r(v,g),r(g,y),ye(w,y,null),r(g,_),U&&U.m(g,null),r(v,C),N&&N.m(v,null),k=!0,q||(S=[W(lc,"click",n[9]),W(c,"click",n[7]),W(g,"click",n[17])],q=!0)},p(L,[H]){var E;if(L[2]?T&&(T.d(1),T=null):T||(T=yl(),T.c(),T.m(t,e)),H&1109){M=Ee(L[10]);let P;for(P=0;P<M.length;P+=1){const j=wl(L,M,P);A[P]?(A[P].p(j,H),Z(A[P],1)):(A[P]=Cl(j),A[P].c(),Z(A[P],1),A[P].m(l,s))}for(Re(),P=M.length;P<A.length;P+=1)F(P);De()}((E=L[1])==null?void 0:E.role)==="admin"?Q?(Q.p(L,H),H&2&&Z(Q,1)):(Q=Sl(L),Q.c(),Z(Q,1),Q.m(l,null)):Q&&(Re(),Y(Q,1,1,()=>{Q=null}),De());const G={};H&4&&(G.icon=L[2]?"lucide:chevron-right":"lucide:chevron-left"),f.$set(G),L[2]?B&&(B.d(1),B=null):B||(B=Il(),B.c(),B.m(c,null)),(!k||H&4&&h!==(h=L[2]?"Expand sidebar":"Collapse sidebar"))&&a(c,"title",h),(!k||H&4&&m!==(m=L[2]?"Expand sidebar":"Collapse sidebar"))&&a(c,"aria-label",m),L[2]?U&&(U.d(1),U=null):U||(U=ql(),U.c(),U.m(g,null)),(!k||H&8)&&a(g,"aria-expanded",L[3]),L[3]?N?(N.p(L,H),H&8&&Z(N,1)):(N=El(L),N.c(),Z(N,1),N.m(v,null)):N&&(Re(),Y(N,1,1,()=>{N=null}),De()),(!k||H&4)&&be(t,"collapsed",L[2])},i(L){if(!k){for(let H=0;H<M.length;H+=1)Z(A[H]);Z(Q),Z(f.$$.fragment,L),Z(w.$$.fragment,L),Z(N),k=!0}},o(L){A=A.filter(Boolean);for(let H=0;H<A.length;H+=1)Y(A[H]);Y(Q),Y(f.$$.fragment,L),Y(w.$$.fragment,L),Y(N),k=!1},d(L){L&&z(t),T&&T.d(),Ke(A,L),Q&&Q.d(),Ce(f),B&&B.d(),Ce(w),U&&U.d(),N&&N.d(),q=!1,_e(S)}}}const Tl="ipam-nav-collapsed";function fc(n,t,e){let l;ln(n,Pn,S=>e(5,l=S));let{current:s="dashboard"}=t,{currentUser:o=null}=t;const i=pt();let c=!1,u=!1;if(typeof window<"u")try{c=localStorage.getItem(Tl)==="true"}catch{}function f(){e(2,c=!c);try{localStorage.setItem(Tl,String(c))}catch{}}function d(){Pn.set(l==="dark"?"light":"dark")}function h(S){u&&S.target&&!S.target.closest(".settings-area")&&e(3,u=!1)}const m=[{id:"dashboard",label:"Dashboard",icon:"lucide:layout-dashboard"},{id:"environments",label:"Environments",icon:"lucide:layers"},{id:"networks",label:"Networks",icon:"lucide:network"}];let b=null;const v=S=>i("nav",S.id),g=S=>e(4,b=c?S.label:null),y=()=>e(4,b=null),w=()=>i("nav","admin"),_=()=>e(4,b=c?"Admin":null),C=()=>e(4,b=null),k=()=>e(3,u=!u),q=()=>{i("logout"),e(3,u=!1)};return n.$$set=S=>{"current"in S&&e(0,s=S.current),"currentUser"in S&&e(1,o=S.currentUser)},[s,o,c,u,b,l,i,f,d,h,m,v,g,y,w,_,C,k,q]}class dc extends tt{constructor(t){super(),et(this,t,fc,uc,Je,{current:0,currentUser:1})}}function Al(n,t,e){const l=n.slice();return l[28]=t[e],l[30]=e,l}function Pl(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M,A;o=new Ve({props:{icon:"lucide:command",width:"1rem",height:"1rem"}});function F(U,N){return U[6]?mc:U[5].length===0?hc:pc}let Q=F(n),B=Q(n);return y=new Ve({props:{icon:"lucide:chevron-up",width:"0.75em",height:"0.75em",inline:!0}}),_=new Ve({props:{icon:"lucide:chevron-down",width:"0.75em",height:"0.75em",inline:!0}}),{c(){t=p("div"),e=p("div"),l=p("div"),s=p("span"),Ie(o.$$.fragment),i=I(),c=p("input"),u=I(),f=p("div"),B.c(),d=I(),h=p("div"),m=p("span"),m.textContent="Search: environments, blocks, allocations",b=I(),v=p("span"),g=p("kbd"),Ie(y.$$.fragment),w=p("kbd"),Ie(_.$$.fragment),C=I(),k=p("kbd"),k.textContent="↵",q=I(),S=p("kbd"),S.textContent="Esc",a(s,"class","palette-icon svelte-1ayy3de"),a(s,"aria-hidden","true"),a(c,"type","text"),a(c,"class","palette-input svelte-1ayy3de"),a(c,"placeholder","Search environments, blocks, allocations or run a command…"),a(l,"class","palette-header svelte-1ayy3de"),a(f,"class","palette-list svelte-1ayy3de"),a(f,"role","listbox"),a(g,"class","svelte-1ayy3de"),a(w,"class","svelte-1ayy3de"),a(k,"class","svelte-1ayy3de"),a(S,"class","svelte-1ayy3de"),a(h,"class","palette-footer svelte-1ayy3de"),a(e,"class","palette svelte-1ayy3de"),a(t,"class","backdrop svelte-1ayy3de"),a(t,"role","dialog"),a(t,"aria-modal","true"),a(t,"aria-label","Command palette")},m(U,N){R(U,t,N),r(t,e),r(e,l),r(l,s),ye(o,s,null),r(l,i),r(l,c),n[18](c),fe(c,n[1]),r(e,u),r(e,f),B.m(f,null),n[22](f),r(e,d),r(e,h),r(h,m),r(h,b),r(h,v),r(v,g),ye(y,g,null),r(v,w),ye(_,w,null),r(v,C),r(v,k),r(v,q),r(v,S),T=!0,M||(A=[W(c,"input",n[19]),W(c,"input",n[7]),W(e,"click",Ye(n[17])),W(t,"click",n[10])],M=!0)},p(U,N){N&2&&c.value!==U[1]&&fe(c,U[1]),Q===(Q=F(U))&&B?B.p(U,N):(B.d(1),B=Q(U),B&&(B.c(),B.m(f,null)))},i(U){T||(Z(o.$$.fragment,U),Z(y.$$.fragment,U),Z(_.$$.fragment,U),T=!0)},o(U){Y(o.$$.fragment,U),Y(y.$$.fragment,U),Y(_.$$.fragment,U),T=!1},d(U){U&&z(t),Ce(o),n[18](null),B.d(),n[22](null),Ce(y),Ce(_),M=!1,_e(A)}}}function pc(n){let t,e=Ee(n[5]),l=[];for(let s=0;s<e.length;s+=1)l[s]=zl(Al(n,e,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=Xe()},m(s,o){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(s,o);R(s,t,o)},p(s,o){if(o&292){e=Ee(s[5]);let i;for(i=0;i<e.length;i+=1){const c=Al(s,e,i);l[i]?l[i].p(c,o):(l[i]=zl(c),l[i].c(),l[i].m(t.parentNode,t))}for(;i<l.length;i+=1)l[i].d(1);l.length=e.length}},d(s){s&&z(t),Ke(l,s)}}}function hc(n){let t;return{c(){t=p("div"),t.textContent="No results",a(t,"class","palette-item palette-item-muted svelte-1ayy3de")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function mc(n){let t;return{c(){t=p("div"),t.textContent="Searching…",a(t,"class","palette-item palette-item-muted svelte-1ayy3de")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Ll(n){let t,e=n[28].meta+"",l;return{c(){t=p("span"),l=D(e),a(t,"class","palette-item-meta svelte-1ayy3de")},m(s,o){R(s,t,o),r(t,l)},p(s,o){o&32&&e!==(e=s[28].meta+"")&&V(l,e)},d(s){s&&z(t)}}}function zl(n){let t,e,l=n[28].label+"",s,o,i,c,u,f,d=n[28].meta&&Ll(n);function h(){return n[20](n[28])}function m(){return n[21](n[30])}return{c(){t=p("button"),e=p("span"),s=D(l),o=I(),d&&d.c(),i=I(),a(e,"class","palette-item-label svelte-1ayy3de"),a(t,"type","button"),a(t,"class","palette-item svelte-1ayy3de"),a(t,"role","option"),a(t,"aria-selected",c=n[30]===n[2]),be(t,"selected",n[30]===n[2])},m(b,v){R(b,t,v),r(t,e),r(e,s),r(t,o),d&&d.m(t,null),r(t,i),u||(f=[W(t,"click",h),W(t,"mouseenter",m)],u=!0)},p(b,v){n=b,v&32&&l!==(l=n[28].label+"")&&V(s,l),n[28].meta?d?d.p(n,v):(d=Ll(n),d.c(),d.m(t,i)):d&&(d.d(1),d=null),v&4&&c!==(c=n[30]===n[2])&&a(t,"aria-selected",c),v&4&&be(t,"selected",n[30]===n[2])},d(b){b&&z(t),d&&d.d(),u=!1,_e(f)}}}function bc(n){let t,e,l,s,o=n[0]&&Pl(n);return{c(){o&&o.c(),t=Xe()},m(i,c){o&&o.m(i,c),R(i,t,c),e=!0,l||(s=W(window,"keydown",n[9]),l=!0)},p(i,[c]){i[0]?o?(o.p(i,c),c&1&&Z(o,1)):(o=Pl(i),o.c(),Z(o,1),o.m(t.parentNode,t)):o&&(Re(),Y(o,1,1,()=>{o=null}),De())},i(i){e||(Z(o),e=!0)},o(i){Y(o),e=!1},d(i){i&&z(t),o&&o.d(i),l=!1,s()}}}function gc(n,t){return t?n.label.toLowerCase().includes(t)||n.keywords&&n.keywords.includes(t):!0}function _c(n,t,e){let l,s,o,i,{open:c=!1}=t,{currentRoute:u="dashboard"}=t,{currentUser:f=null}=t;const d=pt(),h=[{type:"nav",id:"dashboard",label:"Go to Dashboard",keywords:"dashboard home"},{type:"nav",id:"environments",label:"Go to Environments",keywords:"environments envs"},{type:"nav",id:"networks",label:"Go to Networks",keywords:"networks blocks allocations"},{type:"nav",id:"docs",label:"Go to Docs",keywords:"docs documentation guide"},{type:"create",id:"create-env",label:"Create environment",keywords:"new environment"},{type:"create",id:"create-block",label:"Create network block",keywords:"new block"},{type:"create",id:"create-alloc",label:"Create allocation",keywords:"new allocation"}];let m="",b=[],v=!1,g=0,y;async function w(){const O=s;if(O.length<1){e(13,b=[]);return}e(6,v=!0),e(13,b=[]);try{const[L,H,G]=await Promise.all([bn({name:O,limit:5,offset:0}),Fn({name:O,limit:5,offset:0}),Vt({name:O,limit:5,offset:0})]),E=[];(L.environments||[]).forEach(P=>{E.push({type:"search-env",id:P.id,label:P.name,meta:"Environment",payload:P})}),(H.blocks||[]).forEach(P=>{E.push({type:"search-block",id:P.id,label:P.name,meta:"Block",payload:P})}),(G.allocations||[]).forEach(P=>{E.push({type:"search-alloc",id:P.id,label:P.name,meta:P.block_name?`Allocation · ${P.block_name}`:"Allocation",payload:P})}),e(13,b=E)}catch{e(13,b=[])}finally{e(6,v=!1)}}let _,C;function k(){clearTimeout(C),C=setTimeout(w,200)}function q(O){O.type==="nav"?d("navigate",{path:O.id}):O.type==="create"?d("create",{action:O.id}):O.type==="search-env"?d("navigate",{path:"environments",environmentId:O.payload.id}):O.type==="search-block"?d("navigate",{path:"networks",block:O.payload.name}):O.type==="search-alloc"&&d("navigate",{path:"networks",block:O.payload.block_name}),S()}function S(){e(1,m=""),e(13,b=[]),e(2,g=0),d("close")}function T(O){if(c){if(O.key==="Escape"){O.preventDefault(),S();return}if(O.key==="ArrowDown"){O.preventDefault(),e(2,g=Math.min(g+1,i.length-1));return}if(O.key==="ArrowUp"){O.preventDefault(),e(2,g=Math.max(g-1,0));return}if(O.key==="Enter"&&i.length>0){O.preventDefault(),q(i[g]);return}}}function M(O){O.target===O.currentTarget&&S()}function A(O){Pt.call(this,n,O)}function F(O){rt[O?"unshift":"push"](()=>{y=O,e(3,y)})}function Q(){m=this.value,e(1,m)}const B=O=>q(O),U=O=>e(2,g=O);function N(O){rt[O?"unshift":"push"](()=>{_=O,e(4,_)})}return n.$$set=O=>{"open"in O&&e(0,c=O.open),"currentRoute"in O&&e(11,u=O.currentRoute),"currentUser"in O&&e(12,f=O.currentUser)},n.$$.update=()=>{n.$$.dirty&4096&&e(16,l=(f==null?void 0:f.role)==="admin"?[...h,{type:"nav",id:"admin",label:"Go to Admin",keywords:"admin users"}]:h),n.$$.dirty&2&&e(14,s=(m||"").trim().toLowerCase()),n.$$.dirty&81920&&e(15,o=s?l.filter(O=>gc(O,s)):l),n.$$.dirty&40960&&e(5,i=[...b,...o]),n.$$.dirty&37&&c&&i.length>0&&g>=i.length&&e(2,g=i.length-1),n.$$.dirty&1&&(c||e(2,g=0)),n.$$.dirty&53&&c&&i.length>0&&g>=0&&setTimeout(()=>{const O=_==null?void 0:_.querySelector('[aria-selected="true"]');O==null||O.scrollIntoView({block:"nearest"})},0),n.$$.dirty&9&&c&&y&&setTimeout(()=>y==null?void 0:y.focus(),0)},[c,m,g,y,_,i,v,k,q,T,M,u,f,b,s,o,l,A,F,Q,B,U,N]}class kc extends tt{constructor(t){super(),et(this,t,_c,bc,Je,{open:0,currentRoute:11,currentUser:12})}}function Rl(n){var L,H;let t,e,l,s,o=((L=n[3])==null?void 0:L.title)+"",i,c,u,f=((H=n[3])==null?void 0:H.body)+"",d,h,m,b,v,g,y,w,_,C=n[2]+1+"",k,q,S,T,M;function A(G,E){return G[5]?wc:vc}let F=A(n),Q=F(n),B=!n[7]&&Dl(n);function U(G,E){return G[8]?Cc:yc}let N=U(n),O=N(n);return{c(){t=p("div"),Q.c(),e=I(),l=p("div"),s=p("h2"),i=D(o),c=I(),u=p("p"),d=D(f),h=I(),m=p("div"),b=p("button"),b.textContent="Skip",v=I(),g=p("div"),B&&B.c(),y=I(),O.c(),w=I(),_=p("div"),k=D(C),q=D(" / "),S=D(n[4]),a(s,"id","tour-title"),a(s,"class","tour-title svelte-1ld8za1"),a(u,"id","tour-body"),a(u,"class","tour-body svelte-1ld8za1"),a(b,"type","button"),a(b,"class","tour-skip svelte-1ld8za1"),a(g,"class","tour-nav svelte-1ld8za1"),a(m,"class","tour-actions svelte-1ld8za1"),a(_,"class","tour-progress svelte-1ld8za1"),a(_,"aria-hidden","true"),a(l,"class","tour-tooltip svelte-1ld8za1"),pe(l,"top",n[6].top+"px"),pe(l,"left",n[6].left+"px"),be(l,"tooltip-center",n[6].placement==="center"),a(t,"class","tour-overlay svelte-1ld8za1"),a(t,"role","dialog"),a(t,"aria-modal","true"),a(t,"aria-labelledby","tour-title"),a(t,"aria-describedby","tour-body")},m(G,E){R(G,t,E),Q.m(t,null),r(t,e),r(t,l),r(l,s),r(s,i),r(l,c),r(l,u),r(u,d),r(l,h),r(l,m),r(m,b),r(m,v),r(m,g),B&&B.m(g,null),r(g,y),O.m(g,null),r(l,w),r(l,_),r(_,k),r(_,q),r(_,S),T||(M=W(b,"click",n[11]),T=!0)},p(G,E){var P,j;F===(F=A(G))&&Q?Q.p(G,E):(Q.d(1),Q=F(G),Q&&(Q.c(),Q.m(t,e))),E&8&&o!==(o=((P=G[3])==null?void 0:P.title)+"")&&V(i,o),E&8&&f!==(f=((j=G[3])==null?void 0:j.body)+"")&&V(d,f),G[7]?B&&(B.d(1),B=null):B?B.p(G,E):(B=Dl(G),B.c(),B.m(g,y)),N===(N=U(G))&&O?O.p(G,E):(O.d(1),O=N(G),O&&(O.c(),O.m(g,null))),E&4&&C!==(C=G[2]+1+"")&&V(k,C),E&16&&V(S,G[4]),E&64&&pe(l,"top",G[6].top+"px"),E&64&&pe(l,"left",G[6].left+"px"),E&64&&be(l,"tooltip-center",G[6].placement==="center")},d(G){G&&z(t),Q.d(),B&&B.d(),O.d(),T=!1,M()}}}function vc(n){let t;return{c(){t=p("div"),a(t,"class","tour-spotlight tour-spotlight-center svelte-1ld8za1"),a(t,"aria-hidden","true")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function wc(n){let t;return{c(){t=p("div"),a(t,"class","tour-spotlight svelte-1ld8za1"),pe(t,"top",n[5].top+"px"),pe(t,"left",n[5].left+"px"),pe(t,"width",n[5].width+"px"),pe(t,"height",n[5].height+"px"),a(t,"aria-hidden","true")},m(e,l){R(e,t,l)},p(e,l){l&32&&pe(t,"top",e[5].top+"px"),l&32&&pe(t,"left",e[5].left+"px"),l&32&&pe(t,"width",e[5].width+"px"),l&32&&pe(t,"height",e[5].height+"px")},d(e){e&&z(t)}}}function Dl(n){let t,e,l;return{c(){t=p("button"),t.textContent="Back",a(t,"type","button"),a(t,"class","tour-back svelte-1ld8za1")},m(s,o){R(s,t,o),e||(l=W(t,"click",n[10]),e=!0)},p:se,d(s){s&&z(t),e=!1,l()}}}function yc(n){let t,e,l;return{c(){t=p("button"),t.textContent="Next",a(t,"type","button"),a(t,"class","tour-next svelte-1ld8za1")},m(s,o){R(s,t,o),e||(l=W(t,"click",n[9]),e=!0)},p:se,d(s){s&&z(t),e=!1,l()}}}function Cc(n){let t,e,l;return{c(){t=p("button"),t.textContent="Done",a(t,"type","button"),a(t,"class","tour-next tour-done svelte-1ld8za1")},m(s,o){R(s,t,o),e||(l=W(t,"click",n[12]),e=!0)},p:se,d(s){s&&z(t),e=!1,l()}}}function Sc(n){let t,e=n[1]&&n[0].length>0&&Rl(n);return{c(){e&&e.c(),t=Xe()},m(l,s){e&&e.m(l,s),R(l,t,s)},p(l,[s]){l[1]&&l[0].length>0?e?e.p(l,s):(e=Rl(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:se,o:se,d(l){l&&z(t),e&&e.d(l)}}}function Ic(n,t,e){let l,s,o,i,{steps:c=[]}=t,{open:u=!1}=t,{currentStep:f=0}=t;const d=pt();let h=null,m={top:0,left:0,placement:"bottom"};async function b(){if(await Cr(),!l){e(5,h=null);return}const _=l.targetId;if(!_){e(5,h=null);const F={top:window.innerHeight/2,left:window.innerWidth/2,width:0,height:0};e(6,m={...F,placement:"center"});return}const C=document.querySelector(`[data-tour="${_}"]`);if(!C){e(5,h=null),e(6,m={top:100,left:50,placement:"center"});return}const k=C.getBoundingClientRect();e(5,h={top:k.top,left:k.left,width:k.width,height:k.height});const q=16,S=280,T=220,M=window.innerHeight-k.bottom,A=k.top;M>=120||M>=A?e(6,m={top:k.bottom+q,left:k.left+Math.max(0,(k.width-S)/2),placement:"bottom"}):e(6,m={top:k.top-q-T,left:k.left+Math.max(0,(k.width-S)/2),placement:"top"}),m.left+S>window.innerWidth-16&&e(6,m.left=window.innerWidth-S-16,m),m.left<16&&e(6,m.left=16,m),m.top+T>window.innerHeight-16&&e(6,m.top=window.innerHeight-T-16,m),m.top<16&&e(6,m.top=16,m)}function v(){if(i){d("done");return}d("step",{index:f+1})}function g(){o||d("step",{index:f-1})}function y(){d("skip")}function w(){d("done")}return n.$$set=_=>{"steps"in _&&e(0,c=_.steps),"open"in _&&e(1,u=_.open),"currentStep"in _&&e(2,f=_.currentStep)},n.$$.update=()=>{n.$$.dirty&5&&e(3,l=c[f]||null),n.$$.dirty&1&&e(4,s=c.length),n.$$.dirty&4&&e(7,o=f===0),n.$$.dirty&20&&e(8,i=f===s-1),n.$$.dirty&10&&u&&l&&b()},[c,u,f,l,s,h,m,o,i,v,g,y,w]}class qc extends tt{constructor(t){super(),et(this,t,Ic,Sc,Je,{steps:0,open:1,currentStep:2})}}const Ec=[{id:"welcome",targetId:null,title:"Welcome to IPAM",body:"This short tour will show you the main areas of the app. You can skip anytime."},{id:"nav-dashboard",targetId:"tour-nav-dashboard",title:"Dashboard",body:"View block utilization, resource stats, and quick links to environments and networks."},{id:"nav-environments",targetId:"tour-nav-environments",title:"Environments",body:"Create and manage environments (e.g. production, staging). Each environment can have multiple blocks."},{id:"nav-networks",targetId:"tour-nav-networks",title:"Networks",body:"Browse blocks and allocations, filter by environment, and create new blocks or IP allocations."},{id:"command-palette",targetId:"tour-command-palette",title:"Command palette",body:"Press ⌘K (or Ctrl+K) anytime to search and jump to environments, blocks, or create new resources."},{id:"nav-settings",targetId:"tour-nav-settings",title:"Settings",body:"Access the user guide, theme, and sign out."},{id:"done",targetId:null,title:"You're all set",body:"Explore the Dashboard and Networks to get started. Need help? Check the User guide in Settings."}];function Nl(n){let t,e,l,s,o,i,c,u,f,d,h;return{c(){t=p("div"),e=p("div"),l=p("h3"),l.textContent="Error",s=I(),o=p("p"),i=D(n[0]),c=I(),u=p("div"),f=p("button"),f.textContent="OK",a(l,"id","error-modal-title"),a(l,"class","svelte-1wlqf5w"),a(o,"id","error-modal-desc"),a(o,"class","error-modal-message svelte-1wlqf5w"),a(f,"type","button"),a(f,"class","svelte-1wlqf5w"),a(u,"class","error-modal-actions svelte-1wlqf5w"),a(e,"class","error-modal svelte-1wlqf5w"),a(t,"class","error-modal-backdrop svelte-1wlqf5w"),a(t,"role","alertdialog"),a(t,"aria-modal","true"),a(t,"aria-labelledby","error-modal-title"),a(t,"aria-describedby","error-modal-desc")},m(m,b){R(m,t,b),r(t,e),r(e,l),r(e,s),r(e,o),r(o,i),r(e,c),r(e,u),r(u,f),d||(h=[W(f,"click",n[3]),W(e,"click",Ye(n[2])),W(t,"click",n[4])],d=!0)},p(m,b){b&1&&V(i,m[0])},d(m){m&&z(t),d=!1,_e(h)}}}function Tc(n){let t,e=n[0]&&Nl(n);return{c(){e&&e.c(),t=Xe()},m(l,s){e&&e.m(l,s),R(l,t,s)},p(l,[s]){l[0]?e?e.p(l,s):(e=Nl(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:se,o:se,d(l){l&&z(t),e&&e.d(l)}}}function Ac(n,t,e){let{message:l=""}=t;const s=pt();function o(u){Pt.call(this,n,u)}const i=()=>s("close"),c=()=>s("close");return n.$$set=u=>{"message"in u&&e(0,l=u.message)},[l,s,o,i,c]}class Qn extends tt{constructor(t){super(),et(this,t,Ac,Tc,Je,{message:0})}}function Oe(n){if(!n||typeof n!="string")return null;const t=n.indexOf("/");if(t===-1)return null;const e=n.slice(0,t).trim(),l=parseInt(n.slice(t+1),10);if(isNaN(l)||l<0||l>32)return null;const s=e.split(".");if(s.length!==4)return null;let o=0;for(let u=0;u<4;u++){const f=parseInt(s[u],10);if(isNaN(f)||f<0||f>255)return null;o=o<<8|f}const i=Math.pow(2,32-l),c=o+i-1;return c>4294967295?null:{start:Ml(o),end:Ml(c)}}function Ml(n){return[n>>>24&255,n>>>16&255,n>>>8&255,n&255].join(".")}function Ol(n,t,e){const l=n.slice();return l[32]=t[e],l}function Bl(n,t,e){const l=n.slice();return l[35]=t[e],l}function Fl(n,t,e){const l=n.slice();return l[35]=t[e],l}function jl(n,t,e){const l=n.slice();return l[35]=t[e],l}function Ul(n,t,e){const l=n.slice();return l[42]=t[e],l[44]=e,l}function Hl(n,t,e){const l=n.slice();return l[45]=t[e],l}function Pc(n){let t,e,l,s,o=n[0].length+"",i,c,u,f,d,h,m=n[1].length+"",b,v,g,y,w,_,C=n[2].length+"",k,q,S,T,M,A,F=n[6].toLocaleString()+"",Q,B,U,N,O,L,H=n[5].toLocaleString()+"",G,E,P,j,J,oe,ne,ie,ke,le,ee,ce,Se,qe,he,Pe=n[12]>0&&Ql(n),X=n[1].length>0&&Wl(n),x=(n[0].length>0||n[1].length>0||n[2].length>0)&&Zl(n);function te(re,de){return re[0].length>0?Rc:zc}let Ge=te(n),We=Ge(n);return{c(){t=p("section"),e=p("div"),l=p("div"),s=p("span"),i=D(o),c=I(),u=p("span"),u.textContent="Environments",f=I(),d=p("div"),h=p("span"),b=D(m),v=I(),g=p("span"),g.textContent="Network blocks",y=I(),w=p("div"),_=p("span"),k=D(C),q=I(),S=p("span"),S.textContent="Allocations",T=I(),M=p("div"),A=p("span"),Q=D(F),B=I(),U=p("span"),U.textContent="Total IPs",N=I(),O=p("div"),L=p("span"),G=D(H),E=I(),P=p("span"),P.textContent="Used IPs",j=I(),J=p("div"),oe=p("span"),ne=D(n[13]),ie=D("%"),ke=I(),le=p("span"),le.textContent="Overall utilization",ee=I(),Pe&&Pe.c(),ce=I(),X&&X.c(),Se=I(),x&&x.c(),qe=I(),We.c(),he=Xe(),a(s,"class","stat-value svelte-14vff5k"),a(u,"class","stat-label svelte-14vff5k"),a(l,"class","stat-card svelte-14vff5k"),a(h,"class","stat-value svelte-14vff5k"),a(g,"class","stat-label svelte-14vff5k"),a(d,"class","stat-card svelte-14vff5k"),a(_,"class","stat-value svelte-14vff5k"),a(S,"class","stat-label svelte-14vff5k"),a(w,"class","stat-card svelte-14vff5k"),a(A,"class","stat-value svelte-14vff5k"),a(U,"class","stat-label svelte-14vff5k"),a(M,"class","stat-card svelte-14vff5k"),a(L,"class","stat-value svelte-14vff5k"),a(P,"class","stat-label svelte-14vff5k"),a(O,"class","stat-card svelte-14vff5k"),a(oe,"class","stat-value svelte-14vff5k"),a(le,"class","stat-label svelte-14vff5k"),a(J,"class","stat-card stat-card-accent svelte-14vff5k"),a(e,"class","stats-grid svelte-14vff5k"),a(t,"class","stats-section svelte-14vff5k")},m(re,de){R(re,t,de),r(t,e),r(e,l),r(l,s),r(s,i),r(l,c),r(l,u),r(e,f),r(e,d),r(d,h),r(h,b),r(d,v),r(d,g),r(e,y),r(e,w),r(w,_),r(_,k),r(w,q),r(w,S),r(e,T),r(e,M),r(M,A),r(A,Q),r(M,B),r(M,U),r(e,N),r(e,O),r(O,L),r(L,G),r(O,E),r(O,P),r(e,j),r(e,J),r(J,oe),r(oe,ne),r(oe,ie),r(J,ke),r(J,le),r(t,ee),Pe&&Pe.m(t,null),R(re,ce,de),X&&X.m(re,de),R(re,Se,de),x&&x.m(re,de),R(re,qe,de),We.m(re,de),R(re,he,de)},p(re,de){de[0]&1&&o!==(o=re[0].length+"")&&V(i,o),de[0]&2&&m!==(m=re[1].length+"")&&V(b,m),de[0]&4&&C!==(C=re[2].length+"")&&V(k,C),de[0]&64&&F!==(F=re[6].toLocaleString()+"")&&V(Q,F),de[0]&32&&H!==(H=re[5].toLocaleString()+"")&&V(G,H),de[0]&8192&&V(ne,re[13]),re[12]>0?Pe?Pe.p(re,de):(Pe=Ql(re),Pe.c(),Pe.m(t,null)):Pe&&(Pe.d(1),Pe=null),re[1].length>0?X?X.p(re,de):(X=Wl(re),X.c(),X.m(Se.parentNode,Se)):X&&(X.d(1),X=null),re[0].length>0||re[1].length>0||re[2].length>0?x?x.p(re,de):(x=Zl(re),x.c(),x.m(qe.parentNode,qe)):x&&(x.d(1),x=null),Ge===(Ge=te(re))&&We?We.p(re,de):(We.d(1),We=Ge(re),We&&(We.c(),We.m(he.parentNode,he)))},d(re){re&&(z(t),z(ce),z(Se),z(qe),z(he)),Pe&&Pe.d(),X&&X.d(re),x&&x.d(re),We.d(re)}}}function Lc(n){let t;return{c(){t=p("div"),t.textContent="Loading…",a(t,"class","loading svelte-14vff5k")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Ql(n){let t,e,l,s,o=n[12]===1?"":"s",i,c,u;return{c(){t=p("div"),e=p("span"),l=D(n[12]),s=D(" orphaned block"),i=D(o),c=I(),u=p("a"),u.textContent="View on Networks →",a(e,"class","orphaned-badge svelte-14vff5k"),a(u,"href","#networks?orphaned=1"),a(u,"class","orphaned-link svelte-14vff5k"),a(t,"class","orphaned-notice svelte-14vff5k")},m(f,d){R(f,t,d),r(t,e),r(e,l),r(e,s),r(e,i),r(t,c),r(t,u)},p(f,d){d[0]&4096&&V(l,f[12]),d[0]&4096&&o!==(o=f[12]===1?"":"s")&&V(i,o)},d(f){f&&z(t)}}}function Wl(n){let t,e,l,s,o=Ee(n[11]),i=[];for(let c=0;c<o.length;c+=1)i[c]=Gl(Hl(n,o,c));return{c(){t=p("section"),e=p("h2"),e.textContent="Block utilization",l=I(),s=p("div");for(let c=0;c<i.length;c+=1)i[c].c();a(e,"class","section-title svelte-14vff5k"),a(s,"class","chart svelte-14vff5k"),a(t,"class","chart-section svelte-14vff5k")},m(c,u){R(c,t,u),r(t,e),r(t,l),r(t,s);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(s,null)},p(c,u){if(u[0]&2048){o=Ee(c[11]);let f;for(f=0;f<o.length;f+=1){const d=Hl(c,o,f);i[f]?i[f].p(d,u):(i[f]=Gl(d),i[f].c(),i[f].m(s,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=o.length}},d(c){c&&z(t),Ke(i,c)}}}function Gl(n){let t,e,l=(n[45].name.length>20?n[45].name.slice(0,17)+"…":n[45].name)+"",s,o,i,c,u,f,d,h=ts(n[45])+"",m,b;return{c(){t=p("div"),e=p("span"),s=D(l),i=I(),c=p("div"),u=p("div"),f=I(),d=p("span"),m=D(h),b=I(),a(e,"class","chart-label svelte-14vff5k"),a(e,"title",o=n[45].name),a(u,"class","chart-bar svelte-14vff5k"),pe(u,"width",bt(n[45])+"%"),a(u,"role","presentation"),be(u,"high",bt(n[45])>=80),be(u,"mid",bt(n[45])>=50&&bt(n[45])<80),a(c,"class","chart-bar-wrap svelte-14vff5k"),a(d,"class","chart-pct svelte-14vff5k"),a(t,"class","chart-row svelte-14vff5k")},m(v,g){R(v,t,g),r(t,e),r(e,s),r(t,i),r(t,c),r(c,u),r(t,f),r(t,d),r(d,m),r(t,b)},p(v,g){g[0]&2048&&l!==(l=(v[45].name.length>20?v[45].name.slice(0,17)+"…":v[45].name)+"")&&V(s,l),g[0]&2048&&o!==(o=v[45].name)&&a(e,"title",o),g[0]&2048&&pe(u,"width",bt(v[45])+"%"),g[0]&2048&&be(u,"high",bt(v[45])>=80),g[0]&2048&&be(u,"mid",bt(v[45])>=50&&bt(v[45])<80),g[0]&2048&&h!==(h=ts(v[45])+"")&&V(m,h)},d(v){v&&z(t)}}}function Zl(n){let t,e,l,s,o,i,c,u,f,d=Ee(n[4].edges),h=[];for(let _=0;_<d.length;_+=1)h[_]=Vl(Ul(n,d,_));let m=Ee(n[4].envRows),b=[];for(let _=0;_<m.length;_+=1)b[_]=Kl(jl(n,m,_));let v=Ee(n[4].blockRows),g=[];for(let _=0;_<v.length;_+=1)g[_]=Xl(Fl(n,v,_));let y=Ee(n[4].allocRows),w=[];for(let _=0;_<y.length;_+=1)w[_]=xl(Bl(n,y,_));return{c(){t=p("section"),e=p("h2"),e.textContent="Resource graph",l=I(),s=p("div"),o=$e("svg");for(let _=0;_<h.length;_+=1)h[_].c();i=Xe();for(let _=0;_<b.length;_+=1)b[_].c();c=Xe();for(let _=0;_<g.length;_+=1)g[_].c();u=Xe();for(let _=0;_<w.length;_+=1)w[_].c();a(e,"class","section-title svelte-14vff5k"),a(o,"class","resource-graph svelte-14vff5k"),a(o,"viewBox",f="0 0 "+n[4].width+" "+n[4].height),a(o,"width","100%"),a(o,"preserveAspectRatio","xMidYMid meet"),a(s,"class","graph-wrap svelte-14vff5k"),a(t,"class","graph-section svelte-14vff5k")},m(_,C){R(_,t,C),r(t,e),r(t,l),r(t,s),r(s,o);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(o,null);r(o,i);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(o,null);r(o,c);for(let k=0;k<g.length;k+=1)g[k]&&g[k].m(o,null);r(o,u);for(let k=0;k<w.length;k+=1)w[k]&&w[k].m(o,null)},p(_,C){if(C[0]&1040){d=Ee(_[4].edges);let k;for(k=0;k<d.length;k+=1){const q=Ul(_,d,k);h[k]?h[k].p(q,C):(h[k]=Vl(q),h[k].c(),h[k].m(o,i))}for(;k<h.length;k+=1)h[k].d(1);h.length=d.length}if(C[0]&49176){m=Ee(_[4].envRows);let k;for(k=0;k<m.length;k+=1){const q=jl(_,m,k);b[k]?b[k].p(q,C):(b[k]=Kl(q),b[k].c(),b[k].m(o,c))}for(;k<b.length;k+=1)b[k].d(1);b.length=m.length}if(C[0]&49176){v=Ee(_[4].blockRows);let k;for(k=0;k<v.length;k+=1){const q=Fl(_,v,k);g[k]?g[k].p(q,C):(g[k]=Xl(q),g[k].c(),g[k].m(o,u))}for(;k<g.length;k+=1)g[k].d(1);g.length=v.length}if(C[0]&32792){y=Ee(_[4].allocRows);let k;for(k=0;k<y.length;k+=1){const q=Bl(_,y,k);w[k]?w[k].p(q,C):(w[k]=xl(q),w[k].c(),w[k].m(o,null))}for(;k<w.length;k+=1)w[k].d(1);w.length=y.length}C[0]&16&&f!==(f="0 0 "+_[4].width+" "+_[4].height)&&a(o,"viewBox",f)},d(_){_&&z(t),Ke(h,_),Ke(b,_),Ke(g,_),Ke(w,_)}}}function Vl(n){let t,e,l,s,o;return{c(){t=$e("line"),a(t,"x1",e=n[42].from.x),a(t,"y1",l=n[42].from.y),a(t,"x2",s=n[42].to.x),a(t,"y2",o=n[42].to.y),a(t,"class","graph-edge svelte-14vff5k"),be(t,"graph-edge-highlight",n[10].has(n[44]))},m(i,c){R(i,t,c)},p(i,c){c[0]&16&&e!==(e=i[42].from.x)&&a(t,"x1",e),c[0]&16&&l!==(l=i[42].from.y)&&a(t,"y1",l),c[0]&16&&s!==(s=i[42].to.x)&&a(t,"x2",s),c[0]&16&&o!==(o=i[42].to.y)&&a(t,"y2",o),c[0]&1024&&be(t,"graph-edge-highlight",i[10].has(i[44]))},d(i){i&&z(t)}}}function Kl(n){let t,e,l,s,o,i=n[35].name+"",c,u,f,d,h;function m(){return n[18](n[35])}function b(){return n[20](n[35])}function v(...g){return n[21](n[35],...g)}return{c(){t=$e("g"),e=$e("rect"),o=$e("text"),c=D(i),a(e,"class","graph-node graph-node-env svelte-14vff5k"),a(e,"x",l=n[35].x),a(e,"y",s=n[35].y),a(e,"width",n[15].nodeWidth),a(e,"height",n[15].nodeHeight),a(e,"rx","4"),be(e,"graph-node-orphaned",n[35].id==="orphaned"),a(o,"x",u=n[35].x+n[15].nodeWidth/2),a(o,"y",f=n[35].y+n[15].nodeHeight/2+1),a(o,"class","graph-label svelte-14vff5k"),a(o,"text-anchor","middle"),a(t,"class","graph-node-wrap svelte-14vff5k"),a(t,"role","button"),a(t,"tabindex","0")},m(g,y){R(g,t,y),r(t,e),r(t,o),r(o,c),d||(h=[W(t,"mouseenter",m),W(t,"mouseleave",n[19]),W(t,"click",b),W(t,"keydown",v)],d=!0)},p(g,y){n=g,y[0]&16&&l!==(l=n[35].x)&&a(e,"x",l),y[0]&16&&s!==(s=n[35].y)&&a(e,"y",s),y[0]&16&&be(e,"graph-node-orphaned",n[35].id==="orphaned"),y[0]&16&&i!==(i=n[35].name+"")&&V(c,i),y[0]&16&&u!==(u=n[35].x+n[15].nodeWidth/2)&&a(o,"x",u),y[0]&16&&f!==(f=n[35].y+n[15].nodeHeight/2+1)&&a(o,"y",f)},d(g){g&&z(t),d=!1,_e(h)}}}function Yl(n){let t,e=n[35].cidr+"",l,s,o=Oe(n[35].cidr).start+"",i,c,u=Oe(n[35].cidr).end+"",f;return{c(){t=$e("title"),l=D(e),s=D(" → "),i=D(o),c=D(" – "),f=D(u)},m(d,h){R(d,t,h),r(t,l),r(t,s),r(t,i),r(t,c),r(t,f)},p(d,h){h[0]&16&&e!==(e=d[35].cidr+"")&&V(l,e),h[0]&16&&o!==(o=Oe(d[35].cidr).start+"")&&V(i,o),h[0]&16&&u!==(u=Oe(d[35].cidr).end+"")&&V(f,u)},d(d){d&&z(t)}}}function Xl(n){let t,e,l,s,o,i=n[35].name+"",c,u,f,d,h=(n[35].cidr||"—")+"",m,b,v,g=n[35].cidr&&Oe(n[35].cidr),y,w,_=g&&Yl(n);function C(){return n[22](n[35])}function k(){return n[24](n[35])}function q(...S){return n[25](n[35],...S)}return{c(){t=$e("g"),e=$e("rect"),o=$e("text"),c=D(i),d=$e("text"),m=D(h),_&&_.c(),a(e,"class","graph-node graph-node-block svelte-14vff5k"),a(e,"x",l=n[35].x),a(e,"y",s=n[35].y),a(e,"width",n[15].nodeWidth),a(e,"height",n[15].nodeHeight),a(e,"rx","4"),a(o,"x",u=n[35].x+n[15].nodeWidth/2),a(o,"y",f=n[35].y+11),a(o,"class","graph-label svelte-14vff5k"),a(o,"text-anchor","middle"),a(d,"x",b=n[35].x+n[15].nodeWidth/2),a(d,"y",v=n[35].y+24),a(d,"class","graph-label graph-label-cidr svelte-14vff5k"),a(d,"text-anchor","middle"),a(t,"class","graph-node-wrap svelte-14vff5k"),a(t,"role","button"),a(t,"tabindex","0")},m(S,T){R(S,t,T),r(t,e),r(t,o),r(o,c),r(t,d),r(d,m),_&&_.m(t,null),y||(w=[W(t,"mouseenter",C),W(t,"mouseleave",n[23]),W(t,"click",k),W(t,"keydown",q)],y=!0)},p(S,T){n=S,T[0]&16&&l!==(l=n[35].x)&&a(e,"x",l),T[0]&16&&s!==(s=n[35].y)&&a(e,"y",s),T[0]&16&&i!==(i=n[35].name+"")&&V(c,i),T[0]&16&&u!==(u=n[35].x+n[15].nodeWidth/2)&&a(o,"x",u),T[0]&16&&f!==(f=n[35].y+11)&&a(o,"y",f),T[0]&16&&h!==(h=(n[35].cidr||"—")+"")&&V(m,h),T[0]&16&&b!==(b=n[35].x+n[15].nodeWidth/2)&&a(d,"x",b),T[0]&16&&v!==(v=n[35].y+24)&&a(d,"y",v),T[0]&16&&(g=n[35].cidr&&Oe(n[35].cidr)),g?_?_.p(n,T):(_=Yl(n),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},d(S){S&&z(t),_&&_.d(),y=!1,_e(w)}}}function Jl(n){let t,e=n[35].cidr+"",l,s,o=Oe(n[35].cidr).start+"",i,c,u=Oe(n[35].cidr).end+"",f;return{c(){t=$e("title"),l=D(e),s=D(" → "),i=D(o),c=D(" – "),f=D(u)},m(d,h){R(d,t,h),r(t,l),r(t,s),r(t,i),r(t,c),r(t,f)},p(d,h){h[0]&16&&e!==(e=d[35].cidr+"")&&V(l,e),h[0]&16&&o!==(o=Oe(d[35].cidr).start+"")&&V(i,o),h[0]&16&&u!==(u=Oe(d[35].cidr).end+"")&&V(f,u)},d(d){d&&z(t)}}}function xl(n){let t,e,l,s,o,i=n[35].name+"",c,u,f,d,h=(n[35].cidr||"—")+"",m,b,v,g=n[35].cidr&&Oe(n[35].cidr),y,w,_=g&&Jl(n);function C(){return n[26](n[35])}return{c(){var k,q;t=$e("g"),e=$e("rect"),o=$e("text"),c=D(i),d=$e("text"),m=D(h),_&&_.c(),a(e,"class","graph-node graph-node-alloc svelte-14vff5k"),a(e,"x",l=n[35].x),a(e,"y",s=n[35].y),a(e,"width",n[15].nodeWidth),a(e,"height",n[15].nodeHeight),a(e,"rx","4"),a(o,"x",u=n[35].x+n[15].nodeWidth/2),a(o,"y",f=n[35].y+11),a(o,"class","graph-label graph-label-alloc svelte-14vff5k"),a(o,"text-anchor","middle"),a(d,"x",b=n[35].x+n[15].nodeWidth/2),a(d,"y",v=n[35].y+24),a(d,"class","graph-label graph-label-cidr svelte-14vff5k"),a(d,"text-anchor","middle"),a(t,"class","graph-node-wrap svelte-14vff5k"),be(t,"graph-node-alloc-hovered",((k=n[3])==null?void 0:k.type)==="alloc"&&((q=n[3])==null?void 0:q.id)===n[35].id)},m(k,q){R(k,t,q),r(t,e),r(t,o),r(o,c),r(t,d),r(d,m),_&&_.m(t,null),y||(w=[W(t,"mouseenter",C),W(t,"mouseleave",n[27])],y=!0)},p(k,q){var S,T;n=k,q[0]&16&&l!==(l=n[35].x)&&a(e,"x",l),q[0]&16&&s!==(s=n[35].y)&&a(e,"y",s),q[0]&16&&i!==(i=n[35].name+"")&&V(c,i),q[0]&16&&u!==(u=n[35].x+n[15].nodeWidth/2)&&a(o,"x",u),q[0]&16&&f!==(f=n[35].y+11)&&a(o,"y",f),q[0]&16&&h!==(h=(n[35].cidr||"—")+"")&&V(m,h),q[0]&16&&b!==(b=n[35].x+n[15].nodeWidth/2)&&a(d,"x",b),q[0]&16&&v!==(v=n[35].y+24)&&a(d,"y",v),q[0]&16&&(g=n[35].cidr&&Oe(n[35].cidr)),g?_?_.p(n,q):(_=Jl(n),_.c(),_.m(t,null)):_&&(_.d(1),_=null),q[0]&24&&be(t,"graph-node-alloc-hovered",((S=n[3])==null?void 0:S.type)==="alloc"&&((T=n[3])==null?void 0:T.id)===n[35].id)},d(k){k&&z(t),_&&_.d(),y=!1,_e(w)}}}function zc(n){let t;return{c(){t=p("section"),t.innerHTML='<p>No environments yet. Create one from the <a href="#environments" class="svelte-14vff5k">Environments</a> page to get started.</p>',a(t,"class","empty-hint svelte-14vff5k")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Rc(n){let t,e,l,s,o,i,c,u,f=Ee(n[0]),d=[];for(let h=0;h<f.length;h+=1)d[h]=$l(Ol(n,f,h));return{c(){t=p("section"),e=p("h2"),e.textContent="Environments",l=I(),s=p("div"),o=p("table"),i=p("thead"),i.innerHTML='<tr><th class="svelte-14vff5k">Name</th> <th class="svelte-14vff5k">ID</th> <th class="svelte-14vff5k"></th></tr>',c=I(),u=p("tbody");for(let h=0;h<d.length;h+=1)d[h].c();a(e,"class","section-title svelte-14vff5k"),a(o,"class","table svelte-14vff5k"),a(s,"class","table-wrap svelte-14vff5k"),a(t,"class","env-section svelte-14vff5k")},m(h,m){R(h,t,m),r(t,e),r(t,l),r(t,s),r(s,o),r(o,i),r(o,c),r(o,u);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(u,null)},p(h,m){if(m[0]&16385){f=Ee(h[0]);let b;for(b=0;b<f.length;b+=1){const v=Ol(h,f,b);d[b]?d[b].p(v,m):(d[b]=$l(v),d[b].c(),d[b].m(u,null))}for(;b<d.length;b+=1)d[b].d(1);d.length=f.length}},d(h){h&&z(t),Ke(d,h)}}}function $l(n){let t,e,l=n[32].name+"",s,o,i,c,u=n[32].id+"",f,d,h,m,b,v,g;function y(){return n[28](n[32])}return{c(){t=p("tr"),e=p("td"),s=D(l),o=I(),i=p("td"),c=p("code"),f=D(u),d=I(),h=p("td"),m=p("button"),m.textContent="View blocks →",b=I(),a(e,"class","name svelte-14vff5k"),a(c,"class","svelte-14vff5k"),a(i,"class","id svelte-14vff5k"),a(m,"type","button"),a(m,"class","btn-link svelte-14vff5k"),a(h,"class","action svelte-14vff5k")},m(w,_){R(w,t,_),r(t,e),r(e,s),r(t,o),r(t,i),r(i,c),r(c,f),r(t,d),r(t,h),r(h,m),r(t,b),v||(g=W(m,"click",y),v=!0)},p(w,_){n=w,_[0]&1&&l!==(l=n[32].name+"")&&V(s,l),_[0]&1&&u!==(u=n[32].id+"")&&V(f,u)},d(w){w&&z(t),v=!1,g()}}}function es(n){let t,e;return t=new Qn({props:{message:n[8]}}),t.$on("close",n[29]),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},p(l,s){const o={};s[0]&256&&(o.message=l[8]),t.$set(o)},i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function Dc(n){let t,e,l,s,o,i=n[9]?"Exporting…":"Export CSV",c,u,f,d,h,m;function b(w,_){return w[7]?Lc:Pc}let v=b(n),g=v(n),y=n[8]&&es(n);return{c(){t=p("div"),e=p("header"),l=p("h1"),l.textContent="Dashboard",s=I(),o=p("button"),c=D(i),u=I(),g.c(),f=I(),y&&y.c(),a(l,"class","svelte-14vff5k"),a(o,"class","export-btn svelte-14vff5k"),a(o,"type","button"),o.disabled=n[9],a(e,"class","header svelte-14vff5k"),a(t,"class","dashboard svelte-14vff5k")},m(w,_){R(w,t,_),r(t,e),r(e,l),r(e,s),r(e,o),r(o,c),r(t,u),g.m(t,null),r(t,f),y&&y.m(t,null),d=!0,h||(m=W(o,"click",n[16]),h=!0)},p(w,_){(!d||_[0]&512)&&i!==(i=w[9]?"Exporting…":"Export CSV")&&V(c,i),(!d||_[0]&512)&&(o.disabled=w[9]),v===(v=b(w))&&g?g.p(w,_):(g.d(1),g=v(w),g&&(g.c(),g.m(t,f))),w[8]?y?(y.p(w,_),_[0]&256&&Z(y,1)):(y=es(w),y.c(),Z(y,1),y.m(t,null)):y&&(Re(),Y(y,1,1,()=>{y=null}),De())},i(w){d||(Z(y),d=!0)},o(w){Y(y),d=!1},d(w){w&&z(t),g.d(),y&&y.d(),h=!1,m()}}}const oi="00000000-0000-0000-0000-000000000000";function bt(n){return!n||n.total_ips===0?0:Math.min(100,Math.round(n.used_ips/n.total_ips*100))}function ts(n){if(!n||n.total_ips===0)return"0%";const t=n.used_ips/n.total_ips*100;return n.used_ips>0&&t<1?"<1%":Math.round(t)+"%"}function ns(n){const t=n.environment_id;return t==null||t===""||String(t).toLowerCase()===oi}function Nc(n,t,e){let l,s,o,i,c,u,f,d;const h=pt();let m=!0,b="",v="",g=!1,y=[],w=[],_=[];const C={padding:24,colWidth:180,colGap1:40,colGap2:88,rowHeight:40,nodeWidth:160,nodeHeight:34};let k=null;function q(E){if(!k)return!1;const P=j=>j!=null?String(j).toLowerCase():"";return k.type==="env"?P(E.envId)===P(k.id):k.type==="block"?P(E.blockId)===P(k.id):k.type==="alloc"?P(E.allocId)===P(k.id):!1}async function S(){e(9,g=!0),e(8,v="");try{await Kr()}catch(E){e(8,v=E.message||"Export failed")}finally{e(9,g=!1)}}_t(async()=>{e(7,m=!0),b="";try{const[E,P,j]=await Promise.all([bn(),Fn(),Vt()]);e(0,y=E.environments),e(1,w=P.blocks),e(2,_=j.allocations)}catch(E){b=E.message||"Failed to load dashboard",e(8,v=b+(b.includes("8011")?"":" Ensure the API is running at localhost:8011."))}finally{e(7,m=!1)}});const T=E=>e(3,k={type:"env",id:E.id}),M=()=>e(3,k=null),A=E=>E.id==="orphaned"?h("viewOrphaned"):h("envBlocks",E.id),F=(E,P)=>P.key==="Enter"&&(E.id==="orphaned"?h("viewOrphaned"):h("envBlocks",E.id)),Q=E=>e(3,k={type:"block",id:E.id}),B=()=>e(3,k=null),U=E=>h("viewBlock",E.name),N=(E,P)=>P.key==="Enter"&&h("viewBlock",E.name),O=E=>e(3,k={type:"alloc",id:E.id}),L=()=>e(3,k=null),H=E=>h("envBlocks",E.id),G=()=>e(8,v="");return n.$$.update=()=>{n.$$.dirty[0]&2&&e(6,l=w.reduce((E,P)=>E+(P.total_ips??0),0)),n.$$.dirty[0]&2&&e(5,s=w.reduce((E,P)=>E+(P.used_ips??0),0)),n.$$.dirty[0]&96&&e(17,o=l>0?Math.round(s/l*100):0),n.$$.dirty[0]&131168&&e(13,i=l<=0?"0":s/l*100<1&&s>0?"<1":String(o)),n.$$.dirty[0]&2&&e(12,c=w.filter(E=>E.environment_id==null||E.environment_id===""||String(E.environment_id).toLowerCase()===oi).length),n.$$.dirty[0]&2&&e(11,u=[...w].sort((E,P)=>(P.used_ips??0)-(E.used_ips??0)).slice(0,12)),n.$$.dirty[0]&7&&e(4,f=(()=>{const E=[...y].sort((X,x)=>(X.name||"").localeCompare(x.name||"")),P=w.some(ns),j=E.map((X,x)=>({id:X.id,name:X.name||X.id,y:C.padding+x*C.rowHeight}));P&&j.push({id:"orphaned",name:"Orphaned",y:C.padding+E.length*C.rowHeight});const J=new Map;E.forEach(X=>J.set(String(X.id).toLowerCase(),[])),P&&J.set("orphaned",[]),w.forEach(X=>{const x=ns(X)?"orphaned":String(X.environment_id).toLowerCase();(J.get(x)||[]).push(X)}),J.forEach(X=>X.sort((x,te)=>(x.name||"").localeCompare(te.name||"")));const oe=[];j.forEach(X=>{const x=X.id==="orphaned"?"orphaned":String(X.id).toLowerCase();(J.get(x)||[]).forEach(te=>oe.push({block:te,envId:X.id,envY:X.y}))});const ne=oe.map((X,x)=>({id:X.block.id,name:X.block.name,cidr:X.block.cidr||"",environmentId:X.envId,y:C.padding+x*C.rowHeight,envY:X.envY})),ie=new Map;oe.forEach(({block:X})=>ie.set((X.name||"").toLowerCase(),[])),_.forEach(X=>{const x=(X.block_name||"").toLowerCase();(ie.get(x)||[]).push(X)}),ie.forEach(X=>X.sort((x,te)=>(x.name||"").localeCompare(te.name||"")));const ke=[];ne.forEach(X=>{const x=(X.name||"").toLowerCase();(ie.get(x)||[]).forEach(te=>ke.push({alloc:te,blockY:X.y}))});const le=ke.map((X,x)=>({id:X.alloc.id,name:X.alloc.name,cidr:X.alloc.cidr||"",blockName:X.alloc.block_name,y:C.padding+x*C.rowHeight,blockY:X.blockY})),ee=C.padding,ce=C.padding+C.nodeWidth+C.colGap1,Se=ce+C.nodeWidth+C.colGap2;j.forEach(X=>{X.x=ee}),ne.forEach(X=>{X.x=ce}),le.forEach(X=>{X.x=Se});const qe=[];ne.forEach(X=>{const x=j.find(te=>te.id===X.environmentId);x&&qe.push({from:{x:ee+C.nodeWidth,y:x.y+C.nodeHeight/2},to:{x:ce,y:X.y+C.nodeHeight/2},envId:x.id,blockId:X.id,allocId:null})}),le.forEach(X=>{const x=ne.find(te=>(te.name||"").toLowerCase()===(X.blockName||"").toLowerCase());x&&qe.push({from:{x:ce+C.nodeWidth,y:x.y+C.nodeHeight/2},to:{x:Se,y:X.y+C.nodeHeight/2},envId:null,blockId:x.id,allocId:X.id})});const he=Se+C.nodeWidth+C.padding,Pe=Math.max(j.length?j[j.length-1].y+C.nodeHeight+C.padding:C.padding*2,ne.length?ne[ne.length-1].y+C.nodeHeight+C.padding:C.padding*2,le.length?le[le.length-1].y+C.nodeHeight+C.padding:C.padding*2);return{envRows:j,blockRows:ne,allocRows:le,edges:qe,width:he,height:Pe}})()),n.$$.dirty[0]&24&&e(10,d=(()=>{if(!k||!f.edges)return new Set;const E=new Set;return f.edges.forEach((P,j)=>{q(P)&&E.add(j)}),E})())},[y,w,_,k,f,s,l,m,v,g,d,u,c,i,h,C,S,o,T,M,A,F,Q,B,U,N,O,L,H,G]}class ii extends tt{constructor(t){super(),et(this,t,Nc,Dc,Je,{},null,[-1,-1])}}function ls(n,t,e){const l=n.slice();return l[71]=t[e],l}function ss(n,t,e){const l=n.slice();l[74]=t[e];const s=l[31](l[74].name);return l[75]=s,l}function os(n,t,e){const l=n.slice();l[78]=t[e];const s=Oe(l[78].cidr);return l[79]=s,l}function is(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M,A,F,Q,B,U,N,O=n[13]?"Creating…":"Create",L,H,G;return{c(){t=p("div"),e=p("h3"),e.textContent="New environment",l=I(),s=p("form"),o=p("label"),i=p("span"),i.textContent="Name",c=I(),u=p("input"),f=I(),d=p("div"),h=p("span"),h.textContent="Initial network block (optional)",m=I(),b=p("p"),b.textContent="Create the environment’s range as the first block.",v=I(),g=p("div"),y=p("label"),w=p("span"),w.textContent="Block name",_=I(),C=p("input"),k=I(),q=p("label"),S=p("span"),S.textContent="CIDR",T=I(),M=p("input"),A=I(),F=p("div"),Q=p("button"),B=D("Cancel"),U=I(),N=p("button"),L=D(O),a(e,"class","svelte-1yq71h6"),a(i,"class","svelte-1yq71h6"),a(u,"type","text"),a(u,"placeholder","e.g. production"),u.disabled=n[13],a(u,"class","svelte-1yq71h6"),a(o,"class","svelte-1yq71h6"),a(h,"class","initial-block-label svelte-1yq71h6"),a(b,"class","initial-block-desc svelte-1yq71h6"),a(w,"class","svelte-1yq71h6"),a(C,"type","text"),a(C,"placeholder","e.g. main-range"),C.disabled=n[13],a(C,"class","svelte-1yq71h6"),a(y,"class","svelte-1yq71h6"),a(S,"class","svelte-1yq71h6"),a(M,"type","text"),a(M,"placeholder","e.g. 10.0.0.0/8"),M.disabled=n[13],a(M,"class","svelte-1yq71h6"),a(q,"class","svelte-1yq71h6"),a(g,"class","form-row svelte-1yq71h6"),a(d,"class","initial-block svelte-1yq71h6"),a(Q,"type","button"),a(Q,"class","btn svelte-1yq71h6"),Q.disabled=n[13],a(N,"type","submit"),a(N,"class","btn btn-primary svelte-1yq71h6"),N.disabled=n[13],a(F,"class","form-actions svelte-1yq71h6"),a(t,"class","form-card svelte-1yq71h6")},m(E,P){R(E,t,P),r(t,e),r(t,l),r(t,s),r(s,o),r(o,i),r(o,c),r(o,u),fe(u,n[10]),r(s,f),r(s,d),r(d,h),r(d,m),r(d,b),r(d,v),r(d,g),r(g,y),r(y,w),r(y,_),r(y,C),fe(C,n[11]),r(g,k),r(g,q),r(q,S),r(q,T),r(q,M),fe(M,n[12]),r(s,A),r(s,F),r(F,Q),r(Q,B),r(F,U),r(F,N),r(N,L),H||(G=[W(u,"input",n[45]),W(C,"input",n[46]),W(M,"input",n[47]),W(Q,"click",n[48]),W(s,"submit",Dt(n[32]))],H=!0)},p(E,P){P[0]&8192&&(u.disabled=E[13]),P[0]&1024&&u.value!==E[10]&&fe(u,E[10]),P[0]&8192&&(C.disabled=E[13]),P[0]&2048&&C.value!==E[11]&&fe(C,E[11]),P[0]&8192&&(M.disabled=E[13]),P[0]&4096&&M.value!==E[12]&&fe(M,E[12]),P[0]&8192&&(Q.disabled=E[13]),P[0]&8192&&O!==(O=E[13]?"Creating…":"Create")&&V(L,O),P[0]&8192&&(N.disabled=E[13])},d(E){E&&z(t),H=!1,_e(G)}}}function Mc(n){let t,e,l,s,o,i,c,u,f,d,h=n[0]&&rs(),m=Ee(n[5]),b=[];for(let y=0;y<m.length;y+=1)b[y]=bs(ls(n,m,y));const v=y=>Y(b[y],1,1,()=>{b[y]=null});let g=!n[0]&&gs(n);return{c(){t=p("div"),h&&h.c(),e=I(),l=p("div"),s=p("table"),o=p("thead"),o.innerHTML='<tr><th class="svelte-1yq71h6">Name</th> <th class="svelte-1yq71h6">ID</th> <th class="actions svelte-1yq71h6">Actions</th></tr>',i=I(),c=p("tbody");for(let y=0;y<b.length;y+=1)b[y].c();u=I(),g&&g.c(),f=Xe(),a(t,"class","list-toolbar svelte-1yq71h6"),a(s,"class","table svelte-1yq71h6"),a(l,"class","table-wrap svelte-1yq71h6")},m(y,w){R(y,t,w),h&&h.m(t,null),R(y,e,w),R(y,l,w),r(l,s),r(s,o),r(s,i),r(s,c);for(let _=0;_<b.length;_+=1)b[_]&&b[_].m(c,null);R(y,u,w),g&&g.m(y,w),R(y,f,w),d=!0},p(y,w){if(y[0]?h||(h=rs(),h.c(),h.m(t,null)):h&&(h.d(1),h=null),w[0]&1625407968|w[1]&121){m=Ee(y[5]);let _;for(_=0;_<m.length;_+=1){const C=ls(y,m,_);b[_]?(b[_].p(C,w),Z(b[_],1)):(b[_]=bs(C),b[_].c(),Z(b[_],1),b[_].m(c,null))}for(Re(),_=m.length;_<b.length;_+=1)v(_);De()}y[0]?g&&(g.d(1),g=null):g?g.p(y,w):(g=gs(y),g.c(),g.m(f.parentNode,f))},i(y){if(!d){for(let w=0;w<m.length;w+=1)Z(b[w]);d=!0}},o(y){b=b.filter(Boolean);for(let w=0;w<b.length;w+=1)Y(b[w]);d=!1},d(y){y&&(z(t),z(e),z(l),z(u),z(f)),h&&h.d(),Ke(b,y),g&&g.d(y)}}}function Oc(n){let t;return{c(){t=p("div"),t.textContent="No environments yet. Create one above.",a(t,"class","empty svelte-1yq71h6")},m(e,l){R(e,t,l)},p:se,i:se,o:se,d(e){e&&z(t)}}}function Bc(n){let t;return{c(){t=p("div"),t.textContent="Loading…",a(t,"class","loading svelte-1yq71h6")},m(e,l){R(e,t,l)},p:se,i:se,o:se,d(e){e&&z(t)}}}function rs(n){let t;return{c(){t=p("a"),t.textContent="← All environments",a(t,"href","#environments"),a(t,"class","link-back svelte-1yq71h6")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function Fc(n){let t,e=n[71].name+"",l,s,o,i,c=n[71].id+"",u,f,d,h,m,b,v,g,y,w,_;b=new Ve({props:{icon:"lucide:ellipsis-vertical",width:"1.25em",height:"1.25em"}});function C(...q){return n[53](n[71],...q)}let k=n[21]===n[71].id&&as(n);return{c(){t=p("td"),l=D(e),s=I(),o=p("td"),i=p("code"),u=D(c),f=I(),d=p("td"),h=p("div"),m=p("button"),Ie(b.$$.fragment),g=I(),k&&k.c(),a(t,"class","name svelte-1yq71h6"),a(i,"class","svelte-1yq71h6"),a(o,"class","id svelte-1yq71h6"),a(m,"type","button"),a(m,"class","menu-trigger svelte-1yq71h6"),a(m,"aria-haspopup","true"),a(m,"aria-expanded",v=n[21]===n[71].id),a(m,"title","Actions"),a(h,"class","actions-menu-wrap svelte-1yq71h6"),a(h,"role","group"),a(d,"class","actions svelte-1yq71h6")},m(q,S){R(q,t,S),r(t,l),R(q,s,S),R(q,o,S),r(o,i),r(i,u),R(q,f,S),R(q,d,S),r(d,h),r(h,m),ye(b,m,null),r(h,g),k&&k.m(h,null),y=!0,w||(_=[W(m,"click",Ye(C)),W(d,"click",Ye(n[44]))],w=!0)},p(q,S){n=q,(!y||S[0]&32)&&e!==(e=n[71].name+"")&&V(l,e),(!y||S[0]&32)&&c!==(c=n[71].id+"")&&V(u,c),(!y||S[0]&2097184&&v!==(v=n[21]===n[71].id))&&a(m,"aria-expanded",v),n[21]===n[71].id?k?k.p(n,S):(k=as(n),k.c(),k.m(h,null)):k&&(k.d(1),k=null)},i(q){y||(Z(b.$$.fragment,q),y=!0)},o(q){Y(b.$$.fragment,q),y=!1},d(q){q&&(z(t),z(s),z(o),z(f),z(d)),Ce(b),k&&k.d(),w=!1,_e(_)}}}function jc(n){let t,e,l,s,o,i,c,u,f,d=n[16]?"Saving…":"Save",h,m,b,v,g,y,w,_,C,k,q;y=new Ve({props:{icon:"lucide:ellipsis-vertical",width:"1.25em",height:"1.25em"}});function S(...M){return n[50](n[71],...M)}let T=n[21]===n[71].id&&cs(n);return{c(){t=p("td"),e=p("form"),l=p("input"),s=I(),o=p("div"),i=p("button"),c=D("Cancel"),u=I(),f=p("button"),h=D(d),m=I(),b=p("td"),v=p("div"),g=p("button"),Ie(y.$$.fragment),_=I(),T&&T.c(),a(l,"type","text"),a(l,"placeholder","Name"),l.disabled=n[16],a(l,"class","svelte-1yq71h6"),a(i,"type","button"),a(i,"class","btn btn-small svelte-1yq71h6"),i.disabled=n[16],a(f,"type","submit"),a(f,"class","btn btn-primary btn-small svelte-1yq71h6"),f.disabled=n[16],a(o,"class","inline-actions svelte-1yq71h6"),a(e,"class","inline-edit svelte-1yq71h6"),a(t,"colspan","2"),a(t,"class","edit-cell svelte-1yq71h6"),a(g,"type","button"),a(g,"class","menu-trigger svelte-1yq71h6"),a(g,"aria-haspopup","true"),a(g,"aria-expanded",w=n[21]===n[71].id),a(g,"title","Actions"),a(v,"class","actions-menu-wrap svelte-1yq71h6"),a(v,"role","group"),a(b,"class","actions svelte-1yq71h6")},m(M,A){R(M,t,A),r(t,e),r(e,l),fe(l,n[15]),r(e,s),r(e,o),r(o,i),r(i,c),r(o,u),r(o,f),r(f,h),R(M,m,A),R(M,b,A),r(b,v),r(v,g),ye(y,g,null),r(v,_),T&&T.m(v,null),C=!0,k||(q=[W(l,"input",n[49]),W(i,"click",n[35]),W(e,"submit",Dt(n[36])),W(e,"click",Ye(n[43])),W(g,"click",Ye(S)),W(b,"click",Ye(n[42]))],k=!0)},p(M,A){n=M,(!C||A[0]&65536)&&(l.disabled=n[16]),A[0]&32768&&l.value!==n[15]&&fe(l,n[15]),(!C||A[0]&65536)&&(i.disabled=n[16]),(!C||A[0]&65536)&&d!==(d=n[16]?"Saving…":"Save")&&V(h,d),(!C||A[0]&65536)&&(f.disabled=n[16]),(!C||A[0]&2097184&&w!==(w=n[21]===n[71].id))&&a(g,"aria-expanded",w),n[21]===n[71].id?T?T.p(n,A):(T=cs(n),T.c(),T.m(v,null)):T&&(T.d(1),T=null)},i(M){C||(Z(y.$$.fragment,M),C=!0)},o(M){Y(y.$$.fragment,M),C=!1},d(M){M&&(z(t),z(m),z(b)),Ce(y),T&&T.d(),k=!1,_e(q)}}}function as(n){let t,e,l,s,o,i;function c(){return n[54](n[71])}function u(){return n[55](n[71])}return{c(){t=p("div"),e=p("button"),e.textContent="Edit",l=I(),s=p("button"),s.textContent="Delete",a(e,"type","button"),a(e,"role","menuitem"),a(e,"class","svelte-1yq71h6"),a(s,"type","button"),a(s,"role","menuitem"),a(s,"class","menu-item-danger svelte-1yq71h6"),a(t,"class","menu-dropdown menu-dropdown-fixed svelte-1yq71h6"),a(t,"role","menu"),pe(t,"position","fixed"),pe(t,"left",n[23].left+"px"),pe(t,"top",n[23].top+"px"),pe(t,"transform","translateX(-100%)"),pe(t,"z-index","1000")},m(f,d){R(f,t,d),r(t,e),r(t,l),r(t,s),o||(i=[W(e,"click",Ye(c)),W(s,"click",Ye(u))],o=!0)},p(f,d){n=f,d[0]&8388608&&pe(t,"left",n[23].left+"px"),d[0]&8388608&&pe(t,"top",n[23].top+"px")},d(f){f&&z(t),o=!1,_e(i)}}}function cs(n){let t,e,l,s,o,i;function c(){return n[51](n[71])}function u(){return n[52](n[71])}return{c(){t=p("div"),e=p("button"),e.textContent="Edit",l=I(),s=p("button"),s.textContent="Delete",a(e,"type","button"),a(e,"role","menuitem"),a(e,"class","svelte-1yq71h6"),a(s,"type","button"),a(s,"role","menuitem"),a(s,"class","menu-item-danger svelte-1yq71h6"),a(t,"class","menu-dropdown menu-dropdown-fixed svelte-1yq71h6"),a(t,"role","menu"),pe(t,"position","fixed"),pe(t,"left",n[23].left+"px"),pe(t,"top",n[23].top+"px"),pe(t,"transform","translateX(-100%)"),pe(t,"z-index","1000")},m(f,d){R(f,t,d),r(t,e),r(t,l),r(t,s),o||(i=[W(e,"click",Ye(c)),W(s,"click",Ye(u))],o=!0)},p(f,d){n=f,d[0]&8388608&&pe(t,"left",n[23].left+"px"),d[0]&8388608&&pe(t,"top",n[23].top+"px")},d(f){f&&z(t),o=!1,_e(i)}}}function us(n){let t,e,l,s,o,i,c,u,f;const d=[Hc,Uc],h=[];function m(b,v){return b[7].length===0?0:1}return i=m(n),c=h[i]=d[i](n),{c(){t=p("tr"),e=p("td"),l=p("div"),s=p("h4"),s.textContent="Network blocks",o=I(),c.c(),u=I(),a(s,"class","summary-title svelte-1yq71h6"),a(l,"class","blocks-summary svelte-1yq71h6"),a(e,"colspan","3"),a(e,"class","detail-cell svelte-1yq71h6"),a(t,"class","detail-row svelte-1yq71h6")},m(b,v){R(b,t,v),r(t,e),r(e,l),r(l,s),r(l,o),h[i].m(l,null),r(t,u),f=!0},p(b,v){let g=i;i=m(b),i===g?h[i].p(b,v):(Re(),Y(h[g],1,1,()=>{h[g]=null}),De(),c=h[i],c?c.p(b,v):(c=h[i]=d[i](b),c.c()),Z(c,1),c.m(l,null))},i(b){f||(Z(c),f=!0)},o(b){Y(c),f=!1},d(b){b&&z(t),h[i].d()}}}function Uc(n){let t,e,l=Ee(n[7]),s=[];for(let i=0;i<l.length;i+=1)s[i]=ms(ss(n,l,i));const o=i=>Y(s[i],1,1,()=>{s[i]=null});return{c(){t=p("div");for(let i=0;i<s.length;i+=1)s[i].c();a(t,"class","block-list svelte-1yq71h6")},m(i,c){R(i,t,c);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);e=!0},p(i,c){if(c[0]&1073742208|c[1]&1){l=Ee(i[7]);let u;for(u=0;u<l.length;u+=1){const f=ss(i,l,u);s[u]?(s[u].p(f,c),Z(s[u],1)):(s[u]=ms(f),s[u].c(),Z(s[u],1),s[u].m(t,null))}for(Re(),u=l.length;u<s.length;u+=1)o(u);De()}},i(i){if(!e){for(let c=0;c<l.length;c+=1)Z(s[c]);e=!0}},o(i){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)Y(s[c]);e=!1},d(i){i&&z(t),Ke(s,i)}}}function Hc(n){let t;return{c(){t=p("p"),t.textContent="No blocks in this environment.",a(t,"class","summary-empty svelte-1yq71h6")},m(e,l){R(e,t,l)},p:se,i:se,o:se,d(e){e&&z(t)}}}function fs(n){let t,e=Oe(n[74].cidr).start+"",l,s,o=Oe(n[74].cidr).end+"",i;return{c(){t=p("span"),l=D(e),s=D(" – "),i=D(o),a(t,"class","block-range svelte-1yq71h6")},m(c,u){R(c,t,u),r(t,l),r(t,s),r(t,i)},p(c,u){u[0]&128&&e!==(e=Oe(c[74].cidr).start+"")&&V(l,e),u[0]&128&&o!==(o=Oe(c[74].cidr).end+"")&&V(i,o)},d(c){c&&z(t)}}}function ds(n){let t,e,l;function s(c,u){return c[75].length===0?Wc:Qc}let o=s(n),i=o(n);return{c(){t=p("div"),e=p("h5"),e.textContent="Allocations",l=I(),i.c(),a(e,"class","allocations-title svelte-1yq71h6"),a(t,"class","allocations-summary svelte-1yq71h6")},m(c,u){R(c,t,u),r(t,e),r(t,l),i.m(t,null)},p(c,u){o===(o=s(c))&&i?i.p(c,u):(i.d(1),i=o(c),i&&(i.c(),i.m(t,null)))},d(c){c&&z(t),i.d()}}}function Qc(n){let t,e=Ee(n[75]),l=[];for(let s=0;s<e.length;s+=1)l[s]=hs(os(n,e,s));return{c(){t=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();a(t,"class","alloc-list svelte-1yq71h6")},m(s,o){R(s,t,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(t,null)},p(s,o){if(o[0]&128|o[1]&1){e=Ee(s[75]);let i;for(i=0;i<e.length;i+=1){const c=os(s,e,i);l[i]?l[i].p(c,o):(l[i]=hs(c),l[i].c(),l[i].m(t,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=e.length}},d(s){s&&z(t),Ke(l,s)}}}function Wc(n){let t;return{c(){t=p("p"),t.textContent="No allocations in this block.",a(t,"class","summary-empty svelte-1yq71h6")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function ps(n){let t,e=n[79].start+"",l,s,o=n[79].end+"",i;return{c(){t=p("span"),l=D(e),s=D(" – "),i=D(o),a(t,"class","alloc-range svelte-1yq71h6")},m(c,u){R(c,t,u),r(t,l),r(t,s),r(t,i)},p(c,u){u[0]&128&&e!==(e=c[79].start+"")&&V(l,e),u[0]&128&&o!==(o=c[79].end+"")&&V(i,o)},d(c){c&&z(t)}}}function hs(n){let t,e,l=n[78].name+"",s,o,i,c=n[78].cidr+"",u,f,d,h=n[79]&&ps(n);return{c(){t=p("li"),e=p("span"),s=D(l),o=I(),i=p("code"),u=D(c),f=I(),h&&h.c(),d=I(),a(e,"class","alloc-name svelte-1yq71h6"),a(i,"class","alloc-cidr svelte-1yq71h6"),a(t,"class","alloc-item svelte-1yq71h6")},m(m,b){R(m,t,b),r(t,e),r(e,s),r(t,o),r(t,i),r(i,u),r(t,f),h&&h.m(t,null),r(t,d)},p(m,b){b[0]&128&&l!==(l=m[78].name+"")&&V(s,l),b[0]&128&&c!==(c=m[78].cidr+"")&&V(u,c),m[79]?h?h.p(m,b):(h=ps(m),h.c(),h.m(t,d)):h&&(h.d(1),h=null)},d(m){m&&z(t),h&&h.d()}}}function ms(n){var U;let t,e,l,s=n[74].name+"",o,i,c,u=n[74].cidr+"",f,d,h=Oe(n[74].cidr),m,b,v=(((U=n[74].total_ips)==null?void 0:U.toLocaleString())??0)+"",g,y,w,_,C,k,q,S,T,M,A=h&&fs(n);C=new Ve({props:{icon:n[8]===n[74].name?"lucide:chevron-down":"lucide:chevron-right",width:"1em",height:"1em"}});let F=n[8]===n[74].name&&ds(n);function Q(){return n[58](n[74])}function B(...N){return n[59](n[74],...N)}return{c(){t=p("div"),e=p("div"),l=p("span"),o=D(s),i=I(),c=p("code"),f=D(u),d=I(),A&&A.c(),m=I(),b=p("span"),g=D(v),y=D(" IPs"),w=I(),_=p("span"),Ie(C.$$.fragment),k=I(),F&&F.c(),q=I(),a(l,"class","block-name svelte-1yq71h6"),a(c,"class","block-cidr svelte-1yq71h6"),a(b,"class","block-ips svelte-1yq71h6"),a(_,"class","block-expand svelte-1yq71h6"),a(e,"class","block-item-header svelte-1yq71h6"),a(t,"class","block-item svelte-1yq71h6"),a(t,"role","button"),a(t,"tabindex","0"),be(t,"expanded",n[8]===n[74].name)},m(N,O){R(N,t,O),r(t,e),r(e,l),r(l,o),r(e,i),r(e,c),r(c,f),r(e,d),A&&A.m(e,null),r(e,m),r(e,b),r(b,g),r(b,y),r(e,w),r(e,_),ye(C,_,null),r(t,k),F&&F.m(t,null),r(t,q),S=!0,T||(M=[W(t,"click",Ye(Q)),W(t,"keydown",B)],T=!0)},p(N,O){var H;n=N,(!S||O[0]&128)&&s!==(s=n[74].name+"")&&V(o,s),(!S||O[0]&128)&&u!==(u=n[74].cidr+"")&&V(f,u),O[0]&128&&(h=Oe(n[74].cidr)),h?A?A.p(n,O):(A=fs(n),A.c(),A.m(e,m)):A&&(A.d(1),A=null),(!S||O[0]&128)&&v!==(v=(((H=n[74].total_ips)==null?void 0:H.toLocaleString())??0)+"")&&V(g,v);const L={};O[0]&384&&(L.icon=n[8]===n[74].name?"lucide:chevron-down":"lucide:chevron-right"),C.$set(L),n[8]===n[74].name?F?F.p(n,O):(F=ds(n),F.c(),F.m(t,q)):F&&(F.d(1),F=null),(!S||O[0]&384)&&be(t,"expanded",n[8]===n[74].name)},i(N){S||(Z(C.$$.fragment,N),S=!0)},o(N){Y(C.$$.fragment,N),S=!1},d(N){N&&z(t),A&&A.d(),Ce(C),F&&F.d(),T=!1,_e(M)}}}function bs(n){let t,e,l,s,o,i,c,u;const f=[jc,Fc],d=[];function h(g,y){return g[14]===g[71].id?0:1}e=h(n),l=d[e]=f[e](n);function m(){return n[56](n[71])}function b(...g){return n[57](n[71],...g)}let v=n[6]===n[71].id&&us(n);return{c(){t=p("tr"),l.c(),s=I(),v&&v.c(),o=Xe(),a(t,"class","env-row svelte-1yq71h6"),a(t,"role","button"),a(t,"tabindex","0"),be(t,"expanded",n[6]===n[71].id)},m(g,y){R(g,t,y),d[e].m(t,null),R(g,s,y),v&&v.m(g,y),R(g,o,y),i=!0,c||(u=[W(t,"click",m),W(t,"keydown",b)],c=!0)},p(g,y){n=g;let w=e;e=h(n),e===w?d[e].p(n,y):(Re(),Y(d[w],1,1,()=>{d[w]=null}),De(),l=d[e],l?l.p(n,y):(l=d[e]=f[e](n),l.c()),Z(l,1),l.m(t,null)),(!i||y[0]&96)&&be(t,"expanded",n[6]===n[71].id),n[6]===n[71].id?v?(v.p(n,y),y[0]&96&&Z(v,1)):(v=us(n),v.c(),Z(v,1),v.m(o.parentNode,o)):v&&(Re(),Y(v,1,1,()=>{v=null}),De())},i(g){i||(Z(l),Z(v),i=!0)},o(g){Y(l),Y(v),i=!1},d(g){g&&(z(t),z(s),z(o)),d[e].d(),v&&v.d(g),c=!1,_e(u)}}}function gs(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w=n[1]+1+"",_,C,k=(n[25]||1)+"",q,S,T,M,A,F,Q,B,U,N,O,L,H,G,E;return{c(){t=p("div"),e=p("span"),l=D("Showing "),s=D(n[27]),o=D("–"),i=D(n[26]),c=D(" of "),u=D(n[3]),f=I(),d=p("div"),h=p("button"),m=D("Previous"),v=I(),g=p("span"),y=D("Page "),_=D(w),C=D(" of "),q=D(k),S=I(),T=p("button"),M=D("Next"),F=I(),Q=p("label"),B=p("span"),B.textContent="Per page",U=I(),N=p("select"),O=p("option"),O.textContent="10",L=p("option"),L.textContent="25",H=p("option"),H.textContent="50",a(e,"class","pagination-info svelte-1yq71h6"),a(h,"type","button"),a(h,"class","btn btn-small svelte-1yq71h6"),h.disabled=b=n[1]<=0,a(g,"class","pagination-page svelte-1yq71h6"),a(T,"type","button"),a(T,"class","btn btn-small svelte-1yq71h6"),T.disabled=A=n[1]>=n[25]-1,a(d,"class","pagination-controls svelte-1yq71h6"),a(B,"class","svelte-1yq71h6"),O.__value=10,fe(O,O.__value),L.__value=25,fe(L,L.__value),H.__value=50,fe(H,H.__value),a(N,"class","svelte-1yq71h6"),n[2]===void 0&&mt(()=>n[62].call(N)),a(Q,"class","page-size svelte-1yq71h6"),a(t,"class","pagination svelte-1yq71h6")},m(P,j){R(P,t,j),r(t,e),r(e,l),r(e,s),r(e,o),r(e,i),r(e,c),r(e,u),r(t,f),r(t,d),r(d,h),r(h,m),r(d,v),r(d,g),r(g,y),r(g,_),r(g,C),r(g,q),r(d,S),r(d,T),r(T,M),r(t,F),r(t,Q),r(Q,B),r(Q,U),r(Q,N),r(N,O),r(N,L),r(N,H),at(N,n[2],!0),G||(E=[W(h,"click",n[60]),W(T,"click",n[61]),W(N,"change",n[62]),W(N,"change",n[63])],G=!0)},p(P,j){j[0]&134217728&&V(s,P[27]),j[0]&67108864&&V(i,P[26]),j[0]&8&&V(u,P[3]),j[0]&2&&b!==(b=P[1]<=0)&&(h.disabled=b),j[0]&2&&w!==(w=P[1]+1+"")&&V(_,w),j[0]&33554432&&k!==(k=(P[25]||1)+"")&&V(q,k),j[0]&33554434&&A!==(A=P[1]>=P[25]-1)&&(T.disabled=A),j[0]&4&&at(N,P[2])},d(P){P&&z(t),G=!1,_e(E)}}}function _s(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_=n[20]?"Deleting…":"Delete environment",C,k,q,S=n[19]>0&&ks(n);return{c(){t=p("div"),e=p("div"),l=p("h3"),l.textContent="Delete environment",s=I(),o=p("p"),i=p("strong"),c=D("This will permanently delete the environment “"),u=D(n[18]),f=D("” and all of its network blocks."),d=I(),S&&S.c(),h=D(`
          This action cannot be undone.`),m=I(),b=p("div"),v=p("button"),g=D("Cancel"),y=I(),w=p("button"),C=D(_),a(l,"id","delete-dialog-title"),a(l,"class","svelte-1yq71h6"),a(i,"class","svelte-1yq71h6"),a(o,"class","modal-warning svelte-1yq71h6"),a(v,"type","button"),a(v,"class","btn svelte-1yq71h6"),v.disabled=n[20],a(w,"type","button"),a(w,"class","btn btn-danger svelte-1yq71h6"),w.disabled=n[20],a(b,"class","modal-actions svelte-1yq71h6"),a(e,"class","modal svelte-1yq71h6"),a(t,"class","modal-backdrop svelte-1yq71h6"),a(t,"role","dialog"),a(t,"aria-modal","true"),a(t,"aria-labelledby","delete-dialog-title")},m(T,M){R(T,t,M),r(t,e),r(e,l),r(e,s),r(e,o),r(o,i),r(i,c),r(i,u),r(i,f),r(o,d),S&&S.m(o,null),r(o,h),r(e,m),r(e,b),r(b,v),r(v,g),r(b,y),r(b,w),r(w,C),k||(q=[W(v,"click",n[38]),W(w,"click",n[39])],k=!0)},p(T,M){M[0]&262144&&V(u,T[18]),T[19]>0?S?S.p(T,M):(S=ks(T),S.c(),S.m(o,h)):S&&(S.d(1),S=null),M[0]&1048576&&(v.disabled=T[20]),M[0]&1048576&&_!==(_=T[20]?"Deleting…":"Delete environment")&&V(C,_),M[0]&1048576&&(w.disabled=T[20])},d(T){T&&z(t),S&&S.d(),k=!1,_e(q)}}}function ks(n){let t,e,l,s;return{c(){t=p("br"),e=p("span"),l=D(n[19]),s=D(" network block(s) will be removed."),a(e,"class","block-count svelte-1yq71h6")},m(o,i){R(o,t,i),R(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&524288&&V(l,o[19])},d(o){o&&(z(t),z(e))}}}function vs(n){let t,e;return t=new Qn({props:{message:n[24]}}),t.$on("close",n[64]),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},p(l,s){const o={};s[0]&16777216&&(o.message=l[24]),t.$set(o)},i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function Gc(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g=n[9]&&is(n);const y=[Bc,Oc,Mc],w=[];function _(q,S){return q[4]?0:q[3]===0&&!q[9]?1:2}u=_(n),f=w[u]=y[u](n);let C=n[17]&&_s(n),k=n[24]&&vs(n);return{c(){t=p("div"),e=p("header"),l=p("div"),l.innerHTML='<h1 class="svelte-1yq71h6">Environments</h1>',s=I(),o=p("button"),o.textContent="Create environment",i=I(),g&&g.c(),c=I(),f.c(),d=I(),C&&C.c(),h=I(),k&&k.c(),a(l,"class","header-text svelte-1yq71h6"),a(o,"class","btn btn-primary svelte-1yq71h6"),a(e,"class","header svelte-1yq71h6"),a(t,"class","environments svelte-1yq71h6")},m(q,S){R(q,t,S),r(t,e),r(e,l),r(e,s),r(e,o),r(t,i),g&&g.m(t,null),r(t,c),w[u].m(t,null),r(t,d),C&&C.m(t,null),r(t,h),k&&k.m(t,null),m=!0,b||(v=W(o,"click",n[33]),b=!0)},p(q,S){q[9]?g?g.p(q,S):(g=is(q),g.c(),g.m(t,c)):g&&(g.d(1),g=null);let T=u;u=_(q),u===T?w[u].p(q,S):(Re(),Y(w[T],1,1,()=>{w[T]=null}),De(),f=w[u],f?f.p(q,S):(f=w[u]=y[u](q),f.c()),Z(f,1),f.m(t,d)),q[17]?C?C.p(q,S):(C=_s(q),C.c(),C.m(t,h)):C&&(C.d(1),C=null),q[24]?k?(k.p(q,S),S[0]&16777216&&Z(k,1)):(k=vs(q),k.c(),Z(k,1),k.m(t,null)):k&&(Re(),Y(k,1,1,()=>{k=null}),De())},i(q){m||(Z(f),Z(k),m=!0)},o(q){Y(f),Y(k),m=!1},d(q){q&&z(t),g&&g.d(),w[u].d(),C&&C.d(),k&&k.d(),b=!1,v()}}}function Zc(n,t,e){let l,s,o,{openCreateFromQuery:i=!1}=t,{openEnvironmentId:c=null}=t;const u=pt();let f=!0,d="",h=[],m=[],b=null,v=[],g=null,y=!1,w=!1,_="",C="",k="",q=!1,S="",T=null,M="",A=!1,F="",Q=null,B="",U=0,N=!1,O="",L=null,H=null,G={left:0,top:0},E="",P=0,j=10,J=0;async function oe(){e(4,f=!0),d="";try{if(c){const[$,Le]=await Promise.all([Sn(c),Vt()]);e(5,h=[{id:$.id,name:$.name}]),e(3,J=1),m=Le.allocations,e(6,b=$.id),e(7,v=$.blocks||[])}else{const[$,Le]=await Promise.all([bn({limit:j,offset:P*j}),Vt()]);e(5,h=$.environments),e(3,J=$.total),m=Le.allocations,e(6,b=null),e(7,v=[])}}catch($){d=$.message||"Failed to load environments",e(24,E=d)}finally{e(4,f=!1)}}_t(()=>{function $(Le){Le.target.closest(".actions-menu-wrap")||e(21,L=null)}return document.addEventListener("click",$),()=>document.removeEventListener("click",$)});async function ne($){if(b===$.id){e(6,b=null),e(7,v=[]),e(8,g=null);return}e(6,b=$.id),e(8,g=null);try{const Le=await Sn($.id);e(7,v=Le.blocks||[])}catch{e(7,v=[])}}function ie($){e(8,g=g===$?null:$)}function ke($){if(!$)return[];const Le=String($).trim().toLowerCase();return m.filter(st=>(st.block_name||"").trim().toLowerCase()===Le)}async function le(){const $=_.trim();if(!$){S="Name is required",e(24,E=S);return}e(13,q=!0),S="";try{const Le=C.trim()&&k.trim()?{name:C.trim(),cidr:k.trim()}:null;await Ar($,Le),e(10,_=""),e(11,C=""),e(12,k=""),e(9,y=!1),await oe()}catch(Le){S=Le.message||"Failed to create environment",e(24,E=S)}finally{e(13,q=!1)}}function ee(){e(9,y=!0),e(10,_=""),e(11,C=""),e(12,k=""),S=""}function ce($){e(14,T=$.id),e(15,M=$.name),F=""}function Se(){e(14,T=null),e(15,M=""),F=""}async function qe(){const $=M.trim();if(!$){F="Name is required",e(24,E=F);return}e(16,A=!0),F="";try{await Pr(T,$),Se(),await oe()}catch(Le){F=Le.message||"Failed to update environment",e(24,E=F)}finally{e(16,A=!1)}}async function he($){e(17,Q=$.id),e(18,B=$.name),O="",e(20,N=!1);try{const Le=await Sn($.id);e(19,U=Le.blocks?Le.blocks.length:0)}catch{e(19,U=0)}}function Pe(){e(17,Q=null),e(18,B=""),e(19,U=0),O=""}async function X(){if(Q){e(20,N=!0),O="";try{await Lr(Q),Pe(),await oe()}catch($){O=$.message||"Failed to delete environment",e(24,E=O)}finally{e(20,N=!1)}}}function x($){Pt.call(this,n,$)}function te($){Pt.call(this,n,$)}function Ge($){Pt.call(this,n,$)}function We(){_=this.value,e(10,_)}function re(){C=this.value,e(11,C)}function de(){k=this.value,e(12,k)}const Ue=()=>e(9,y=!1);function we(){M=this.value,e(15,M)}const Ze=($,Le)=>{if(L===$.id)e(21,L=null),e(22,H=null);else{e(22,H=Le.currentTarget);const st=Le.currentTarget.getBoundingClientRect();e(23,G={left:st.right,top:st.bottom+2}),e(21,L=$.id)}},ue=$=>{ce($),e(21,L=null)},ge=$=>{he($),e(21,L=null)},me=($,Le)=>{if(L===$.id)e(21,L=null),e(22,H=null);else{e(22,H=Le.currentTarget);const st=Le.currentTarget.getBoundingClientRect();e(23,G={left:st.right,top:st.bottom+2}),e(21,L=$.id)}},nt=$=>{ce($),e(21,L=null)},it=$=>{he($),e(21,L=null)},Fe=$=>T!==$.id&&ne($),He=($,Le)=>Le.key==="Enter"&&T!==$.id&&ne($),Qe=$=>ie($.name),lt=($,Le)=>Le.key==="Enter"&&ie($.name),je=()=>{e(1,P-=1),oe()},Nt=()=>{e(1,P+=1),oe()};function ae(){j=zt(this),e(2,j)}const Te=()=>{e(1,P=0),oe()},Ne=()=>e(24,E="");return n.$$set=$=>{"openCreateFromQuery"in $&&e(40,i=$.openCreateFromQuery),"openEnvironmentId"in $&&e(0,c=$.openEnvironmentId)},n.$$.update=()=>{n.$$.dirty[1]&1536&&(i?(e(9,y=!0),w||(e(41,w=!0),u("clearCreateQuery"))):e(41,w=!1)),n.$$.dirty[0]&1&&oe(),n.$$.dirty[0]&14&&e(27,l=J===0?0:P*j+1),n.$$.dirty[0]&14&&e(26,s=Math.min(P*j+j,J)),n.$$.dirty[0]&12&&e(25,o=j>0?Math.ceil(J/j):0)},[c,P,j,J,f,h,b,v,g,y,_,C,k,q,T,M,A,Q,B,U,N,L,H,G,E,o,s,l,oe,ne,ie,ke,le,ee,ce,Se,qe,he,Pe,X,i,w,x,te,Ge,We,re,de,Ue,we,Ze,ue,ge,me,nt,it,Fe,He,Qe,lt,je,Nt,ae,Te,Ne]}class Vc extends tt{constructor(t){super(),et(this,t,Zc,Gc,Je,{openCreateFromQuery:40,openEnvironmentId:0},null,[-1,-1,-1])}}function Kc(n){const t=n.slice(),e=t[11]?Oe(t[11]):null;return t[37]=e,t}function ws(n,t,e){const l=n.slice();return l[31]=t[e],l}function Yc(n){const t=n.slice(),e=Oe(t[8]);return t[30]=e,t}function ys(n,t,e){const l=n.slice();return l[31]=t[e],l}function Cs(n,t,e){const l=n.slice();return l[34]=t[e],l[35]=t,l[36]=e,l}function Xc(n){let t,e,l,s,o;function i(d,h){return d[2]?$c:xc}let c=i(n),u=c(n),f=n[2]&&Ss(n);return{c(){t=p("div"),e=p("header"),l=p("h4"),l.textContent="Subnet within block",s=I(),u.c(),o=I(),f&&f.c(),a(l,"class","wizard-title svelte-1yc37nw"),a(e,"class","wizard-header svelte-1yc37nw"),a(t,"class","wizard-section svelte-1yc37nw")},m(d,h){R(d,t,h),r(t,e),r(e,l),r(e,s),u.m(e,null),r(t,o),f&&f.m(t,null)},p(d,h){c!==(c=i(d))&&(u.d(1),u=c(d),u&&(u.c(),u.m(e,null))),d[2]?f?f.p(d,h):(f=Ss(d),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(d){d&&z(t),u.d(),f&&f.d()}}}function Jc(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C=n[14].toLocaleString()+"",k,q,S,T,M,A;function F(E,P){return E[1]?nu:tu}let Q=F(n),B=Q(n),U=Ee([0,1,2,3]),N=[];for(let E=0;E<4;E+=1)N[E]=Ts(Cs(n,U,E));let O=Ee(n[15]),L=[];for(let E=0;E<O.length;E+=1)L[E]=As(ys(n,O,E));let H=!n[1]&&Ps(n),G=n[1]&&zs(n);return{c(){t=p("div"),e=p("header"),l=p("h4"),l.textContent="CIDR range",s=I(),B.c(),o=I(),i=p("div"),c=p("div"),u=p("span"),u.textContent="Base address (IPv4)",f=I(),d=p("div");for(let E=0;E<4;E+=1)N[E].c();h=I(),m=p("div"),b=p("span"),b.textContent="Prefix length",v=I(),g=p("div"),y=p("select");for(let E=0;E<L.length;E+=1)L[E].c();w=I(),_=p("span"),k=D(C),q=D(" IPs"),S=I(),H&&H.c(),T=I(),G&&G.c(),a(l,"class","wizard-title svelte-1yc37nw"),a(e,"class","wizard-header svelte-1yc37nw"),a(u,"class","wizard-field-label svelte-1yc37nw"),a(d,"class","octets svelte-1yc37nw"),a(c,"class","wizard-field svelte-1yc37nw"),a(b,"class","wizard-field-label svelte-1yc37nw"),y.disabled=n[3],a(y,"class","prefix-select svelte-1yc37nw"),n[6]===void 0&&mt(()=>n[28].call(y)),a(_,"class","ip-count svelte-1yc37nw"),a(g,"class","prefix-with-count svelte-1yc37nw"),a(m,"class","wizard-field svelte-1yc37nw"),a(i,"class","wizard-fields svelte-1yc37nw"),a(t,"class","wizard-section svelte-1yc37nw")},m(E,P){R(E,t,P),r(t,e),r(e,l),r(e,s),B.m(e,null),r(t,o),r(t,i),r(i,c),r(c,u),r(c,f),r(c,d);for(let j=0;j<4;j+=1)N[j]&&N[j].m(d,null);r(i,h),r(i,m),r(m,b),r(m,v),r(m,g),r(g,y);for(let j=0;j<L.length;j+=1)L[j]&&L[j].m(y,null);at(y,n[6],!0),r(g,w),r(g,_),r(_,k),r(_,q),r(t,S),H&&H.m(t,null),r(t,T),G&&G.m(t,null),M||(A=[W(y,"change",n[28]),W(y,"change",n[19])],M=!0)},p(E,P){if(Q!==(Q=F(E))&&(B.d(1),B=Q(E),B&&(B.c(),B.m(e,null))),P[0]&524328){U=Ee([0,1,2,3]);let j;for(j=0;j<4;j+=1){const J=Cs(E,U,j);N[j]?N[j].p(J,P):(N[j]=Ts(J),N[j].c(),N[j].m(d,null))}for(;j<4;j+=1)N[j].d(1)}if(P[0]&32768){O=Ee(E[15]);let j;for(j=0;j<O.length;j+=1){const J=ys(E,O,j);L[j]?L[j].p(J,P):(L[j]=As(J),L[j].c(),L[j].m(y,null))}for(;j<L.length;j+=1)L[j].d(1);L.length=O.length}P[0]&8&&(y.disabled=E[3]),P[0]&4160&&at(y,E[6]),P[0]&16384&&C!==(C=E[14].toLocaleString()+"")&&V(k,C),E[1]?H&&(H.d(1),H=null):H?H.p(E,P):(H=Ps(E),H.c(),H.m(t,T)),E[1]?G?G.p(E,P):(G=zs(E),G.c(),G.m(t,null)):G&&(G.d(1),G=null)},d(E){E&&z(t),B.d(),Ke(N,E),Ke(L,E),H&&H.d(),G&&G.d(),M=!1,_e(A)}}}function xc(n){let t;return{c(){t=p("p"),t.textContent="Select a block above to see prefix options and suggested CIDR.",a(t,"class","wizard-hint wizard-hint-empty svelte-1yc37nw")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function $c(n){let t;return{c(){t=p("p"),t.textContent="Choose a prefix length for the allocation. The first possible subnet in the block is suggested.",a(t,"class","wizard-hint svelte-1yc37nw")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function Ss(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g=n[13].toLocaleString()+"",y,w,_,C,k,q,S,T,M=n[13].toLocaleString()+"",A,F,Q,B,U,N,O,L,H,G=Ee(n[12]),E=[];for(let ne=0;ne<G.length;ne+=1)E[ne]=Is(ws(n,G,ne));function P(ne,ie){return ne[7]?eu:qs}function j(ne,ie){return ie===qs?Kc(ne):ne}let J=P(n),oe=J(j(n,J));return{c(){t=p("div"),e=p("div"),l=p("span"),l.textContent="Parent block",s=I(),o=p("code"),i=D(n[2]),c=I(),u=p("div"),f=p("span"),f.textContent="Prefix length (subnet size)",d=I(),h=p("div"),m=p("select");for(let ne=0;ne<E.length;ne+=1)E[ne].c();b=I(),v=p("span"),y=D(g),w=D(" IPs"),_=I(),C=p("div"),k=p("span"),k.textContent="Suggested CIDR",q=I(),oe.c(),S=I(),T=p("span"),A=D(M),F=D(" IPs"),Q=I(),B=p("button"),U=D("Use this CIDR"),a(l,"class","wizard-field-label svelte-1yc37nw"),a(o,"class","parent-cidr-code svelte-1yc37nw"),a(e,"class","wizard-field parent-cidr-box svelte-1yc37nw"),a(f,"class","wizard-field-label svelte-1yc37nw"),m.disabled=n[3],a(m,"class","prefix-select svelte-1yc37nw"),n[6]===void 0&&mt(()=>n[29].call(m)),a(v,"class","ip-count svelte-1yc37nw"),a(h,"class","prefix-with-count svelte-1yc37nw"),a(u,"class","wizard-field svelte-1yc37nw"),a(t,"class","wizard-fields svelte-1yc37nw"),a(k,"class","result-label svelte-1yc37nw"),a(T,"class","ip-count svelte-1yc37nw"),a(B,"type","button"),a(B,"class","wizard-btn svelte-1yc37nw"),B.disabled=N=n[3]||n[7],a(B,"title",O=n[4]?"Uses bin-packed suggestion from existing allocations":""),a(C,"class","wizard-result wizard-result-suggested svelte-1yc37nw")},m(ne,ie){R(ne,t,ie),r(t,e),r(e,l),r(e,s),r(e,o),r(o,i),r(t,c),r(t,u),r(u,f),r(u,d),r(u,h),r(h,m);for(let ke=0;ke<E.length;ke+=1)E[ke]&&E[ke].m(m,null);at(m,n[6],!0),r(h,b),r(h,v),r(v,y),r(v,w),R(ne,_,ie),R(ne,C,ie),r(C,k),r(C,q),oe.m(C,null),r(C,S),r(C,T),r(T,A),r(T,F),r(C,Q),r(C,B),r(B,U),L||(H=[W(m,"change",n[29]),W(B,"click",n[18])],L=!0)},p(ne,ie){if(ie[0]&4&&V(i,ne[2]),ie[0]&4096){G=Ee(ne[12]);let ke;for(ke=0;ke<G.length;ke+=1){const le=ws(ne,G,ke);E[ke]?E[ke].p(le,ie):(E[ke]=Is(le),E[ke].c(),E[ke].m(m,null))}for(;ke<E.length;ke+=1)E[ke].d(1);E.length=G.length}ie[0]&8&&(m.disabled=ne[3]),ie[0]&4160&&at(m,ne[6]),ie[0]&8192&&g!==(g=ne[13].toLocaleString()+"")&&V(y,g),J===(J=P(ne))&&oe?oe.p(j(ne,J),ie):(oe.d(1),oe=J(j(ne,J)),oe&&(oe.c(),oe.m(C,S))),ie[0]&8192&&M!==(M=ne[13].toLocaleString()+"")&&V(A,M),ie[0]&136&&N!==(N=ne[3]||ne[7])&&(B.disabled=N),ie[0]&16&&O!==(O=ne[4]?"Uses bin-packed suggestion from existing allocations":"")&&a(B,"title",O)},d(ne){ne&&(z(t),z(_),z(C)),Ke(E,ne),oe.d(),L=!1,_e(H)}}}function Is(n){let t,e,l=n[31]+"",s,o;return{c(){t=p("option"),e=D("/"),s=D(l),t.__value=o=n[31],fe(t,t.__value)},m(i,c){R(i,t,c),r(t,e),r(t,s)},p(i,c){c[0]&4096&&l!==(l=i[31]+"")&&V(s,l),c[0]&4096&&o!==(o=i[31])&&(t.__value=o,fe(t,t.__value))},d(i){i&&z(t)}}}function qs(n){let t,e,l,s,o=n[37]&&Es(n);return{c(){t=p("code"),e=D(n[11]),l=I(),o&&o.c(),s=Xe(),a(t,"class","result-cidr svelte-1yc37nw")},m(i,c){R(i,t,c),r(t,e),R(i,l,c),o&&o.m(i,c),R(i,s,c)},p(i,c){c[0]&2048&&V(e,i[11]),i[37]?o?o.p(i,c):(o=Es(i),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(i){i&&(z(t),z(l),z(s)),o&&o.d(i)}}}function eu(n){let t;return{c(){t=p("span"),t.textContent="…",a(t,"class","suggested-loading svelte-1yc37nw")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Es(n){let t,e=n[37].start+"",l,s,o=n[37].end+"",i;return{c(){t=p("span"),l=D(e),s=D(" – "),i=D(o),a(t,"class","result-range svelte-1yc37nw")},m(c,u){R(c,t,u),r(t,l),r(t,s),r(t,i)},p(c,u){u[0]&2048&&e!==(e=c[37].start+"")&&V(l,e),u[0]&2048&&o!==(o=c[37].end+"")&&V(i,o)},d(c){c&&z(t)}}}function tu(n){let t;return{c(){t=p("p"),t.textContent="Choose the base address and prefix length for the block.",a(t,"class","wizard-hint svelte-1yc37nw")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function nu(n){let t;return{c(){t=p("p"),t.textContent="A suggested CIDR (no overlap with existing blocks in this environment) is shown below.",a(t,"class","wizard-hint svelte-1yc37nw")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function Ts(n){let t,e,l;function s(){n[27].call(t,n[34])}return{c(){t=p("input"),a(t,"type","number"),a(t,"min","0"),a(t,"max","255"),t.disabled=n[3],a(t,"class","octet svelte-1yc37nw")},m(o,i){R(o,t,i),fe(t,n[5][n[34]]),e||(l=[W(t,"input",s),W(t,"input",n[19])],e=!0)},p(o,i){n=o,i[0]&8&&(t.disabled=n[3]),i[0]&32&&Ro(t.value)!==n[5][n[34]]&&fe(t,n[5][n[34]])},d(o){o&&z(t),e=!1,_e(l)}}}function As(n){let t,e,l=n[31]+"",s;return{c(){t=p("option"),e=D("/"),s=D(l),t.__value=n[31],fe(t,t.__value)},m(o,i){R(o,t,i),r(t,e),r(t,s)},p:se,d(o){o&&z(t)}}}function Ps(n){let t,e,l,s,o,i,c=Oe(n[10]),u,f,d=n[14].toLocaleString()+"",h,m,b,v,g,y,w,_=c&&Ls(n);return{c(){t=p("div"),e=p("span"),e.textContent="Resulting CIDR",l=I(),s=p("code"),o=D(n[10]),i=I(),_&&_.c(),u=I(),f=p("span"),h=D(d),m=D(" IPs"),b=I(),v=p("button"),g=D("Use manual CIDR"),a(e,"class","result-label svelte-1yc37nw"),a(s,"class","result-cidr svelte-1yc37nw"),a(f,"class","ip-count svelte-1yc37nw"),a(v,"type","button"),a(v,"class","wizard-btn svelte-1yc37nw"),v.disabled=n[3],a(t,"class","wizard-result svelte-1yc37nw")},m(C,k){R(C,t,k),r(t,e),r(t,l),r(t,s),r(s,o),r(t,i),_&&_.m(t,null),r(t,u),r(t,f),r(f,h),r(f,m),r(t,b),r(t,v),r(v,g),y||(w=W(v,"click",n[16]),y=!0)},p(C,k){k[0]&1024&&V(o,C[10]),k[0]&1024&&(c=Oe(C[10])),c?_?_.p(C,k):(_=Ls(C),_.c(),_.m(t,u)):_&&(_.d(1),_=null),k[0]&16384&&d!==(d=C[14].toLocaleString()+"")&&V(h,d),k[0]&8&&(v.disabled=C[3])},d(C){C&&z(t),_&&_.d(),y=!1,w()}}}function Ls(n){let t,e=Oe(n[10]).start+"",l,s,o=Oe(n[10]).end+"",i;return{c(){t=p("span"),l=D(e),s=D(" – "),i=D(o),a(t,"class","result-range svelte-1yc37nw")},m(c,u){R(c,t,u),r(t,l),r(t,s),r(t,i)},p(c,u){u[0]&1024&&e!==(e=Oe(c[10]).start+"")&&V(l,e),u[0]&1024&&o!==(o=Oe(c[10]).end+"")&&V(i,o)},d(c){c&&z(t)}}}function zs(n){let t,e,l;function s(u,f){return u[9]?ou:u[8]?Rs:u[6]<9?su:lu}function o(u,f){return f===Rs?Yc(u):u}let i=s(n),c=i(o(n,i));return{c(){t=p("div"),e=p("span"),e.textContent="Suggested CIDR",l=I(),c.c(),a(e,"class","result-label svelte-1yc37nw"),a(t,"class","wizard-result wizard-result-suggested svelte-1yc37nw")},m(u,f){R(u,t,f),r(t,e),r(t,l),c.m(t,null)},p(u,f){i===(i=s(u))&&c?c.p(o(u,i),f):(c.d(1),c=i(o(u,i)),c&&(c.c(),c.m(t,null)))},d(u){u&&z(t),c.d()}}}function lu(n){let t;return{c(){t=p("span"),t.textContent="No suggestion available.",a(t,"class","wizard-hint wizard-hint-empty svelte-1yc37nw")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function su(n){let t;return{c(){t=p("span"),t.textContent="Use prefix /9 or higher for a suggestion.",a(t,"class","wizard-hint wizard-hint-empty svelte-1yc37nw")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Rs(n){let t,e,l,s,o,i=n[14].toLocaleString()+"",c,u,f,d,h,m,b,v,g=n[30]&&Ds(n);return{c(){t=p("code"),e=D(n[8]),l=I(),g&&g.c(),s=I(),o=p("span"),c=D(i),u=D(" IPs"),f=I(),d=p("button"),h=D("Use this CIDR"),a(t,"class","result-cidr svelte-1yc37nw"),a(o,"class","ip-count svelte-1yc37nw"),a(d,"type","button"),a(d,"class","wizard-btn svelte-1yc37nw"),d.disabled=m=n[3]||n[9],a(d,"title","Use suggested CIDR that does not overlap existing blocks in this environment")},m(y,w){R(y,t,w),r(t,e),R(y,l,w),g&&g.m(y,w),R(y,s,w),R(y,o,w),r(o,c),r(o,u),R(y,f,w),R(y,d,w),r(d,h),b||(v=W(d,"click",n[17]),b=!0)},p(y,w){w[0]&256&&V(e,y[8]),y[30]?g?g.p(y,w):(g=Ds(y),g.c(),g.m(s.parentNode,s)):g&&(g.d(1),g=null),w[0]&16384&&i!==(i=y[14].toLocaleString()+"")&&V(c,i),w[0]&520&&m!==(m=y[3]||y[9])&&(d.disabled=m)},d(y){y&&(z(t),z(l),z(s),z(o),z(f),z(d)),g&&g.d(y),b=!1,v()}}}function ou(n){let t;return{c(){t=p("span"),t.textContent="…",a(t,"class","suggested-loading svelte-1yc37nw")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Ds(n){let t,e=n[30].start+"",l,s,o=n[30].end+"",i;return{c(){t=p("span"),l=D(e),s=D(" – "),i=D(o),a(t,"class","result-range svelte-1yc37nw")},m(c,u){R(c,t,u),r(t,l),r(t,s),r(t,i)},p(c,u){u[0]&256&&e!==(e=c[30].start+"")&&V(l,e),u[0]&256&&o!==(o=c[30].end+"")&&V(i,o)},d(c){c&&z(t)}}}function iu(n){let t;function e(o,i){if(o[0]==="block")return Jc;if(o[0]==="allocation")return Xc}let l=e(n),s=l&&l(n);return{c(){t=p("div"),s&&s.c(),a(t,"class","cidr-wizard svelte-1yc37nw")},m(o,i){R(o,t,i),s&&s.m(t,null)},p(o,i){l===(l=e(o))&&s?s.p(o,i):(s&&s.d(1),s=l&&l(o),s&&(s.c(),s.m(t,null)))},i:se,o:se,d(o){o&&z(t),s&&s.d()}}}const en=30,ru=1;function En(n){if(!n||typeof n!="string")return null;const t=n.indexOf("/");if(t===-1)return null;const e=n.slice(0,t).trim(),l=parseInt(n.slice(t+1),10);return isNaN(l)||l<0||l>32?null:{network:e,prefix:l}}function au(n){return isNaN(n)?0:Math.max(0,Math.min(255,n))}function Ns(n){return n<0||n>32?0:Math.pow(2,32-n)}function cu(n,t,e){let l,s,o,i,c,u,f,d,h,m,{mode:b="block"}=t,{environmentId:v=null}=t,{parentCidr:g=""}=t,{blockId:y=null}=t,{value:w=""}=t,{disabled:_=!1}=t,C="",k=!1,q="",S=!1;const T=[8,12,16,20,24,25,26,27,28,29,30];let M=[10,0,0,0],A=24;function F(){e(20,w=l)}function Q(){q&&e(20,w=q)}function B(){e(20,w=h)}function U(){b==="block"&&e(20,w=l)}_t(()=>{b==="block"&&!w&&e(20,w=l)});function N(H){M[H]=Ro(this.value),e(5,M),e(0,b),e(20,w)}function O(){A=zt(this),e(6,A),e(0,b),e(20,w),e(2,g),e(12,u),e(25,c),e(26,i),e(0,b),e(2,g)}function L(){A=zt(this),e(6,A),e(0,b),e(20,w),e(2,g),e(12,u),e(25,c),e(26,i),e(0,b),e(2,g)}return n.$$set=H=>{"mode"in H&&e(0,b=H.mode),"environmentId"in H&&e(1,v=H.environmentId),"parentCidr"in H&&e(2,g=H.parentCidr),"blockId"in H&&e(21,y=H.blockId),"value"in H&&e(20,w=H.value),"disabled"in H&&e(3,_=H.disabled)},n.$$.update=()=>{if(n.$$.dirty[0]&1048577&&b==="block"&&w){const H=En(w);if(H){const G=H.network.split(".");G.length===4&&(e(5,M=G.map(E=>au(parseInt(E,10)))),e(6,A=Math.min(en,Math.max(8,H.prefix))))}}if(n.$$.dirty[0]&69&&b==="allocation"&&g){const H=En(g);H&&A<=H.prefix&&e(6,A=Math.min(en,H.prefix+1))}if(n.$$.dirty[0]&97&&e(10,l=b==="block"?`${M[0]}.${M[1]}.${M[2]}.${M[3]}/${A}`:""),n.$$.dirty[0]&65&&e(14,s=b==="block"?Ns(A):0),n.$$.dirty[0]&65&&e(13,o=b==="allocation"?Ns(A):0),n.$$.dirty[0]&5&&e(26,i=b==="allocation"&&g?En(g):null),n.$$.dirty[0]&67108864&&e(25,c=i?Math.min(en,i.prefix+1):ru),n.$$.dirty[0]&33554432&&e(12,u=Array.from({length:en-c+1},(H,G)=>c+G)),n.$$.dirty[0]&67108929&&e(23,f=b==="allocation"&&i?`${i.network}/${A}`:""),n.$$.dirty[0]&35651653&&e(24,d=b==="allocation"&&y&&g&&A>=c?[y,A]:[]),n.$$.dirty[0]&18874432)if(d.length){const[H,G]=d;e(7,k=!0),Mr(H,G).then(E=>{H===y&&G===A&&e(4,C=E)}).catch(()=>{H===y&&G===A&&e(4,C="")}).finally(()=>{H===y&&G===A&&e(7,k=!1)})}else e(4,C=""),e(7,k=!1);if(n.$$.dirty[0]&8388624&&e(11,h=C||f),n.$$.dirty[0]&67&&e(22,m=b==="block"&&v&&A>=9?[v,A]:[]),n.$$.dirty[0]&4194370)if(m.length){const[H,G]=m;e(9,S=!0),Or(H,G).then(E=>{H===v&&G===A&&e(8,q=E)}).catch(()=>{H===v&&G===A&&e(8,q="")}).finally(()=>{H===v&&G===A&&e(9,S=!1)})}else e(8,q=""),e(9,S=!1)},[b,v,g,_,C,M,A,k,q,S,l,h,u,o,s,T,F,Q,B,U,w,y,m,f,d,c,i,N,O,L]}class ri extends tt{constructor(t){super(),et(this,t,cu,iu,Je,{mode:0,environmentId:1,parentCidr:2,blockId:21,value:20,disabled:3},null,[-1,-1])}}function Ms(n,t,e){const l=n.slice();return l[29]=t[e],l[31]=e,l}function Os(n){let t,e,l,s,o,i,c,u=Ee(n[7]),f=[];for(let h=0;h<u.length;h+=1)f[h]=Bs(Ms(n,u,h));let d=n[7].length===0&&Fs();return{c(){t=p("div"),e=p("input"),l=I(),s=p("ul");for(let h=0;h<f.length;h+=1)f[h].c();o=I(),d&&d.c(),a(e,"type","text"),a(e,"class","searchable-select-input svelte-tnu12o"),a(e,"placeholder","Filter (optional)"),a(e,"role","combobox"),a(e,"aria-autocomplete","list"),a(e,"aria-expanded","true"),a(s,"class","searchable-select-list svelte-tnu12o"),a(s,"role","listbox"),a(t,"class","searchable-select-dropdown searchable-select-dropdown-fixed svelte-tnu12o"),a(t,"role","listbox"),pe(t,"position","fixed"),pe(t,"top",n[10].top+"px"),pe(t,"left",n[10].left+"px"),pe(t,"width",n[10].width+"px"),pe(t,"z-index","1000")},m(h,m){R(h,t,m),r(t,e),n[23](e),fe(e,n[4]),r(t,l),r(t,s);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(s,null);r(s,o),d&&d.m(s,null),n[27](s),i||(c=[W(e,"input",n[24]),W(e,"keydown",n[16]),W(e,"click",Ye(n[20]))],i=!0)},p(h,m){if(m[0]&16&&e.value!==h[4]&&fe(e,h[4]),m[0]&34977){u=Ee(h[7]);let b;for(b=0;b<u.length;b+=1){const v=Ms(h,u,b);f[b]?f[b].p(v,m):(f[b]=Bs(v),f[b].c(),f[b].m(s,o))}for(;b<f.length;b+=1)f[b].d(1);f.length=u.length}h[7].length===0?d||(d=Fs(),d.c(),d.m(s,null)):d&&(d.d(1),d=null),m[0]&1024&&pe(t,"top",h[10].top+"px"),m[0]&1024&&pe(t,"left",h[10].left+"px"),m[0]&1024&&pe(t,"width",h[10].width+"px")},d(h){h&&z(t),n[23](null),Ke(f,h),d&&d.d(),n[27](null),i=!1,_e(c)}}}function Bs(n){let t,e=n[29].label+"",l,s,o,i;function c(){return n[25](n[29])}function u(){return n[26](n[31])}return{c(){t=p("li"),l=D(e),a(t,"class","searchable-select-option svelte-tnu12o"),a(t,"role","option"),a(t,"aria-selected",s=n[29].value===n[0]),be(t,"highlighted",n[31]===n[11])},m(f,d){R(f,t,d),r(t,l),o||(i=[W(t,"mousedown",Ye(Dt(c))),W(t,"mouseenter",u)],o=!0)},p(f,d){n=f,d[0]&128&&e!==(e=n[29].label+"")&&V(l,e),d[0]&129&&s!==(s=n[29].value===n[0])&&a(t,"aria-selected",s),d[0]&2048&&be(t,"highlighted",n[31]===n[11])},d(f){f&&z(t),o=!1,_e(i)}}}function Fs(n){let t;return{c(){t=p("li"),t.textContent="No matches",a(t,"class","searchable-select-empty svelte-tnu12o")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function uu(n){let t,e,l,s=(n[3]?"":n[12]||n[1])+"",o,i,c,u,f,d,h,m;u=new Ve({props:{icon:n[3]?"lucide:chevron-up":"lucide:chevron-down",width:"1em",height:"1em"}});let b=n[3]&&Os(n);return{c(){t=p("div"),e=p("button"),l=p("span"),o=D(s),i=I(),c=p("span"),Ie(u.$$.fragment),f=I(),b&&b.c(),a(l,"class","searchable-select-value svelte-tnu12o"),a(c,"class","searchable-select-chevron svelte-tnu12o"),a(c,"aria-hidden","true"),a(e,"type","button"),a(e,"class","searchable-select-trigger svelte-tnu12o"),e.disabled=n[2],a(e,"aria-haspopup","listbox"),a(e,"aria-expanded",n[3]),a(e,"aria-labelledby","searchable-select-label"),be(e,"open",n[3]),a(t,"class","searchable-select svelte-tnu12o")},m(v,g){R(v,t,g),r(t,e),r(e,l),r(l,o),r(e,i),r(e,c),ye(u,c,null),n[21](e),r(t,f),b&&b.m(t,null),d=!0,h||(m=[W(e,"click",n[22]),W(e,"keydown",n[17])],h=!0)},p(v,g){(!d||g[0]&4106)&&s!==(s=(v[3]?"":v[12]||v[1])+"")&&V(o,s);const y={};g[0]&8&&(y.icon=v[3]?"lucide:chevron-up":"lucide:chevron-down"),u.$set(y),(!d||g[0]&4)&&(e.disabled=v[2]),(!d||g[0]&8)&&a(e,"aria-expanded",v[3]),(!d||g[0]&8)&&be(e,"open",v[3]),v[3]?b?b.p(v,g):(b=Os(v),b.c(),b.m(t,null)):b&&(b.d(1),b=null)},i(v){d||(Z(u.$$.fragment,v),d=!0)},o(v){Y(u.$$.fragment,v),d=!1},d(v){v&&z(t),Ce(u),n[21](null),b&&b.d(),h=!1,_e(m)}}}function fu(n,t,e){let l,s,o,i;const c=pt();let{options:u=[]}=t,{value:f=""}=t,{placeholder:d="Select…"}=t,{disabled:h=!1}=t,m=!1,b="",v=0,g=null,y=null,w=null,_={top:0,left:0,width:200};function C(){h||(e(3,m=!0),e(4,b=""),e(5,v=0))}function k(){e(3,m=!1),e(4,b="")}function q(L){e(0,f=L.value),k(),c("change",L.value)}function S(L){if(L.key==="Escape"){k();return}if(L.key==="ArrowDown"){L.preventDefault(),e(5,v=Math.min(v+1,o.length-1));return}if(L.key==="ArrowUp"){L.preventDefault(),e(5,v=Math.max(v-1,0));return}if(L.key==="Enter"){L.preventDefault();const H=o[i];H&&q(H);return}}function T(L){if(!h){if(m){if(L.key==="ArrowDown"||L.key==="ArrowUp"){L.preventDefault(),w==null||w.focus(),L.key==="ArrowDown"?e(5,v=Math.min(v+1,o.length-1)):e(5,v=Math.max(v-1,0));return}if(L.key==="Enter"&&o[i]){L.preventDefault(),q(o[i]);return}return}(L.key==="Enter"||L.key===" "||L.key==="ArrowDown")&&(L.preventDefault(),C())}}_t(()=>{function L(H){m&&!H.target.closest(".searchable-select")&&k()}return document.addEventListener("click",L),()=>document.removeEventListener("click",L)});function M(L){Pt.call(this,n,L)}function A(L){rt[L?"unshift":"push"](()=>{g=L,e(6,g)})}const F=()=>m?k():C();function Q(L){rt[L?"unshift":"push"](()=>{w=L,e(9,w)})}function B(){b=this.value,e(4,b)}const U=L=>q(L),N=L=>e(5,v=L);function O(L){rt[L?"unshift":"push"](()=>{y=L,e(8,y)})}return n.$$set=L=>{"options"in L&&e(18,u=L.options),"value"in L&&e(0,f=L.value),"placeholder"in L&&e(1,d=L.placeholder),"disabled"in L&&e(2,h=L.disabled)},n.$$.update=()=>{if(n.$$.dirty[0]&262145&&e(19,l=u.find(L=>L.value===f)),n.$$.dirty[0]&524288&&e(12,s=l?l.label:""),n.$$.dirty[0]&262160&&e(7,o=b.trim()?u.filter(L=>L.label.toLowerCase().includes(b.toLowerCase().trim())):u),n.$$.dirty[0]&168&&m&&o.length>0&&e(5,v=Math.min(v,o.length-1)),n.$$.dirty[0]&160&&e(11,i=Math.min(Math.max(0,v),Math.max(0,o.length-1))),n.$$.dirty[0]&72&&m&&g){const L=g.getBoundingClientRect();e(10,_={top:L.bottom+2,left:L.left,width:Math.max(L.width,200)})}},[f,d,h,m,b,v,g,o,y,w,_,i,s,C,k,q,S,T,u,l,M,A,F,Q,B,U,N,O]}class kn extends tt{constructor(t){super(),et(this,t,fu,uu,Je,{options:18,value:0,placeholder:1,disabled:2},null,[-1,-1])}}function js(n,t,e){const l=n.slice();l[126]=t[e];const s=Oe(l[126].cidr);return l[127]=s,l}function Us(n,t,e){const l=n.slice();l[130]=t[e];const s=Oe(l[130].cidr);return l[131]=s,l}function du(n){const t=n.slice(),e=t[57](t[130].environment_id);return t[134]=e,t}function Hs(n){let t,e,l;return{c(){t=p("button"),t.textContent="Show all",a(t,"type","button"),a(t,"class","btn btn-small svelte-prfe5y")},m(s,o){R(s,t,o),e||(l=W(t,"click",n[65]),e=!0)},p:se,d(s){s&&z(t),e=!1,l()}}}function pu(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M,A,F=n[17]&&Qs(n);const Q=[bu,mu],B=[];function U(P,j){return P[13].length===0&&!P[17]?0:P[13].length>0?1:-1}~(u=U(n))&&(f=B[u]=Q[u](n));let N=n[26]&&Js(n);const O=[Su,Cu],L=[];function H(P,j){return P[14].length===0&&!P[26]?0:P[14].length>0?1:-1}~(_=H(n))&&(C=L[_]=O[_](n));let G=n[31]&&lo(n),E=n[35]&&oo(n);return{c(){t=p("section"),e=p("div"),l=p("h2"),l.textContent="Network blocks",s=I(),o=p("button"),o.textContent="Create block",i=I(),F&&F.c(),c=I(),f&&f.c(),d=I(),h=p("section"),m=p("div"),b=p("h2"),b.textContent="Allocations",v=I(),g=p("button"),g.textContent="Create allocation",y=I(),N&&N.c(),w=I(),C&&C.c(),k=I(),G&&G.c(),q=I(),E&&E.c(),S=Xe(),a(l,"class","svelte-prfe5y"),a(o,"class","btn btn-primary svelte-prfe5y"),a(e,"class","section-header svelte-prfe5y"),a(t,"class","section svelte-prfe5y"),a(b,"class","svelte-prfe5y"),a(g,"class","btn btn-primary svelte-prfe5y"),a(m,"class","section-header svelte-prfe5y"),a(h,"class","section svelte-prfe5y")},m(P,j){R(P,t,j),r(t,e),r(e,l),r(e,s),r(e,o),r(t,i),F&&F.m(t,null),r(t,c),~u&&B[u].m(t,null),R(P,d,j),R(P,h,j),r(h,m),r(m,b),r(m,v),r(m,g),r(h,y),N&&N.m(h,null),r(h,w),~_&&L[_].m(h,null),R(P,k,j),G&&G.m(P,j),R(P,q,j),E&&E.m(P,j),R(P,S,j),T=!0,M||(A=[W(o,"click",n[61]),W(g,"click",n[103])],M=!0)},p(P,j){P[17]?F?(F.p(P,j),j[0]&131072&&Z(F,1)):(F=Qs(P),F.c(),Z(F,1),F.m(t,c)):F&&(Re(),Y(F,1,1,()=>{F=null}),De());let J=u;u=U(P),u===J?~u&&B[u].p(P,j):(f&&(Re(),Y(B[J],1,1,()=>{B[J]=null}),De()),~u?(f=B[u],f?f.p(P,j):(f=B[u]=Q[u](P),f.c()),Z(f,1),f.m(t,null)):f=null),P[26]?N?(N.p(P,j),j[0]&67108864&&Z(N,1)):(N=Js(P),N.c(),Z(N,1),N.m(h,w)):N&&(Re(),Y(N,1,1,()=>{N=null}),De());let oe=_;_=H(P),_===oe?~_&&L[_].p(P,j):(C&&(Re(),Y(L[oe],1,1,()=>{L[oe]=null}),De()),~_?(C=L[_],C?C.p(P,j):(C=L[_]=O[_](P),C.c()),Z(C,1),C.m(h,null)):C=null),P[31]?G?G.p(P,j):(G=lo(P),G.c(),G.m(q.parentNode,q)):G&&(G.d(1),G=null),P[35]?E?E.p(P,j):(E=oo(P),E.c(),E.m(S.parentNode,S)):E&&(E.d(1),E=null)},i(P){T||(Z(F),Z(f),Z(N),Z(C),T=!0)},o(P){Y(F),Y(f),Y(N),Y(C),T=!1},d(P){P&&(z(t),z(d),z(h),z(k),z(q),z(S)),F&&F.d(),~u&&B[u].d(),N&&N.d(),~_&&L[_].d(),G&&G.d(P),E&&E.d(P),M=!1,_e(A)}}}function hu(n){let t;return{c(){t=p("div"),t.textContent="Loading…",a(t,"class","loading svelte-prfe5y")},m(e,l){R(e,t,l)},p:se,i:se,o:se,d(e){e&&z(t)}}}function Qs(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M,A,F,Q,B,U,N,O,L,H,G=n[21]?"Creating…":"Create",E,P,j,J;function oe(le){n[84](le)}let ne={mode:"block",environmentId:n[20]||n[0]||null,disabled:n[21]};n[19]!==void 0&&(ne.value=n[19]),u=new ri({props:ne}),rt.push(()=>Zt(u,"value",oe));function ie(le){n[88](le)}let ke={options:[{value:"",label:"— None —"},...n[16].map(n[87])],placeholder:"— None —",disabled:n[21]};return n[20]!==void 0&&(ke.value=n[20]),F=new kn({props:ke}),rt.push(()=>Zt(F,"value",ie)),{c(){t=p("div"),e=p("h3"),e.textContent="New network block",l=I(),s=p("form"),o=p("div"),i=p("h4"),i.textContent="CIDR wizard",c=I(),Ie(u.$$.fragment),d=I(),h=p("div"),m=p("label"),b=p("span"),b.textContent="CIDR (from wizard or type here)",v=I(),g=p("input"),y=I(),w=p("div"),_=p("label"),C=p("span"),C.textContent="Name",k=I(),q=p("input"),S=I(),T=p("label"),M=p("span"),M.textContent="Environment",A=I(),Ie(F.$$.fragment),B=I(),U=p("div"),N=p("button"),O=D("Cancel"),L=I(),H=p("button"),E=D(G),a(e,"class","svelte-prfe5y"),a(i,"class","wizard-heading svelte-prfe5y"),a(o,"class","wizard-display svelte-prfe5y"),a(b,"class","svelte-prfe5y"),a(g,"type","text"),a(g,"placeholder","e.g. 10.0.0.0/8"),g.disabled=n[21],a(g,"class","svelte-prfe5y"),a(m,"class","svelte-prfe5y"),a(h,"class","form-row svelte-prfe5y"),a(C,"class","svelte-prfe5y"),a(q,"type","text"),a(q,"placeholder","e.g. prod-vpc"),q.disabled=n[21],a(q,"class","svelte-prfe5y"),a(_,"class","svelte-prfe5y"),a(M,"class","svelte-prfe5y"),a(T,"class","svelte-prfe5y"),a(w,"class","form-row svelte-prfe5y"),a(N,"type","button"),a(N,"class","btn svelte-prfe5y"),N.disabled=n[21],a(H,"type","submit"),a(H,"class","btn btn-primary svelte-prfe5y"),H.disabled=n[21],a(U,"class","form-actions svelte-prfe5y"),a(t,"class","form-card svelte-prfe5y")},m(le,ee){R(le,t,ee),r(t,e),r(t,l),r(t,s),r(s,o),r(o,i),r(o,c),ye(u,o,null),r(s,d),r(s,h),r(h,m),r(m,b),r(m,v),r(m,g),fe(g,n[19]),r(s,y),r(s,w),r(w,_),r(_,C),r(_,k),r(_,q),fe(q,n[18]),r(w,S),r(w,T),r(T,M),r(T,A),ye(F,T,null),r(s,B),r(s,U),r(U,N),r(N,O),r(U,L),r(U,H),r(H,E),P=!0,j||(J=[W(g,"input",n[85]),W(q,"input",n[86]),W(N,"click",n[89]),W(s,"submit",Dt(n[60]))],j=!0)},p(le,ee){const ce={};ee[0]&1048577&&(ce.environmentId=le[20]||le[0]||null),ee[0]&2097152&&(ce.disabled=le[21]),!f&&ee[0]&524288&&(f=!0,ce.value=le[19],Gt(()=>f=!1)),u.$set(ce),(!P||ee[0]&2097152)&&(g.disabled=le[21]),ee[0]&524288&&g.value!==le[19]&&fe(g,le[19]),(!P||ee[0]&2097152)&&(q.disabled=le[21]),ee[0]&262144&&q.value!==le[18]&&fe(q,le[18]);const Se={};ee[0]&65536&&(Se.options=[{value:"",label:"— None —"},...le[16].map(le[87])]),ee[0]&2097152&&(Se.disabled=le[21]),!Q&&ee[0]&1048576&&(Q=!0,Se.value=le[20],Gt(()=>Q=!1)),F.$set(Se),(!P||ee[0]&2097152)&&(N.disabled=le[21]),(!P||ee[0]&2097152)&&G!==(G=le[21]?"Creating…":"Create")&&V(E,G),(!P||ee[0]&2097152)&&(H.disabled=le[21])},i(le){P||(Z(u.$$.fragment,le),Z(F.$$.fragment,le),P=!0)},o(le){Y(u.$$.fragment,le),Y(F.$$.fragment,le),P=!1},d(le){le&&z(t),Ce(u),Ce(F),j=!1,_e(J)}}}function mu(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M,A,F,Q,B,U,N,O,L,H,G,E,P,j,J,oe,ne,ie,ke,le,ee,ce=n[3]+1+"",Se,qe,he=(n[53]||1)+"",Pe,X,x,te,Ge,We,re,de,Ue,we,Ze,ue,ge,me,nt,it,Fe=n[9]==="name"&&Ws(n),He=n[9]==="environment"&&Gs(n),Qe=n[9]==="usage"&&Zs(n),lt=Ee(n[48]),je=[];for(let ae=0;ae<lt.length;ae+=1)je[ae]=Xs(Us(n,lt,ae));const Nt=ae=>Y(je[ae],1,1,()=>{je[ae]=null});return{c(){t=p("div"),e=p("table"),l=p("thead"),s=p("tr"),o=p("th"),i=p("button"),c=D(`Name
                    `),Fe&&Fe.c(),u=I(),f=p("th"),d=p("button"),h=D(`Environment
                    `),He&&He.c(),m=I(),b=p("th"),b.textContent="CIDR",v=I(),g=p("th"),g.textContent="Total IPs",y=I(),w=p("th"),w.textContent="Used",_=I(),C=p("th"),C.textContent="Available",k=I(),q=p("th"),S=p("button"),T=D(`Usage
                    `),Qe&&Qe.c(),M=I(),A=p("th"),A.textContent="Actions",F=I(),Q=p("tbody");for(let ae=0;ae<je.length;ae+=1)je[ae].c();B=I(),U=p("div"),N=p("span"),O=D("Showing "),L=D(n[55]),H=D("–"),G=D(n[54]),E=D(" of "),P=D(n[5]),j=I(),J=p("div"),oe=p("button"),ne=D("Previous"),ke=I(),le=p("span"),ee=D("Page "),Se=D(ce),qe=D(" of "),Pe=D(he),X=I(),x=p("button"),te=D("Next"),We=I(),re=p("label"),de=p("span"),de.textContent="Per page",Ue=I(),we=p("select"),Ze=p("option"),Ze.textContent="10",ue=p("option"),ue.textContent="25",ge=p("option"),ge.textContent="50",a(i,"type","button"),a(i,"class","th-sort svelte-prfe5y"),a(o,"class","sortable svelte-prfe5y"),be(o,"sorted",n[9]==="name"),a(d,"type","button"),a(d,"class","th-sort svelte-prfe5y"),a(f,"class","sortable svelte-prfe5y"),be(f,"sorted",n[9]==="environment"),a(b,"class","svelte-prfe5y"),a(g,"class","svelte-prfe5y"),a(w,"class","svelte-prfe5y"),a(C,"class","svelte-prfe5y"),a(S,"type","button"),a(S,"class","th-sort svelte-prfe5y"),a(q,"class","sortable svelte-prfe5y"),be(q,"sorted",n[9]==="usage"),a(A,"class","actions svelte-prfe5y"),a(e,"class","table svelte-prfe5y"),a(t,"class","table-wrap svelte-prfe5y"),a(N,"class","pagination-info svelte-prfe5y"),a(oe,"type","button"),a(oe,"class","btn btn-small svelte-prfe5y"),oe.disabled=ie=n[3]<=0,a(le,"class","pagination-page svelte-prfe5y"),a(x,"type","button"),a(x,"class","btn btn-small svelte-prfe5y"),x.disabled=Ge=n[3]>=n[53]-1,a(J,"class","pagination-controls svelte-prfe5y"),a(de,"class","svelte-prfe5y"),Ze.__value=10,fe(Ze,Ze.__value),ue.__value=25,fe(ue,ue.__value),ge.__value=50,fe(ge,ge.__value),a(we,"class","svelte-prfe5y"),n[4]===void 0&&mt(()=>n[101].call(we)),a(re,"class","page-size svelte-prfe5y"),a(U,"class","pagination svelte-prfe5y")},m(ae,Te){R(ae,t,Te),r(t,e),r(e,l),r(l,s),r(s,o),r(o,i),r(i,c),Fe&&Fe.m(i,null),r(s,u),r(s,f),r(f,d),r(d,h),He&&He.m(d,null),r(s,m),r(s,b),r(s,v),r(s,g),r(s,y),r(s,w),r(s,_),r(s,C),r(s,k),r(s,q),r(q,S),r(S,T),Qe&&Qe.m(S,null),r(s,M),r(s,A),r(e,F),r(e,Q);for(let Ne=0;Ne<je.length;Ne+=1)je[Ne]&&je[Ne].m(Q,null);R(ae,B,Te),R(ae,U,Te),r(U,N),r(N,O),r(N,L),r(N,H),r(N,G),r(N,E),r(N,P),r(U,j),r(U,J),r(J,oe),r(oe,ne),r(J,ke),r(J,le),r(le,ee),r(le,Se),r(le,qe),r(le,Pe),r(J,X),r(J,x),r(x,te),r(U,We),r(U,re),r(re,de),r(re,Ue),r(re,we),r(we,Ze),r(we,ue),r(we,ge),at(we,n[4],!0),me=!0,nt||(it=[W(i,"click",n[90]),W(d,"click",n[91]),W(S,"click",n[92]),W(oe,"click",n[99]),W(x,"click",n[100]),W(we,"change",n[101]),W(we,"change",n[102])],nt=!0)},p(ae,Te){if(ae[9]==="name"?Fe?(Fe.p(ae,Te),Te[0]&512&&Z(Fe,1)):(Fe=Ws(ae),Fe.c(),Z(Fe,1),Fe.m(i,null)):Fe&&(Re(),Y(Fe,1,1,()=>{Fe=null}),De()),(!me||Te[0]&512)&&be(o,"sorted",ae[9]==="name"),ae[9]==="environment"?He?(He.p(ae,Te),Te[0]&512&&Z(He,1)):(He=Gs(ae),He.c(),Z(He,1),He.m(d,null)):He&&(Re(),Y(He,1,1,()=>{He=null}),De()),(!me||Te[0]&512)&&be(f,"sorted",ae[9]==="environment"),ae[9]==="usage"?Qe?(Qe.p(ae,Te),Te[0]&512&&Z(Qe,1)):(Qe=Zs(ae),Qe.c(),Z(Qe,1),Qe.m(S,null)):Qe&&(Re(),Y(Qe,1,1,()=>{Qe=null}),De()),(!me||Te[0]&512)&&be(q,"sorted",ae[9]==="usage"),Te[0]&62980096|Te[1]&67243264|Te[2]&71){lt=Ee(ae[48]);let Ne;for(Ne=0;Ne<lt.length;Ne+=1){const $=Us(ae,lt,Ne);je[Ne]?(je[Ne].p($,Te),Z(je[Ne],1)):(je[Ne]=Xs($),je[Ne].c(),Z(je[Ne],1),je[Ne].m(Q,null))}for(Re(),Ne=lt.length;Ne<je.length;Ne+=1)Nt(Ne);De()}(!me||Te[1]&16777216)&&V(L,ae[55]),(!me||Te[1]&8388608)&&V(G,ae[54]),(!me||Te[0]&32)&&V(P,ae[5]),(!me||Te[0]&8&&ie!==(ie=ae[3]<=0))&&(oe.disabled=ie),(!me||Te[0]&8)&&ce!==(ce=ae[3]+1+"")&&V(Se,ce),(!me||Te[1]&4194304)&&he!==(he=(ae[53]||1)+"")&&V(Pe,he),(!me||Te[0]&8|Te[1]&4194304&&Ge!==(Ge=ae[3]>=ae[53]-1))&&(x.disabled=Ge),Te[0]&16&&at(we,ae[4])},i(ae){if(!me){Z(Fe),Z(He),Z(Qe);for(let Te=0;Te<lt.length;Te+=1)Z(je[Te]);me=!0}},o(ae){Y(Fe),Y(He),Y(Qe),je=je.filter(Boolean);for(let Te=0;Te<je.length;Te+=1)Y(je[Te]);me=!1},d(ae){ae&&(z(t),z(B),z(U)),Fe&&Fe.d(),He&&He.d(),Qe&&Qe.d(),Ke(je,ae),nt=!1,_e(it)}}}function bu(n){let t;function e(o,i){return o[49]==="orphaned"?yu:o[49]!=="all"?wu:vu}let l=e(n),s=l(n);return{c(){t=p("div"),s.c(),a(t,"class","empty svelte-prfe5y")},m(o,i){R(o,t,i),s.m(t,null)},p(o,i){l!==(l=e(o))&&(s.d(1),s=l(o),s&&(s.c(),s.m(t,null)))},i:se,o:se,d(o){o&&z(t),s.d()}}}function Ws(n){let t,e,l;return e=new Ve({props:{icon:n[10]==="asc"?"lucide:chevron-up":"lucide:chevron-down",width:"0.875em",height:"0.875em"}}),{c(){t=p("span"),Ie(e.$$.fragment),a(t,"class","sort-icon svelte-prfe5y"),a(t,"aria-hidden","true")},m(s,o){R(s,t,o),ye(e,t,null),l=!0},p(s,o){const i={};o[0]&1024&&(i.icon=s[10]==="asc"?"lucide:chevron-up":"lucide:chevron-down"),e.$set(i)},i(s){l||(Z(e.$$.fragment,s),l=!0)},o(s){Y(e.$$.fragment,s),l=!1},d(s){s&&z(t),Ce(e)}}}function Gs(n){let t,e,l;return e=new Ve({props:{icon:n[10]==="asc"?"lucide:chevron-up":"lucide:chevron-down",width:"0.875em",height:"0.875em"}}),{c(){t=p("span"),Ie(e.$$.fragment),a(t,"class","sort-icon svelte-prfe5y"),a(t,"aria-hidden","true")},m(s,o){R(s,t,o),ye(e,t,null),l=!0},p(s,o){const i={};o[0]&1024&&(i.icon=s[10]==="asc"?"lucide:chevron-up":"lucide:chevron-down"),e.$set(i)},i(s){l||(Z(e.$$.fragment,s),l=!0)},o(s){Y(e.$$.fragment,s),l=!1},d(s){s&&z(t),Ce(e)}}}function Zs(n){let t,e,l;return e=new Ve({props:{icon:n[10]==="asc"?"lucide:chevron-up":"lucide:chevron-down",width:"0.875em",height:"0.875em"}}),{c(){t=p("span"),Ie(e.$$.fragment),a(t,"class","sort-icon svelte-prfe5y"),a(t,"aria-hidden","true")},m(s,o){R(s,t,o),ye(e,t,null),l=!0},p(s,o){const i={};o[0]&1024&&(i.icon=s[10]==="asc"?"lucide:chevron-up":"lucide:chevron-down"),e.$set(i)},i(s){l||(Z(e.$$.fragment,s),l=!0)},o(s){Y(e.$$.fragment,s),l=!1},d(s){s&&z(t),Ce(e)}}}function gu(n){let t,e=n[130].name+"",l,s,o,i,c,u,f,d=n[130].cidr+"",h,m,b,v,g=n[130].total_ips.toLocaleString()+"",y,w,_,C=n[130].used_ips.toLocaleString()+"",k,q,S,T=n[130].available_ips.toLocaleString()+"",M,A,F,Q,B,U,N,O,L=ro(n[130])+"",H,G,E,P,j,J,oe,ne,ie,ke,le;function ee(x,te){return te[1]&131072&&(i=null),i==null&&(i=!!jt(x[130])),i?ku:Vs}function ce(x,te){return te===Vs?du(x):x}let Se=ee(n,[-1,-1,-1,-1,-1]),qe=Se(ce(n,Se)),he=n[131]&&Ks(n);J=new Ve({props:{icon:"lucide:ellipsis-vertical",width:"1.25em",height:"1.25em"}});function Pe(...x){return n[96](n[130],...x)}let X=n[39]===n[130].id&&Ys(n);return{c(){t=p("td"),l=D(e),s=I(),o=p("td"),qe.c(),c=I(),u=p("td"),f=p("code"),h=D(d),m=I(),he&&he.c(),b=I(),v=p("td"),y=D(g),w=I(),_=p("td"),k=D(C),q=I(),S=p("td"),M=D(T),A=I(),F=p("td"),Q=p("div"),B=p("div"),U=p("div"),N=I(),O=p("span"),H=D(L),G=I(),E=p("td"),P=p("div"),j=p("button"),Ie(J.$$.fragment),ne=I(),X&&X.c(),a(t,"class","name svelte-prfe5y"),a(o,"class","environment svelte-prfe5y"),a(f,"class","svelte-prfe5y"),a(u,"class","cidr svelte-prfe5y"),a(v,"class","num svelte-prfe5y"),a(_,"class","num svelte-prfe5y"),a(S,"class","num svelte-prfe5y"),a(U,"class","bar svelte-prfe5y"),pe(U,"width",ut(n[130])+"%"),be(U,"high",ut(n[130])>=80),be(U,"mid",ut(n[130])>=50&&ut(n[130])<80),a(B,"class","bar-wrap svelte-prfe5y"),a(O,"class","pct svelte-prfe5y"),a(Q,"class","usage-cell svelte-prfe5y"),a(F,"class","svelte-prfe5y"),a(j,"type","button"),a(j,"class","menu-trigger svelte-prfe5y"),a(j,"aria-haspopup","true"),a(j,"aria-expanded",oe=n[39]===n[130].id),a(j,"title","Actions"),a(P,"class","actions-menu-wrap svelte-prfe5y"),a(P,"role","group"),a(E,"class","actions svelte-prfe5y")},m(x,te){R(x,t,te),r(t,l),R(x,s,te),R(x,o,te),qe.m(o,null),R(x,c,te),R(x,u,te),r(u,f),r(f,h),r(u,m),he&&he.m(u,null),R(x,b,te),R(x,v,te),r(v,y),R(x,w,te),R(x,_,te),r(_,k),R(x,q,te),R(x,S,te),r(S,M),R(x,A,te),R(x,F,te),r(F,Q),r(Q,B),r(B,U),r(Q,N),r(Q,O),r(O,H),R(x,G,te),R(x,E,te),r(E,P),r(P,j),ye(J,j,null),r(P,ne),X&&X.m(P,null),ie=!0,ke||(le=W(j,"click",Ye(Pe)),ke=!0)},p(x,te){n=x,(!ie||te[1]&131072)&&e!==(e=n[130].name+"")&&V(l,e),Se===(Se=ee(n,te))&&qe?qe.p(ce(n,Se),te):(qe.d(1),qe=Se(ce(n,Se)),qe&&(qe.c(),qe.m(o,null))),(!ie||te[1]&131072)&&d!==(d=n[130].cidr+"")&&V(h,d),n[131]?he?he.p(n,te):(he=Ks(n),he.c(),he.m(u,null)):he&&(he.d(1),he=null),(!ie||te[1]&131072)&&g!==(g=n[130].total_ips.toLocaleString()+"")&&V(y,g),(!ie||te[1]&131072)&&C!==(C=n[130].used_ips.toLocaleString()+"")&&V(k,C),(!ie||te[1]&131072)&&T!==(T=n[130].available_ips.toLocaleString()+"")&&V(M,T),(!ie||te[1]&131072)&&pe(U,"width",ut(n[130])+"%"),(!ie||te[1]&131072)&&be(U,"high",ut(n[130])>=80),(!ie||te[1]&131072)&&be(U,"mid",ut(n[130])>=50&&ut(n[130])<80),(!ie||te[1]&131072)&&L!==(L=ro(n[130])+"")&&V(H,L),(!ie||te[1]&131328&&oe!==(oe=n[39]===n[130].id))&&a(j,"aria-expanded",oe),n[39]===n[130].id?X?X.p(n,te):(X=Ys(n),X.c(),X.m(P,null)):X&&(X.d(1),X=null)},i(x){ie||(Z(J.$$.fragment,x),ie=!0)},o(x){Y(J.$$.fragment,x),ie=!1},d(x){x&&(z(t),z(s),z(o),z(c),z(u),z(b),z(v),z(w),z(_),z(q),z(S),z(A),z(F),z(G),z(E)),qe.d(),he&&he.d(),Ce(J),X&&X.d(),ke=!1,le()}}}function _u(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y=n[25]?"Saving…":"Save",w,_,C,k,q,S;function T(A){n[95](A)}let M={options:[{value:"",label:"— None —"},...n[16].map(n[94])],placeholder:"— None —",disabled:n[25]};return n[24]!==void 0&&(M.value=n[24]),u=new kn({props:M}),rt.push(()=>Zt(u,"value",T)),{c(){t=p("td"),e=p("form"),l=p("input"),s=I(),o=p("label"),i=p("span"),i.textContent="Environment",c=I(),Ie(u.$$.fragment),d=I(),h=p("div"),m=p("button"),b=D("Cancel"),v=I(),g=p("button"),w=D(y),_=I(),C=p("td"),a(l,"type","text"),a(l,"placeholder","Block name"),l.disabled=n[25],a(l,"class","svelte-prfe5y"),a(i,"class","sr-only svelte-prfe5y"),a(o,"class","inline-edit-env svelte-prfe5y"),a(m,"type","button"),a(m,"class","btn btn-small svelte-prfe5y"),m.disabled=n[25],a(g,"type","submit"),a(g,"class","btn btn-primary btn-small svelte-prfe5y"),g.disabled=n[25],a(h,"class","inline-actions svelte-prfe5y"),a(e,"class","inline-edit svelte-prfe5y"),a(t,"colspan","7"),a(t,"class","edit-cell svelte-prfe5y"),a(C,"class","actions svelte-prfe5y")},m(A,F){R(A,t,F),r(t,e),r(e,l),fe(l,n[23]),r(e,s),r(e,o),r(o,i),r(o,c),ye(u,o,null),r(e,d),r(e,h),r(h,m),r(m,b),r(h,v),r(h,g),r(g,w),R(A,_,F),R(A,C,F),k=!0,q||(S=[W(l,"input",n[93]),W(m,"click",n[63]),W(e,"submit",Dt(n[64]))],q=!0)},p(A,F){(!k||F[0]&33554432)&&(l.disabled=A[25]),F[0]&8388608&&l.value!==A[23]&&fe(l,A[23]);const Q={};F[0]&65536&&(Q.options=[{value:"",label:"— None —"},...A[16].map(A[94])]),F[0]&33554432&&(Q.disabled=A[25]),!f&&F[0]&16777216&&(f=!0,Q.value=A[24],Gt(()=>f=!1)),u.$set(Q),(!k||F[0]&33554432)&&(m.disabled=A[25]),(!k||F[0]&33554432)&&y!==(y=A[25]?"Saving…":"Save")&&V(w,y),(!k||F[0]&33554432)&&(g.disabled=A[25])},i(A){k||(Z(u.$$.fragment,A),k=!0)},o(A){Y(u.$$.fragment,A),k=!1},d(A){A&&(z(t),z(_),z(C)),Ce(u),q=!1,_e(S)}}}function Vs(n){let t,e=(n[134]??"—")+"",l;return{c(){t=p("span"),l=D(e),a(t,"class","tag tag-env svelte-prfe5y")},m(s,o){R(s,t,o),r(t,l)},p(s,o){o[1]&131072&&e!==(e=(s[134]??"—")+"")&&V(l,e)},d(s){s&&z(t)}}}function ku(n){let t;return{c(){t=p("span"),t.textContent="Orphaned",a(t,"class","tag tag-orphaned svelte-prfe5y")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Ks(n){let t,e=n[131].start+"",l,s,o=n[131].end+"",i;return{c(){t=p("span"),l=D(e),s=D(" – "),i=D(o),a(t,"class","cidr-range svelte-prfe5y")},m(c,u){R(c,t,u),r(t,l),r(t,s),r(t,i)},p(c,u){u[1]&131072&&e!==(e=c[131].start+"")&&V(l,e),u[1]&131072&&o!==(o=c[131].end+"")&&V(i,o)},d(c){c&&z(t)}}}function Ys(n){let t,e,l,s,o,i;function c(){return n[97](n[130])}function u(){return n[98](n[130])}return{c(){t=p("div"),e=p("button"),e.textContent="Edit",l=I(),s=p("button"),s.textContent="Delete",a(e,"type","button"),a(e,"role","menuitem"),a(e,"class","svelte-prfe5y"),a(s,"type","button"),a(s,"role","menuitem"),a(s,"class","menu-item-danger svelte-prfe5y"),a(t,"class","menu-dropdown menu-dropdown-fixed svelte-prfe5y"),a(t,"role","menu"),pe(t,"position","fixed"),pe(t,"left",n[42].left+"px"),pe(t,"top",n[42].top+"px"),pe(t,"transform","translateX(-100%)"),pe(t,"z-index","1000")},m(f,d){R(f,t,d),r(t,e),r(t,l),r(t,s),o||(i=[W(e,"click",Ye(c)),W(s,"click",Ye(u))],o=!0)},p(f,d){n=f,d[1]&2048&&pe(t,"left",n[42].left+"px"),d[1]&2048&&pe(t,"top",n[42].top+"px")},d(f){f&&z(t),o=!1,_e(i)}}}function Xs(n){let t,e,l,s,o;const i=[_u,gu],c=[];function u(f,d){return f[22]===f[130].id?0:1}return e=u(n),l=c[e]=i[e](n),{c(){t=p("tr"),l.c(),s=I()},m(f,d){R(f,t,d),c[e].m(t,null),r(t,s),o=!0},p(f,d){let h=e;e=u(f),e===h?c[e].p(f,d):(Re(),Y(c[h],1,1,()=>{c[h]=null}),De(),l=c[e],l?l.p(f,d):(l=c[e]=i[e](f),l.c()),Z(l,1),l.m(t,s))},i(f){o||(Z(l),o=!0)},o(f){Y(l),o=!1},d(f){f&&z(t),c[e].d()}}}function vu(n){let t;return{c(){t=D("No blocks yet. Create one above.")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function wu(n){let t;return{c(){t=D("No blocks in this environment yet. Create one above.")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function yu(n){let t;return{c(){t=D("No orphaned blocks.")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function Js(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M,A,F,Q,B,U,N,O,L,H,G,E=n[29]?"Creating…":"Create",P,j,J,oe;function ne(ee){n[104](ee)}let ie={options:[{value:"",label:"— Select parent block —"},...n[13].map(ao)],placeholder:"— Select parent block —",disabled:n[29]};n[2]!==void 0&&(ie.value=n[2]),f=new kn({props:ie}),rt.push(()=>Zt(f,"value",ne));function ke(ee){n[105](ee)}let le={mode:"allocation",parentCidr:n[46],blockId:n[45],disabled:n[29]};return n[28]!==void 0&&(le.value=n[28]),g=new ri({props:le}),rt.push(()=>Zt(g,"value",ke)),{c(){t=p("div"),e=p("h3"),e.textContent="New allocation",l=I(),s=p("form"),o=p("div"),i=p("label"),c=p("span"),c.textContent="Block name",u=I(),Ie(f.$$.fragment),h=I(),m=p("div"),b=p("h4"),b.textContent="CIDR wizard",v=I(),Ie(g.$$.fragment),w=I(),_=p("div"),C=p("label"),k=p("span"),k.textContent="CIDR (from wizard or type here)",q=I(),S=p("input"),T=I(),M=p("div"),A=p("label"),F=p("span"),F.textContent="Name",Q=I(),B=p("input"),U=I(),N=p("div"),O=p("button"),L=D("Cancel"),H=I(),G=p("button"),P=D(E),a(e,"class","svelte-prfe5y"),a(c,"class","svelte-prfe5y"),a(i,"id","searchable-select-label"),a(i,"class","svelte-prfe5y"),a(o,"class","form-row svelte-prfe5y"),a(b,"class","wizard-heading svelte-prfe5y"),a(m,"class","wizard-display svelte-prfe5y"),a(k,"class","svelte-prfe5y"),a(S,"type","text"),a(S,"placeholder","e.g. 10.0.1.0/24"),S.disabled=n[29],a(S,"class","svelte-prfe5y"),a(C,"class","svelte-prfe5y"),a(_,"class","form-row svelte-prfe5y"),a(F,"class","svelte-prfe5y"),a(B,"type","text"),a(B,"placeholder","e.g. app-subnet"),B.disabled=n[29],a(B,"class","svelte-prfe5y"),a(A,"class","svelte-prfe5y"),a(M,"class","form-row svelte-prfe5y"),a(O,"type","button"),a(O,"class","btn svelte-prfe5y"),O.disabled=n[29],a(G,"type","submit"),a(G,"class","btn btn-primary svelte-prfe5y"),G.disabled=n[29],a(N,"class","form-actions svelte-prfe5y"),a(t,"class","form-card svelte-prfe5y")},m(ee,ce){R(ee,t,ce),r(t,e),r(t,l),r(t,s),r(s,o),r(o,i),r(i,c),r(i,u),ye(f,i,null),r(s,h),r(s,m),r(m,b),r(m,v),ye(g,m,null),r(s,w),r(s,_),r(_,C),r(C,k),r(C,q),r(C,S),fe(S,n[28]),r(s,T),r(s,M),r(M,A),r(A,F),r(A,Q),r(A,B),fe(B,n[27]),r(s,U),r(s,N),r(N,O),r(O,L),r(N,H),r(N,G),r(G,P),j=!0,J||(oe=[W(S,"input",n[106]),W(B,"input",n[107]),W(O,"click",n[108]),W(s,"submit",Dt(n[67]))],J=!0)},p(ee,ce){const Se={};ce[0]&8192&&(Se.options=[{value:"",label:"— Select parent block —"},...ee[13].map(ao)]),ce[0]&536870912&&(Se.disabled=ee[29]),!d&&ce[0]&4&&(d=!0,Se.value=ee[2],Gt(()=>d=!1)),f.$set(Se);const qe={};ce[1]&32768&&(qe.parentCidr=ee[46]),ce[1]&16384&&(qe.blockId=ee[45]),ce[0]&536870912&&(qe.disabled=ee[29]),!y&&ce[0]&268435456&&(y=!0,qe.value=ee[28],Gt(()=>y=!1)),g.$set(qe),(!j||ce[0]&536870912)&&(S.disabled=ee[29]),ce[0]&268435456&&S.value!==ee[28]&&fe(S,ee[28]),(!j||ce[0]&536870912)&&(B.disabled=ee[29]),ce[0]&134217728&&B.value!==ee[27]&&fe(B,ee[27]),(!j||ce[0]&536870912)&&(O.disabled=ee[29]),(!j||ce[0]&536870912)&&E!==(E=ee[29]?"Creating…":"Create")&&V(P,E),(!j||ce[0]&536870912)&&(G.disabled=ee[29])},i(ee){j||(Z(f.$$.fragment,ee),Z(g.$$.fragment,ee),j=!0)},o(ee){Y(f.$$.fragment,ee),Y(g.$$.fragment,ee),j=!1},d(ee){ee&&z(t),Ce(f),Ce(g),J=!1,_e(oe)}}}function Cu(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M,A,F,Q,B,U,N,O,L,H,G,E=n[6]+1+"",P,j,J=(n[50]||1)+"",oe,ne,ie,ke,le,ee,ce,Se,qe,he,Pe,X,x,te,Ge,We,re=n[11]==="name"&&xs(n),de=n[11]==="block"&&$s(n),Ue=Ee(n[47]),we=[];for(let ue=0;ue<Ue.length;ue+=1)we[ue]=no(js(n,Ue,ue));const Ze=ue=>Y(we[ue],1,1,()=>{we[ue]=null});return{c(){t=p("div"),e=p("table"),l=p("thead"),s=p("tr"),o=p("th"),i=p("button"),c=D(`Name
                    `),re&&re.c(),u=I(),f=p("th"),d=p("button"),h=D(`Block
                    `),de&&de.c(),m=I(),b=p("th"),b.textContent="CIDR",v=I(),g=p("th"),g.textContent="Actions",y=I(),w=p("tbody");for(let ue=0;ue<we.length;ue+=1)we[ue].c();_=I(),C=p("div"),k=p("span"),q=D("Showing "),S=D(n[52]),T=D("–"),M=D(n[51]),A=D(" of "),F=D(n[8]),Q=I(),B=p("div"),U=p("button"),N=D("Previous"),L=I(),H=p("span"),G=D("Page "),P=D(E),j=D(" of "),oe=D(J),ne=I(),ie=p("button"),ke=D("Next"),ee=I(),ce=p("label"),Se=p("span"),Se.textContent="Per page",qe=I(),he=p("select"),Pe=p("option"),Pe.textContent="10",X=p("option"),X.textContent="25",x=p("option"),x.textContent="50",a(i,"type","button"),a(i,"class","th-sort svelte-prfe5y"),a(o,"class","sortable svelte-prfe5y"),be(o,"sorted",n[11]==="name"),a(d,"type","button"),a(d,"class","th-sort svelte-prfe5y"),a(f,"class","sortable svelte-prfe5y"),be(f,"sorted",n[11]==="block"),a(b,"class","svelte-prfe5y"),a(g,"class","actions svelte-prfe5y"),a(e,"class","table svelte-prfe5y"),a(t,"class","table-wrap svelte-prfe5y"),a(k,"class","pagination-info svelte-prfe5y"),a(U,"type","button"),a(U,"class","btn btn-small svelte-prfe5y"),U.disabled=O=n[6]<=0,a(H,"class","pagination-page svelte-prfe5y"),a(ie,"type","button"),a(ie,"class","btn btn-small svelte-prfe5y"),ie.disabled=le=n[6]>=n[50]-1,a(B,"class","pagination-controls svelte-prfe5y"),a(Se,"class","svelte-prfe5y"),Pe.__value=10,fe(Pe,Pe.__value),X.__value=25,fe(X,X.__value),x.__value=50,fe(x,x.__value),a(he,"class","svelte-prfe5y"),n[7]===void 0&&mt(()=>n[115].call(he)),a(ce,"class","page-size svelte-prfe5y"),a(C,"class","pagination svelte-prfe5y")},m(ue,ge){R(ue,t,ge),r(t,e),r(e,l),r(l,s),r(s,o),r(o,i),r(i,c),re&&re.m(i,null),r(s,u),r(s,f),r(f,d),r(d,h),de&&de.m(d,null),r(s,m),r(s,b),r(s,v),r(s,g),r(e,y),r(e,w);for(let me=0;me<we.length;me+=1)we[me]&&we[me].m(w,null);R(ue,_,ge),R(ue,C,ge),r(C,k),r(k,q),r(k,S),r(k,T),r(k,M),r(k,A),r(k,F),r(C,Q),r(C,B),r(B,U),r(U,N),r(B,L),r(B,H),r(H,G),r(H,P),r(H,j),r(H,oe),r(B,ne),r(B,ie),r(ie,ke),r(C,ee),r(C,ce),r(ce,Se),r(ce,qe),r(ce,he),r(he,Pe),r(he,X),r(he,x),at(he,n[7],!0),te=!0,Ge||(We=[W(i,"click",n[109]),W(d,"click",n[110]),W(U,"click",n[113]),W(ie,"click",n[114]),W(he,"change",n[115]),W(he,"change",n[116])],Ge=!0)},p(ue,ge){if(ue[11]==="name"?re?(re.p(ue,ge),ge[0]&2048&&Z(re,1)):(re=xs(ue),re.c(),Z(re,1),re.m(i,null)):re&&(Re(),Y(re,1,1,()=>{re=null}),De()),(!te||ge[0]&2048)&&be(o,"sorted",ue[11]==="name"),ue[11]==="block"?de?(de.p(ue,ge),ge[0]&2048&&Z(de,1)):(de=$s(ue),de.c(),Z(de,1),de.m(d,null)):de&&(Re(),Y(de,1,1,()=>{de=null}),De()),(!te||ge[0]&2048)&&be(f,"sorted",ue[11]==="block"),ge[1]&78336|ge[2]&512){Ue=Ee(ue[47]);let me;for(me=0;me<Ue.length;me+=1){const nt=js(ue,Ue,me);we[me]?(we[me].p(nt,ge),Z(we[me],1)):(we[me]=no(nt),we[me].c(),Z(we[me],1),we[me].m(w,null))}for(Re(),me=Ue.length;me<we.length;me+=1)Ze(me);De()}(!te||ge[1]&2097152)&&V(S,ue[52]),(!te||ge[1]&1048576)&&V(M,ue[51]),(!te||ge[0]&256)&&V(F,ue[8]),(!te||ge[0]&64&&O!==(O=ue[6]<=0))&&(U.disabled=O),(!te||ge[0]&64)&&E!==(E=ue[6]+1+"")&&V(P,E),(!te||ge[1]&524288)&&J!==(J=(ue[50]||1)+"")&&V(oe,J),(!te||ge[0]&64|ge[1]&524288&&le!==(le=ue[6]>=ue[50]-1))&&(ie.disabled=le),ge[0]&128&&at(he,ue[7])},i(ue){if(!te){Z(re),Z(de);for(let ge=0;ge<Ue.length;ge+=1)Z(we[ge]);te=!0}},o(ue){Y(re),Y(de),we=we.filter(Boolean);for(let ge=0;ge<we.length;ge+=1)Y(we[ge]);te=!1},d(ue){ue&&(z(t),z(_),z(C)),re&&re.d(),de&&de.d(),Ke(we,ue),Ge=!1,_e(We)}}}function Su(n){let t;function e(o,i){return o[49]!=="all"?qu:Iu}let l=e(n),s=l(n);return{c(){t=p("div"),s.c(),a(t,"class","empty svelte-prfe5y")},m(o,i){R(o,t,i),s.m(t,null)},p(o,i){l!==(l=e(o))&&(s.d(1),s=l(o),s&&(s.c(),s.m(t,null)))},i:se,o:se,d(o){o&&z(t),s.d()}}}function xs(n){let t,e,l;return e=new Ve({props:{icon:n[12]==="asc"?"lucide:chevron-up":"lucide:chevron-down",width:"0.875em",height:"0.875em"}}),{c(){t=p("span"),Ie(e.$$.fragment),a(t,"class","sort-icon svelte-prfe5y"),a(t,"aria-hidden","true")},m(s,o){R(s,t,o),ye(e,t,null),l=!0},p(s,o){const i={};o[0]&4096&&(i.icon=s[12]==="asc"?"lucide:chevron-up":"lucide:chevron-down"),e.$set(i)},i(s){l||(Z(e.$$.fragment,s),l=!0)},o(s){Y(e.$$.fragment,s),l=!1},d(s){s&&z(t),Ce(e)}}}function $s(n){let t,e,l;return e=new Ve({props:{icon:n[12]==="asc"?"lucide:chevron-up":"lucide:chevron-down",width:"0.875em",height:"0.875em"}}),{c(){t=p("span"),Ie(e.$$.fragment),a(t,"class","sort-icon svelte-prfe5y"),a(t,"aria-hidden","true")},m(s,o){R(s,t,o),ye(e,t,null),l=!0},p(s,o){const i={};o[0]&4096&&(i.icon=s[12]==="asc"?"lucide:chevron-up":"lucide:chevron-down"),e.$set(i)},i(s){l||(Z(e.$$.fragment,s),l=!0)},o(s){Y(e.$$.fragment,s),l=!1},d(s){s&&z(t),Ce(e)}}}function eo(n){let t,e=n[127].start+"",l,s,o=n[127].end+"",i;return{c(){t=p("span"),l=D(e),s=D(" – "),i=D(o),a(t,"class","cidr-range svelte-prfe5y")},m(c,u){R(c,t,u),r(t,l),r(t,s),r(t,i)},p(c,u){u[1]&65536&&e!==(e=c[127].start+"")&&V(l,e),u[1]&65536&&o!==(o=c[127].end+"")&&V(i,o)},d(c){c&&z(t)}}}function to(n){let t,e,l,s;function o(){return n[112](n[126])}return{c(){t=p("div"),e=p("button"),e.textContent="Delete",a(e,"type","button"),a(e,"role","menuitem"),a(e,"class","menu-item-danger svelte-prfe5y"),a(t,"class","menu-dropdown menu-dropdown-fixed svelte-prfe5y"),a(t,"role","menu"),pe(t,"position","fixed"),pe(t,"left",n[44].left+"px"),pe(t,"top",n[44].top+"px"),pe(t,"transform","translateX(-100%)"),pe(t,"z-index","1000")},m(i,c){R(i,t,c),r(t,e),l||(s=W(e,"click",Ye(o)),l=!0)},p(i,c){n=i,c[1]&8192&&pe(t,"left",n[44].left+"px"),c[1]&8192&&pe(t,"top",n[44].top+"px")},d(i){i&&z(t),l=!1,s()}}}function no(n){let t,e,l=n[126].name+"",s,o,i,c=n[126].block_name+"",u,f,d,h,m=n[126].cidr+"",b,v,g,y,w,_,C,k,q,S,T,M,A,F=n[127]&&eo(n);C=new Ve({props:{icon:"lucide:ellipsis-vertical",width:"1.25em",height:"1.25em"}});function Q(...U){return n[111](n[126],...U)}let B=n[40]===n[126].id&&to(n);return{c(){t=p("tr"),e=p("td"),s=D(l),o=I(),i=p("td"),u=D(c),f=I(),d=p("td"),h=p("code"),b=D(m),v=I(),F&&F.c(),g=I(),y=p("td"),w=p("div"),_=p("button"),Ie(C.$$.fragment),q=I(),B&&B.c(),S=I(),a(e,"class","name svelte-prfe5y"),a(i,"class","svelte-prfe5y"),a(h,"class","svelte-prfe5y"),a(d,"class","cidr svelte-prfe5y"),a(_,"type","button"),a(_,"class","menu-trigger svelte-prfe5y"),a(_,"aria-haspopup","true"),a(_,"aria-expanded",k=n[40]===n[126].id),a(_,"title","Actions"),a(w,"class","actions-menu-wrap svelte-prfe5y"),a(w,"role","group"),a(y,"class","actions svelte-prfe5y")},m(U,N){R(U,t,N),r(t,e),r(e,s),r(t,o),r(t,i),r(i,u),r(t,f),r(t,d),r(d,h),r(h,b),r(d,v),F&&F.m(d,null),r(t,g),r(t,y),r(y,w),r(w,_),ye(C,_,null),r(w,q),B&&B.m(w,null),r(t,S),T=!0,M||(A=W(_,"click",Ye(Q)),M=!0)},p(U,N){n=U,(!T||N[1]&65536)&&l!==(l=n[126].name+"")&&V(s,l),(!T||N[1]&65536)&&c!==(c=n[126].block_name+"")&&V(u,c),(!T||N[1]&65536)&&m!==(m=n[126].cidr+"")&&V(b,m),n[127]?F?F.p(n,N):(F=eo(n),F.c(),F.m(d,null)):F&&(F.d(1),F=null),(!T||N[1]&66048&&k!==(k=n[40]===n[126].id))&&a(_,"aria-expanded",k),n[40]===n[126].id?B?B.p(n,N):(B=to(n),B.c(),B.m(w,null)):B&&(B.d(1),B=null)},i(U){T||(Z(C.$$.fragment,U),T=!0)},o(U){Y(C.$$.fragment,U),T=!1},d(U){U&&z(t),F&&F.d(),Ce(C),B&&B.d(),M=!1,A()}}}function Iu(n){let t;return{c(){t=D("No allocations yet. Create one above.")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function qu(n){let t;return{c(){t=D("No allocations in the filtered blocks yet.")},m(e,l){R(e,t,l)},d(e){e&&z(t)}}}function lo(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_=n[34]?"Deleting…":"Delete block",C,k,q,S=n[33]>0&&so(n);return{c(){t=p("div"),e=p("div"),l=p("h3"),l.textContent="Delete network block",s=I(),o=p("p"),i=p("strong"),c=D("This will permanently delete the block “"),u=D(n[32]),f=D("”."),d=I(),S&&S.c(),h=D(`
            This action cannot be undone.`),m=I(),b=p("div"),v=p("button"),g=D("Cancel"),y=I(),w=p("button"),C=D(_),a(l,"id","delete-block-dialog-title"),a(l,"class","svelte-prfe5y"),a(i,"class","svelte-prfe5y"),a(o,"class","modal-warning svelte-prfe5y"),a(v,"type","button"),a(v,"class","btn svelte-prfe5y"),v.disabled=n[34],a(w,"type","button"),a(w,"class","btn btn-danger svelte-prfe5y"),w.disabled=n[34],a(b,"class","modal-actions svelte-prfe5y"),a(e,"class","modal svelte-prfe5y"),a(t,"class","modal-backdrop svelte-prfe5y"),a(t,"role","dialog"),a(t,"aria-modal","true"),a(t,"aria-labelledby","delete-block-dialog-title")},m(T,M){R(T,t,M),r(t,e),r(e,l),r(e,s),r(e,o),r(o,i),r(i,c),r(i,u),r(i,f),r(o,d),S&&S.m(o,null),r(o,h),r(e,m),r(e,b),r(b,v),r(v,g),r(b,y),r(b,w),r(w,C),k||(q=[W(v,"click",n[69]),W(w,"click",n[70])],k=!0)},p(T,M){M[1]&2&&V(u,T[32]),T[33]>0?S?S.p(T,M):(S=so(T),S.c(),S.m(o,h)):S&&(S.d(1),S=null),M[1]&8&&(v.disabled=T[34]),M[1]&8&&_!==(_=T[34]?"Deleting…":"Delete block")&&V(C,_),M[1]&8&&(w.disabled=T[34])},d(T){T&&z(t),S&&S.d(),k=!1,_e(q)}}}function so(n){let t,e,l,s,o;return{c(){t=p("br"),e=p("span"),l=D("This block contains "),s=D(n[33]),o=D(" allocation(s). Deleting the block will also delete all of them (cascading delete)."),a(e,"class","block-count svelte-prfe5y")},m(i,c){R(i,t,c),R(i,e,c),r(e,l),r(e,s),r(e,o)},p(i,c){c[1]&4&&V(s,i[33])},d(i){i&&(z(t),z(e))}}}function oo(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w=n[37]?"Deleting…":"Delete allocation",_,C,k;return{c(){t=p("div"),e=p("div"),l=p("h3"),l.textContent="Delete allocation",s=I(),o=p("p"),i=p("strong"),c=D("This will permanently delete the allocation “"),u=D(n[36]),f=D("”."),d=D(`
            This action cannot be undone.`),h=I(),m=p("div"),b=p("button"),v=D("Cancel"),g=I(),y=p("button"),_=D(w),a(l,"id","delete-alloc-dialog-title"),a(l,"class","svelte-prfe5y"),a(i,"class","svelte-prfe5y"),a(o,"class","modal-warning svelte-prfe5y"),a(b,"type","button"),a(b,"class","btn svelte-prfe5y"),b.disabled=n[37],a(y,"type","button"),a(y,"class","btn btn-danger svelte-prfe5y"),y.disabled=n[37],a(m,"class","modal-actions svelte-prfe5y"),a(e,"class","modal svelte-prfe5y"),a(t,"class","modal-backdrop svelte-prfe5y"),a(t,"role","dialog"),a(t,"aria-modal","true"),a(t,"aria-labelledby","delete-alloc-dialog-title")},m(q,S){R(q,t,S),r(t,e),r(e,l),r(e,s),r(e,o),r(o,i),r(i,c),r(i,u),r(i,f),r(o,d),r(e,h),r(e,m),r(m,b),r(b,v),r(m,g),r(m,y),r(y,_),C||(k=[W(b,"click",n[72]),W(y,"click",n[73])],C=!0)},p(q,S){S[1]&32&&V(u,q[36]),S[1]&64&&(b.disabled=q[37]),S[1]&64&&w!==(w=q[37]?"Deleting…":"Delete allocation")&&V(_,w),S[1]&64&&(y.disabled=q[37])},d(q){q&&z(t),C=!1,_e(k)}}}function io(n){let t,e;return t=new Qn({props:{message:n[38]}}),t.$on("close",n[117]),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},p(l,s){const o={};s[1]&128&&(o.message=l[38]),t.$set(o)},i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function Eu(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v;u=new kn({props:{options:[{value:"all",label:"All"},{value:"orphaned",label:"Orphaned only"},...n[16].map(n[82])],value:String(n[49]),placeholder:"All"}}),u.$on("change",n[83]);let g=(n[49]!=="all"||n[1])&&Hs(n);const y=[hu,pu],w=[];function _(k,q){return k[15]?0:1}h=_(n),m=w[h]=y[h](n);let C=n[38]&&io(n);return{c(){t=p("div"),e=p("header"),e.innerHTML='<div class="header-text"><h1 class="svelte-prfe5y">Networks</h1></div>',l=I(),s=p("div"),o=p("label"),i=p("span"),i.textContent="Environment",c=I(),Ie(u.$$.fragment),f=I(),g&&g.c(),d=I(),m.c(),b=I(),C&&C.c(),a(e,"class","header svelte-prfe5y"),a(i,"class","svelte-prfe5y"),a(o,"class","filter-label svelte-prfe5y"),a(s,"class","filter-bar svelte-prfe5y"),a(t,"class","networks svelte-prfe5y")},m(k,q){R(k,t,q),r(t,e),r(t,l),r(t,s),r(s,o),r(o,i),r(o,c),ye(u,o,null),r(s,f),g&&g.m(s,null),r(t,d),w[h].m(t,null),r(t,b),C&&C.m(t,null),v=!0},p(k,q){const S={};q[0]&65536&&(S.options=[{value:"all",label:"All"},{value:"orphaned",label:"Orphaned only"},...k[16].map(k[82])]),q[1]&262144&&(S.value=String(k[49])),u.$set(S),k[49]!=="all"||k[1]?g?g.p(k,q):(g=Hs(k),g.c(),g.m(s,null)):g&&(g.d(1),g=null);let T=h;h=_(k),h===T?w[h].p(k,q):(Re(),Y(w[T],1,1,()=>{w[T]=null}),De(),m=w[h],m?m.p(k,q):(m=w[h]=y[h](k),m.c()),Z(m,1),m.m(t,b)),k[38]?C?(C.p(k,q),q[1]&128&&Z(C,1)):(C=io(k),C.c(),Z(C,1),C.m(t,null)):C&&(Re(),Y(C,1,1,()=>{C=null}),De())},i(k){v||(Z(u.$$.fragment,k),Z(m),Z(C),v=!0)},o(k){Y(u.$$.fragment,k),Y(m),Y(C),v=!1},d(k){k&&z(t),Ce(u),g&&g.d(),w[h].d(),C&&C.d()}}}const Tu="00000000-0000-0000-0000-000000000000";function Au(n,t){return n==null||t==null?!1:String(n).toLowerCase()===String(t).toLowerCase()}function jt(n){const t=n.environment_id;return t==null||t===""||String(t).toLowerCase()===Tu}function ut(n){if(!n||n.total_ips===0)return 0;const t=n.used_ips/n.total_ips*100;return t>0&&t<1?1:Math.round(t)}function ro(n){if(!n||n.total_ips===0)return"0%";const t=n.used_ips/n.total_ips*100;return n.used_ips>0&&t<1?"<1%":Math.round(t)+"%"}const ao=n=>({value:n.name,label:n.name});function Pu(n,t,e){let l,s,o,i,c,u,f,d,h,m,b,v,g,{environmentId:y=null}=t,{orphanedOnly:w=!1}=t,{blockNameFilter:_=null}=t,{openCreateBlockFromQuery:C=!1}=t,{openCreateAllocationFromQuery:k=!1}=t;const q=pt();let S=!0,T="",M=[],A=[],F=[],Q=null,B=!1,U=!1,N=!1,O="",L="",H="",G=!1,E="",P=null,j="",J="",oe=!1,ne="",ie="all",ke=!1,le="",ee="",ce="",Se=!1,qe="",he=null,Pe="",X=0,x=!1,te="",Ge=null,We="",re=!1,de="",Ue="",we=0,Ze=25,ue=0,ge=0,me=25,nt=0,it=null,Fe=null,He=null,Qe={left:0,top:0},lt=null,je={left:0,top:0};function Nt(K){if(!K)return 0;const ve=String(K).trim().toLowerCase();return A.filter(Ae=>(Ae.block_name||"").trim().toLowerCase()===ve).length}async function ae(){var K;e(15,S=!0),T="";try{const ve={limit:Ze,offset:we*Ze};_&&String(_).trim()!==""&&(ve.name=String(_).trim()),f==="orphaned"?ve.orphaned_only=!0:f!=="all"&&(ve.environment_id=f);const Ae={limit:me,offset:ge*me};_&&String(_).trim()!==""&&(Ae.block_name=String(_).trim());const[xe,qt,xt]=await Promise.all([bn(),Fn(ve),Vt(Ae)]);e(16,F=xe.environments),e(77,M=qt.blocks),e(5,ue=qt.total),e(78,A=xt.allocations),e(8,nt=xt.total),Q=y?((K=xe.environments.find(ar=>ar.id===y))==null?void 0:K.name)??null:null}catch(ve){T=ve.message||"Failed to load networks",e(38,Ue=T)}finally{e(15,S=!1)}}_t(()=>{ae();function K(ve){ve.target.closest(".actions-menu-wrap")||(e(39,it=null),e(40,Fe=null))}return document.addEventListener("click",K),()=>document.removeEventListener("click",K)});function Te(K){if(K==null||K==="")return null;const ve=F.find(Ae=>Au(Ae.id,K));return(ve==null?void 0:ve.name)??null}let Ne="name",$="asc";function Le(K){Ne===K?e(10,$=$==="asc"?"desc":"asc"):(e(9,Ne=K),e(10,$="asc"))}let st="name",Mt="asc";function wn(K){st===K?e(12,Mt=Mt==="asc"?"desc":"asc"):(e(11,st=K),e(12,Mt="asc"))}async function ki(){const K=O.trim(),ve=L.trim();if(!K||!ve){E="Name and CIDR are required",e(38,Ue=E);return}e(21,G=!0),E="";try{await zr(K,ve,H&&H!==""?H:null),e(18,O=""),e(19,L=""),e(20,H=""),e(17,N=!1),await ae()}catch(Ae){E=Ae.message||"Failed to create block",e(38,Ue=E)}finally{e(21,G=!1)}}function vi(){e(17,N=!0),E="",e(18,O=""),e(19,L=""),e(20,H=y||"")}function Jn(K){e(22,P=K.id),e(23,j=K.name),e(24,J=jt(K)?"":K.environment_id??""),ne=""}function yn(){e(22,P=null),e(23,j=""),e(24,J=""),ne=""}async function wi(){const K=j.trim();if(!K){ne="Name is required",e(38,Ue=ne);return}const ve=M.find(Ae=>String(Ae.id)===String(P));if(ve){const Ae=(ve.name||"").trim(),xe=jt(ve)?"":String(ve.environment_id??""),qt=J?String(J):"";if(Ae===K&&xe===qt){yn();return}}e(25,oe=!0),ne="";try{await Dr(P,K,J),yn(),await ae()}catch(Ae){ne=Ae.message||"Failed to update block",e(38,Ue=ne)}finally{e(25,oe=!1)}}function yi(){e(81,ie="all"),q("clearEnv"),window.location.hash="networks"}function xn(K){K==="all"?(e(81,ie="all"),q("clearEnv"),window.location.hash="networks"):K==="orphaned"?(e(81,ie="orphaned"),q("clearEnv"),window.location.hash="networks"):(e(81,ie=K),q("setEnv",K)),e(3,we=0),ae()}async function Ci(){const K=le.trim(),ve=ee.trim(),Ae=ce.trim();if(!K||!ve||!Ae){e(30,qe="Name, block name, and CIDR are required"),e(38,Ue=qe);return}e(29,Se=!0),e(30,qe="");try{await Br(K,ve,Ae),e(27,le=""),e(2,ee=""),e(28,ce=""),e(26,ke=!1),await ae()}catch(xe){e(30,qe=xe.message||"Failed to create allocation"),e(38,Ue=qe)}finally{e(29,Se=!1)}}function $n(K){e(31,he=K.id),e(32,Pe=K.name),e(33,X=Nt(K.name)),te="",e(34,x=!1)}function el(){e(31,he=null),e(32,Pe=""),e(33,X=0),te=""}async function Si(){if(he){e(34,x=!0),te="";try{await Nr(he),el(),await ae()}catch(K){te=K.message||"Failed to delete block",e(38,Ue=te)}finally{e(34,x=!1)}}}function tl(K){e(35,Ge=K.id),e(36,We=K.name),de="",e(37,re=!1)}function nl(){e(35,Ge=null),e(36,We=""),de=""}async function Ii(){if(Ge){e(37,re=!0),de="";try{await Fr(Ge),nl(),await ae()}catch(K){de=K.message||"Failed to delete allocation",e(38,Ue=de)}finally{e(37,re=!1)}}}const qi=K=>({value:String(K.id),label:K.name}),Ei=K=>xn(K.detail);function Ti(K){L=K,e(19,L)}function Ai(){L=this.value,e(19,L)}function Pi(){O=this.value,e(18,O)}const Li=K=>({value:String(K.id),label:K.name});function zi(K){H=K,e(20,H)}const Ri=()=>e(17,N=!1),Di=()=>Le("name"),Ni=()=>Le("environment"),Mi=()=>Le("usage");function Oi(){j=this.value,e(23,j)}const Bi=K=>({value:String(K.id),label:K.name});function Fi(K){J=K,e(24,J)}const ji=(K,ve)=>{if(it===K.id)e(39,it=null),e(41,He=null);else{e(41,He=ve.currentTarget);const Ae=ve.currentTarget.getBoundingClientRect();e(42,Qe={left:Ae.right,top:Ae.bottom+2}),e(39,it=K.id)}},Ui=K=>{Jn(K),e(39,it=null)},Hi=K=>{$n(K),e(39,it=null)},Qi=()=>{e(3,we-=1),ae()},Wi=()=>{e(3,we+=1),ae()};function Gi(){Ze=zt(this),e(4,Ze)}const Zi=()=>{e(3,we=0),ae()},Vi=()=>{e(26,ke=!0),e(30,qe=""),e(27,le=""),e(2,ee=""),e(28,ce="")};function Ki(K){ee=K,e(2,ee)}function Yi(K){ce=K,e(28,ce)}function Xi(){ce=this.value,e(28,ce)}function Ji(){le=this.value,e(27,le)}const xi=()=>e(26,ke=!1),$i=()=>wn("name"),er=()=>wn("block"),tr=(K,ve)=>{if(Fe===K.id)e(40,Fe=null),e(43,lt=null);else{e(43,lt=ve.currentTarget);const Ae=ve.currentTarget.getBoundingClientRect();e(44,je={left:Ae.right,top:Ae.bottom+2}),e(40,Fe=K.id)}},nr=K=>{tl(K),e(40,Fe=null)},lr=()=>{e(6,ge-=1),ae()},sr=()=>{e(6,ge+=1),ae()};function or(){me=zt(this),e(7,me)}const ir=()=>{e(6,ge=0),ae()},rr=()=>e(38,Ue="");return n.$$set=K=>{"environmentId"in K&&e(0,y=K.environmentId),"orphanedOnly"in K&&e(74,w=K.orphanedOnly),"blockNameFilter"in K&&e(1,_=K.blockNameFilter),"openCreateBlockFromQuery"in K&&e(75,C=K.openCreateBlockFromQuery),"openCreateAllocationFromQuery"in K&&e(76,k=K.openCreateAllocationFromQuery)},n.$$.update=()=>{n.$$.dirty[2]&139264&&(C&&!B?(e(17,N=!0),e(79,B=!0),q("clearCreateQuery")):C||e(79,B=!1)),n.$$.dirty[2]&278528&&(k&&!U?(e(26,ke=!0),e(80,U=!0),q("clearCreateQuery")):k||e(80,U=!1)),n.$$.dirty[0]&56&&e(55,l=ue===0?0:we*Ze+1),n.$$.dirty[0]&56&&e(54,s=Math.min(we*Ze+Ze,ue)),n.$$.dirty[0]&48&&e(53,o=Ze>0?Math.ceil(ue/Ze):0),n.$$.dirty[0]&448&&e(52,i=nt===0?0:ge*me+1),n.$$.dirty[0]&448&&e(51,c=Math.min(ge*me+me,nt)),n.$$.dirty[0]&384&&e(50,u=me>0?Math.ceil(nt/me):0),n.$$.dirty[0]&1|n.$$.dirty[2]&528384&&e(49,f=w?"orphaned":y??ie),n.$$.dirty[0]&2|n.$$.dirty[2]&32768&&e(13,d=_!=null&&String(_).trim()!==""?M.filter(K=>String(K.name||"").trim().toLowerCase()===String(_).trim().toLowerCase()):M),n.$$.dirty[0]&9728&&e(48,h=(()=>{const K=[...d],ve=$==="asc"?1:-1;return Ne==="name"?K.sort((Ae,xe)=>ve*(Ae.name||"").localeCompare(xe.name||"",void 0,{sensitivity:"base"})):Ne==="environment"?K.sort((Ae,xe)=>{const qt=Te(Ae.environment_id)??(jt(Ae)?"Orphaned":""),xt=Te(xe.environment_id)??(jt(xe)?"Orphaned":"");return ve*qt.localeCompare(xt,void 0,{sensitivity:"base"})}):Ne==="usage"&&K.sort((Ae,xe)=>ve*(ut(Ae)-ut(xe))),K})()),n.$$.dirty[2]&65536&&e(14,m=A),n.$$.dirty[0]&22528&&e(47,b=(()=>{const K=[...m],ve=Mt==="asc"?1:-1;return st==="name"?K.sort((Ae,xe)=>ve*(Ae.name||"").localeCompare(xe.name||"",void 0,{sensitivity:"base"})):st==="block"&&K.sort((Ae,xe)=>ve*(Ae.block_name||"").localeCompare(xe.block_name||"",void 0,{sensitivity:"base"})),K})()),n.$$.dirty[0]&8196&&e(46,v=(()=>{const K=ee==null?void 0:ee.trim();if(!K)return"";const ve=d.find(Ae=>Ae.name===K);return(ve==null?void 0:ve.cidr)??""})()),n.$$.dirty[0]&8196&&e(45,g=(()=>{const K=ee==null?void 0:ee.trim();if(!K)return null;const ve=d.find(Ae=>Ae.name===K);return(ve==null?void 0:ve.id)??null})())},[y,_,ee,we,Ze,ue,ge,me,nt,Ne,$,st,Mt,d,m,S,F,N,O,L,H,G,P,j,J,oe,ke,le,ce,Se,qe,he,Pe,X,x,Ge,We,re,Ue,it,Fe,He,Qe,lt,je,g,v,b,h,f,u,c,i,o,s,l,ae,Te,Le,wn,ki,vi,Jn,yn,wi,yi,xn,Ci,$n,el,Si,tl,nl,Ii,w,C,k,M,A,B,U,ie,qi,Ei,Ti,Ai,Pi,Li,zi,Ri,Di,Ni,Mi,Oi,Bi,Fi,ji,Ui,Hi,Qi,Wi,Gi,Zi,Vi,Ki,Yi,Xi,Ji,xi,$i,er,tr,nr,lr,sr,or,ir,rr]}class Lu extends tt{constructor(t){super(),et(this,t,Pu,Eu,Je,{environmentId:0,orphanedOnly:74,blockNameFilter:1,openCreateBlockFromQuery:75,openCreateAllocationFromQuery:76},null,[-1,-1,-1,-1,-1])}}function Wn(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let It=Wn();function ai(n){It=n}const ci=/[&<>"']/,zu=new RegExp(ci.source,"g"),ui=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ru=new RegExp(ui.source,"g"),Du={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},co=n=>Du[n];function ot(n,t){if(t){if(ci.test(n))return n.replace(zu,co)}else if(ui.test(n))return n.replace(Ru,co);return n}const Nu=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Mu(n){return n.replace(Nu,(t,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const Ou=/(^|[^\[])\^/g;function Be(n,t){let e=typeof n=="string"?n:n.source;t=t||"";const l={replace:(s,o)=>{let i=typeof o=="string"?o:o.source;return i=i.replace(Ou,"$1"),e=e.replace(s,i),l},getRegex:()=>new RegExp(e,t)};return l}function uo(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Ht={exec:()=>null};function fo(n,t){const e=n.replace(/\|/g,(o,i,c)=>{let u=!1,f=i;for(;--f>=0&&c[f]==="\\";)u=!u;return u?"|":" |"}),l=e.split(/ \|/);let s=0;if(l[0].trim()||l.shift(),l.length>0&&!l[l.length-1].trim()&&l.pop(),t)if(l.length>t)l.splice(t);else for(;l.length<t;)l.push("");for(;s<l.length;s++)l[s]=l[s].trim().replace(/\\\|/g,"|");return l}function tn(n,t,e){const l=n.length;if(l===0)return"";let s=0;for(;s<l&&n.charAt(l-s-1)===t;)s++;return n.slice(0,l-s)}function Bu(n,t){if(n.indexOf(t[1])===-1)return-1;let e=0;for(let l=0;l<n.length;l++)if(n[l]==="\\")l++;else if(n[l]===t[0])e++;else if(n[l]===t[1]&&(e--,e<0))return l;return-1}function po(n,t,e,l){const s=t.href,o=t.title?ot(t.title):null,i=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){l.state.inLink=!0;const c={type:"link",raw:e,href:s,title:o,text:i,tokens:l.inlineTokens(i)};return l.state.inLink=!1,c}return{type:"image",raw:e,href:s,title:o,text:ot(i)}}function Fu(n,t){const e=n.match(/^(\s+)(?:```)/);if(e===null)return t;const l=e[1];return t.split(`
`).map(s=>{const o=s.match(/^\s+/);if(o===null)return s;const[i]=o;return i.length>=l.length?s.slice(l.length):s}).join(`
`)}class fn{constructor(t){ze(this,"options");ze(this,"rules");ze(this,"lexer");this.options=t||It}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const l=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?l:tn(l,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const l=e[0],s=Fu(l,e[3]||"");return{type:"code",raw:l,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let l=e[2].trim();if(/#$/.test(l)){const s=tn(l,"#");(this.options.pedantic||!s||/ $/.test(s))&&(l=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:l,tokens:this.lexer.inline(l)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let l=e[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);l=tn(l.replace(/^ *>[ \t]?/gm,""),`
`);const s=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(l);return this.lexer.state.top=s,{type:"blockquote",raw:e[0],tokens:o,text:l}}}list(t){let e=this.rules.block.list.exec(t);if(e){let l=e[1].trim();const s=l.length>1,o={type:"list",raw:"",ordered:s,start:s?+l.slice(0,-1):"",loose:!1,items:[]};l=s?`\\d{1,9}\\${l.slice(-1)}`:`\\${l}`,this.options.pedantic&&(l=s?l:"[*+-]");const i=new RegExp(`^( {0,3}${l})((?:[	 ][^\\n]*)?(?:\\n|$))`);let c="",u="",f=!1;for(;t;){let d=!1;if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let h=e[2].split(`
`,1)[0].replace(/^\t+/,w=>" ".repeat(3*w.length)),m=t.split(`
`,1)[0],b=0;this.options.pedantic?(b=2,u=h.trimStart()):(b=e[2].search(/[^ ]/),b=b>4?1:b,u=h.slice(b),b+=e[1].length);let v=!1;if(!h&&/^ *$/.test(m)&&(c+=m+`
`,t=t.substring(m.length+1),d=!0),!d){const w=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),_=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),C=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t;){const q=t.split(`
`,1)[0];if(m=q,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),C.test(m)||k.test(m)||w.test(m)||_.test(t))break;if(m.search(/[^ ]/)>=b||!m.trim())u+=`
`+m.slice(b);else{if(v||h.search(/[^ ]/)>=4||C.test(h)||k.test(h)||_.test(h))break;u+=`
`+m}!v&&!m.trim()&&(v=!0),c+=q+`
`,t=t.substring(q.length+1),h=m.slice(b)}}o.loose||(f?o.loose=!0:/\n *\n *$/.test(c)&&(f=!0));let g=null,y;this.options.gfm&&(g=/^\[[ xX]\] /.exec(u),g&&(y=g[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:c,task:!!g,checked:y,loose:!1,text:u,tokens:[]}),o.raw+=c}o.items[o.items.length-1].raw=c.trimEnd(),o.items[o.items.length-1].text=u.trimEnd(),o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){const h=o.items[d].tokens.filter(b=>b.type==="space"),m=h.length>0&&h.some(b=>/\n.*\n/.test(b.raw));o.loose=m}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const l=e[1].toLowerCase().replace(/\s+/g," "),s=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:l,raw:e[0],href:s,title:o}}}table(t){const e=this.rules.block.table.exec(t);if(!e||!/[:|]/.test(e[2]))return;const l=fo(e[1]),s=e[2].replace(/^\||\| *$/g,"").split("|"),o=e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(l.length===s.length){for(const c of s)/^ *-+: *$/.test(c)?i.align.push("right"):/^ *:-+: *$/.test(c)?i.align.push("center"):/^ *:-+ *$/.test(c)?i.align.push("left"):i.align.push(null);for(const c of l)i.header.push({text:c,tokens:this.lexer.inline(c)});for(const c of o)i.rows.push(fo(c,i.header.length).map(u=>({text:u,tokens:this.lexer.inline(u)})));return i}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const l=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:l,tokens:this.lexer.inline(l)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:ot(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const l=e[2].trim();if(!this.options.pedantic&&/^</.test(l)){if(!/>$/.test(l))return;const i=tn(l.slice(0,-1),"\\");if((l.length-i.length)%2===0)return}else{const i=Bu(e[2],"()");if(i>-1){const u=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,u).trim(),e[3]=""}}let s=e[2],o="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);i&&(s=i[1],o=i[3])}else o=e[3]?e[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(l)?s=s.slice(1):s=s.slice(1,-1)),po(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer)}}reflink(t,e){let l;if((l=this.rules.inline.reflink.exec(t))||(l=this.rules.inline.nolink.exec(t))){const s=(l[2]||l[1]).replace(/\s+/g," "),o=e[s.toLowerCase()];if(!o){const i=l[0].charAt(0);return{type:"text",raw:i,text:i}}return po(l,o,l[0],this.lexer)}}emStrong(t,e,l=""){let s=this.rules.inline.emStrongLDelim.exec(t);if(!s||s[3]&&l.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!l||this.rules.inline.punctuation.exec(l)){const i=[...s[0]].length-1;let c,u,f=i,d=0;const h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+i);(s=h.exec(e))!=null;){if(c=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!c)continue;if(u=[...c].length,s[3]||s[4]){f+=u;continue}else if((s[5]||s[6])&&i%3&&!((i+u)%3)){d+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+d);const m=[...s[0]][0].length,b=t.slice(0,i+s.index+m+u);if(Math.min(i,u)%2){const g=b.slice(1,-1);return{type:"em",raw:b,text:g,tokens:this.lexer.inlineTokens(g)}}const v=b.slice(2,-2);return{type:"strong",raw:b,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let l=e[2].replace(/\n/g," ");const s=/[^ ]/.test(l),o=/^ /.test(l)&&/ $/.test(l);return s&&o&&(l=l.substring(1,l.length-1)),l=ot(l,!0),{type:"codespan",raw:e[0],text:l}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let l,s;return e[2]==="@"?(l=ot(e[1]),s="mailto:"+l):(l=ot(e[1]),s=l),{type:"link",raw:e[0],text:l,href:s,tokens:[{type:"text",raw:l,text:l}]}}}url(t){var l;let e;if(e=this.rules.inline.url.exec(t)){let s,o;if(e[2]==="@")s=ot(e[0]),o="mailto:"+s;else{let i;do i=e[0],e[0]=((l=this.rules.inline._backpedal.exec(e[0]))==null?void 0:l[0])??"";while(i!==e[0]);s=ot(e[0]),e[1]==="www."?o="http://"+e[0]:o=e[0]}return{type:"link",raw:e[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){let l;return this.lexer.state.inRawBlock?l=e[0]:l=ot(e[0]),{type:"text",raw:e[0],text:l}}}}const ju=/^(?: *(?:\n|$))+/,Uu=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Hu=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Xt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Qu=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,fi=/(?:[*+-]|\d{1,9}[.)])/,di=Be(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,fi).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Gn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Wu=/^[^\n]+/,Zn=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Gu=Be(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Zn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Zu=Be(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,fi).getRegex(),vn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Vu=Be("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Vn).replace("tag",vn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),pi=Be(Gn).replace("hr",Xt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vn).getRegex(),Ku=Be(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",pi).getRegex(),Kn={blockquote:Ku,code:Uu,def:Gu,fences:Hu,heading:Qu,hr:Xt,html:Vu,lheading:di,list:Zu,newline:ju,paragraph:pi,table:Ht,text:Wu},ho=Be("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Xt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vn).getRegex(),Yu={...Kn,table:ho,paragraph:Be(Gn).replace("hr",Xt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ho).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vn).getRegex()},Xu={...Kn,html:Be(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Vn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ht,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Be(Gn).replace("hr",Xt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",di).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},hi=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ju=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,mi=/^( {2,}|\\)\n(?!\s*$)/,xu=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Jt="\\p{P}\\p{S}",$u=Be(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Jt).getRegex(),ef=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,tf=Be(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Jt).getRegex(),nf=Be("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Jt).getRegex(),lf=Be("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Jt).getRegex(),sf=Be(/\\([punct])/,"gu").replace(/punct/g,Jt).getRegex(),of=Be(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),rf=Be(Vn).replace("(?:-->|$)","-->").getRegex(),af=Be("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",rf).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),dn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,cf=Be(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",dn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),bi=Be(/^!?\[(label)\]\[(ref)\]/).replace("label",dn).replace("ref",Zn).getRegex(),gi=Be(/^!?\[(ref)\](?:\[\])?/).replace("ref",Zn).getRegex(),uf=Be("reflink|nolink(?!\\()","g").replace("reflink",bi).replace("nolink",gi).getRegex(),Yn={_backpedal:Ht,anyPunctuation:sf,autolink:of,blockSkip:ef,br:mi,code:Ju,del:Ht,emStrongLDelim:tf,emStrongRDelimAst:nf,emStrongRDelimUnd:lf,escape:hi,link:cf,nolink:gi,punctuation:$u,reflink:bi,reflinkSearch:uf,tag:af,text:xu,url:Ht},ff={...Yn,link:Be(/^!?\[(label)\]\((.*?)\)/).replace("label",dn).getRegex(),reflink:Be(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dn).getRegex()},Nn={...Yn,escape:Be(hi).replace("])","~|])").getRegex(),url:Be(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},df={...Nn,br:Be(mi).replace("{2,}","*").getRegex(),text:Be(Nn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},nn={normal:Kn,gfm:Yu,pedantic:Xu},Ft={normal:Yn,gfm:Nn,breaks:df,pedantic:ff};class ft{constructor(t){ze(this,"tokens");ze(this,"options");ze(this,"state");ze(this,"tokenizer");ze(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||It,this.options.tokenizer=this.options.tokenizer||new fn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:nn.normal,inline:Ft.normal};this.options.pedantic?(e.block=nn.pedantic,e.inline=Ft.pedantic):this.options.gfm&&(e.block=nn.gfm,this.options.breaks?e.inline=Ft.breaks:e.inline=Ft.gfm),this.tokenizer.rules=e}static get rules(){return{block:nn,inline:Ft}}static lex(t,e){return new ft(e).lex(t)}static lexInline(t,e){return new ft(e).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const l=this.inlineQueue[e];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(c,u,f)=>u+"    ".repeat(f.length));let l,s,o,i;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>(l=c.call({lexer:this},t,e))?(t=t.substring(l.raw.length),e.push(l),!0):!1))){if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length),l.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length),s=e[e.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+l.raw,s.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length),s=e[e.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+l.raw,s.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),e.push(l);continue}if(o=t,this.options.extensions&&this.options.extensions.startBlock){let c=1/0;const u=t.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},u),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(o=t.substring(0,c+1))}if(this.state.top&&(l=this.tokenizer.paragraph(o))){s=e[e.length-1],i&&s.type==="paragraph"?(s.raw+=`
`+l.raw,s.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(l),i=o.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length),s=e[e.length-1],s&&s.type==="text"?(s.raw+=`
`+l.raw,s.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(l);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let l,s,o,i=t,c,u,f;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)d.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(c=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,c.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(l=d.call({lexer:this},t,e))?(t=t.substring(l.raw.length),e.push(l),!0):!1))){if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),s=e[e.length-1],s&&l.type==="text"&&s.type==="text"?(s.raw+=l.raw,s.text+=l.text):e.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length),s=e[e.length-1],s&&l.type==="text"&&s.type==="text"?(s.raw+=l.raw,s.text+=l.text):e.push(l);continue}if(l=this.tokenizer.emStrong(t,i,f)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.autolink(t)){t=t.substring(l.raw.length),e.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t))){t=t.substring(l.raw.length),e.push(l);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=t.slice(1);let m;this.options.extensions.startInline.forEach(b=>{m=b.call({lexer:this},h),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(o=t.substring(0,d+1))}if(l=this.tokenizer.inlineText(o)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(f=l.raw.slice(-1)),u=!0,s=e[e.length-1],s&&s.type==="text"?(s.raw+=l.raw,s.text+=l.text):e.push(l);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return e}}class pn{constructor(t){ze(this,"options");this.options=t||It}code(t,e,l){var o;const s=(o=(e||"").match(/^\S*/))==null?void 0:o[0];return t=t.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+ot(s)+'">'+(l?t:ot(t,!0))+`</code></pre>
`:"<pre><code>"+(l?t:ot(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t,e){return t}heading(t,e,l){return`<h${e}>${t}</h${e}>
`}hr(){return`<hr>
`}list(t,e,l){const s=e?"ol":"ul",o=e&&l!==1?' start="'+l+'"':"";return"<"+s+o+`>
`+t+"</"+s+`>
`}listitem(t,e,l){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>
`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+e+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,e){const l=e.header?"th":"td";return(e.align?`<${l} align="${e.align}">`:`<${l}>`)+t+`</${l}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,e,l){const s=uo(t);if(s===null)return l;t=s;let o='<a href="'+t+'"';return e&&(o+=' title="'+e+'"'),o+=">"+l+"</a>",o}image(t,e,l){const s=uo(t);if(s===null)return l;t=s;let o=`<img src="${t}" alt="${l}"`;return e&&(o+=` title="${e}"`),o+=">",o}text(t){return t}}class Xn{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,l){return""+l}image(t,e,l){return""+l}br(){return""}}class dt{constructor(t){ze(this,"options");ze(this,"renderer");ze(this,"textRenderer");this.options=t||It,this.options.renderer=this.options.renderer||new pn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Xn}static parse(t,e){return new dt(e).parse(t)}static parseInline(t,e){return new dt(e).parseInline(t)}parse(t,e=!0){let l="";for(let s=0;s<t.length;s++){const o=t[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const i=o,c=this.options.extensions.renderers[i.type].call({parser:this},i);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(i.type)){l+=c||"";continue}}switch(o.type){case"space":continue;case"hr":{l+=this.renderer.hr();continue}case"heading":{const i=o;l+=this.renderer.heading(this.parseInline(i.tokens),i.depth,Mu(this.parseInline(i.tokens,this.textRenderer)));continue}case"code":{const i=o;l+=this.renderer.code(i.text,i.lang,!!i.escaped);continue}case"table":{const i=o;let c="",u="";for(let d=0;d<i.header.length;d++)u+=this.renderer.tablecell(this.parseInline(i.header[d].tokens),{header:!0,align:i.align[d]});c+=this.renderer.tablerow(u);let f="";for(let d=0;d<i.rows.length;d++){const h=i.rows[d];u="";for(let m=0;m<h.length;m++)u+=this.renderer.tablecell(this.parseInline(h[m].tokens),{header:!1,align:i.align[m]});f+=this.renderer.tablerow(u)}l+=this.renderer.table(c,f);continue}case"blockquote":{const i=o,c=this.parse(i.tokens);l+=this.renderer.blockquote(c);continue}case"list":{const i=o,c=i.ordered,u=i.start,f=i.loose;let d="";for(let h=0;h<i.items.length;h++){const m=i.items[h],b=m.checked,v=m.task;let g="";if(m.task){const y=this.renderer.checkbox(!!b);f?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=y+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=y+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:y+" "}):g+=y+" "}g+=this.parse(m.tokens,f),d+=this.renderer.listitem(g,v,!!b)}l+=this.renderer.list(d,c,u);continue}case"html":{const i=o;l+=this.renderer.html(i.text,i.block);continue}case"paragraph":{const i=o;l+=this.renderer.paragraph(this.parseInline(i.tokens));continue}case"text":{let i=o,c=i.tokens?this.parseInline(i.tokens):i.text;for(;s+1<t.length&&t[s+1].type==="text";)i=t[++s],c+=`
`+(i.tokens?this.parseInline(i.tokens):i.text);l+=e?this.renderer.paragraph(c):c;continue}default:{const i='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return l}parseInline(t,e){e=e||this.renderer;let l="";for(let s=0;s<t.length;s++){const o=t[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const i=this.options.extensions.renderers[o.type].call({parser:this},o);if(i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){l+=i||"";continue}}switch(o.type){case"escape":{const i=o;l+=e.text(i.text);break}case"html":{const i=o;l+=e.html(i.text);break}case"link":{const i=o;l+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break}case"image":{const i=o;l+=e.image(i.href,i.title,i.text);break}case"strong":{const i=o;l+=e.strong(this.parseInline(i.tokens,e));break}case"em":{const i=o;l+=e.em(this.parseInline(i.tokens,e));break}case"codespan":{const i=o;l+=e.codespan(i.text);break}case"br":{l+=e.br();break}case"del":{const i=o;l+=e.del(this.parseInline(i.tokens,e));break}case"text":{const i=o;l+=e.text(i.text);break}default:{const i='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return l}}class Qt{constructor(t){ze(this,"options");this.options=t||It}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}ze(Qt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var yt,Mn,_i;class pf{constructor(...t){sl(this,yt);ze(this,"defaults",Wn());ze(this,"options",this.setOptions);ze(this,"parse",$t(this,yt,Mn).call(this,ft.lex,dt.parse));ze(this,"parseInline",$t(this,yt,Mn).call(this,ft.lexInline,dt.parseInline));ze(this,"Parser",dt);ze(this,"Renderer",pn);ze(this,"TextRenderer",Xn);ze(this,"Lexer",ft);ze(this,"Tokenizer",fn);ze(this,"Hooks",Qt);this.use(...t)}walkTokens(t,e){var s,o;let l=[];for(const i of t)switch(l=l.concat(e.call(this,i)),i.type){case"table":{const c=i;for(const u of c.header)l=l.concat(this.walkTokens(u.tokens,e));for(const u of c.rows)for(const f of u)l=l.concat(this.walkTokens(f.tokens,e));break}case"list":{const c=i;l=l.concat(this.walkTokens(c.items,e));break}default:{const c=i;(o=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&o[c.type]?this.defaults.extensions.childTokens[c.type].forEach(u=>{const f=c[u].flat(1/0);l=l.concat(this.walkTokens(f,e))}):c.tokens&&(l=l.concat(this.walkTokens(c.tokens,e)))}}return l}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(l=>{const s={...l};if(s.async=this.defaults.async||s.async||!1,l.extensions&&(l.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const i=e.renderers[o.name];i?e.renderers[o.name]=function(...c){let u=o.renderer.apply(this,c);return u===!1&&(u=i.apply(this,c)),u}:e.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=e[o.level];i?i.unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),s.extensions=e),l.renderer){const o=this.defaults.renderer||new pn(this.defaults);for(const i in l.renderer){if(!(i in o))throw new Error(`renderer '${i}' does not exist`);if(i==="options")continue;const c=i,u=l.renderer[c],f=o[c];o[c]=(...d)=>{let h=u.apply(o,d);return h===!1&&(h=f.apply(o,d)),h||""}}s.renderer=o}if(l.tokenizer){const o=this.defaults.tokenizer||new fn(this.defaults);for(const i in l.tokenizer){if(!(i in o))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const c=i,u=l.tokenizer[c],f=o[c];o[c]=(...d)=>{let h=u.apply(o,d);return h===!1&&(h=f.apply(o,d)),h}}s.tokenizer=o}if(l.hooks){const o=this.defaults.hooks||new Qt;for(const i in l.hooks){if(!(i in o))throw new Error(`hook '${i}' does not exist`);if(i==="options")continue;const c=i,u=l.hooks[c],f=o[c];Qt.passThroughHooks.has(i)?o[c]=d=>{if(this.defaults.async)return Promise.resolve(u.call(o,d)).then(m=>f.call(o,m));const h=u.call(o,d);return f.call(o,h)}:o[c]=(...d)=>{let h=u.apply(o,d);return h===!1&&(h=f.apply(o,d)),h}}s.hooks=o}if(l.walkTokens){const o=this.defaults.walkTokens,i=l.walkTokens;s.walkTokens=function(c){let u=[];return u.push(i.call(this,c)),o&&(u=u.concat(o.call(this,c))),u}}this.defaults={...this.defaults,...s}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return ft.lex(t,e??this.defaults)}parser(t,e){return dt.parse(t,e??this.defaults)}}yt=new WeakSet,Mn=function(t,e){return(l,s)=>{const o={...s},i={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const c=$t(this,yt,_i).call(this,!!i.silent,!!i.async);if(typeof l>"u"||l===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof l!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(l)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(l):l).then(u=>t(u,i)).then(u=>i.hooks?i.hooks.processAllTokens(u):u).then(u=>i.walkTokens?Promise.all(this.walkTokens(u,i.walkTokens)).then(()=>u):u).then(u=>e(u,i)).then(u=>i.hooks?i.hooks.postprocess(u):u).catch(c);try{i.hooks&&(l=i.hooks.preprocess(l));let u=t(l,i);i.hooks&&(u=i.hooks.processAllTokens(u)),i.walkTokens&&this.walkTokens(u,i.walkTokens);let f=e(u,i);return i.hooks&&(f=i.hooks.postprocess(f)),f}catch(u){return c(u)}}},_i=function(t,e){return l=>{if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const s="<p>An error occurred:</p><pre>"+ot(l.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(l);throw l}};const wt=new pf;function Me(n,t){return wt.parse(n,t)}Me.options=Me.setOptions=function(n){return wt.setOptions(n),Me.defaults=wt.defaults,ai(Me.defaults),Me};Me.getDefaults=Wn;Me.defaults=It;Me.use=function(...n){return wt.use(...n),Me.defaults=wt.defaults,ai(Me.defaults),Me};Me.walkTokens=function(n,t){return wt.walkTokens(n,t)};Me.parseInline=wt.parseInline;Me.Parser=dt;Me.parser=dt.parse;Me.Renderer=pn;Me.TextRenderer=Xn;Me.Lexer=ft;Me.lexer=ft.lex;Me.Tokenizer=fn;Me.Hooks=Qt;Me.parse=Me;Me.options;Me.setOptions;Me.use;Me.walkTokens;Me.parseInline;dt.parse;ft.lex;function hf(n){let t;return{c(){t=p("p"),t.textContent="Select a topic from the sidebar."},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function mf(n){let t,e;return{c(){t=new wr(!1),e=Xe(),t.a=e},m(l,s){t.m(n[1],l,s),R(l,e,s)},p(l,s){s&2&&t.p(l[1])},d(l){l&&(z(e),t.d())}}}function bf(n){let t;function e(o,i){return o[0]?mf:hf}let l=e(n),s=l(n);return{c(){t=p("div"),s.c(),a(t,"class","docs-viewer svelte-bin0vm"),be(t,"empty",!n[0])},m(o,i){R(o,t,i),s.m(t,null)},p(o,[i]){l===(l=e(o))&&s?s.p(o,i):(s.d(1),s=l(o),s&&(s.c(),s.m(t,null))),i&1&&be(t,"empty",!o[0])},i:se,o:se,d(o){o&&z(t),s.d()}}}function gf(n,t,e){let l,{content:s=""}=t;return n.$$set=o=>{"content"in o&&e(0,s=o.content)},n.$$.update=()=>{n.$$.dirty&1&&e(1,l=s?Me.parse(s,{gfm:!0}):"")},[s,l]}class _f extends tt{constructor(t){super(),et(this,t,gf,bf,Je,{content:0})}}const kf=`# IPAM User Guide

IPAM is an IP Address Management application for tracking environments, network blocks (CIDR ranges), and allocations (subnets) within those blocks. Use this guide to learn how to navigate the app and manage your IP resources.

## Main sections

- [Getting started](#docs/getting-started) — First steps and concepts.
- [Dashboard](#docs/dashboard) — Summary, block utilization, and resource graph.
- [Environments](#docs/environments) — Create and manage environments and their blocks.
- [Networks](#docs/networks) — View and manage network blocks and allocations.
- [Command palette](#docs/command-palette) — Search and quick actions (⌘K / Ctrl+K).
`,vf=`# Getting started

This guide introduces the main concepts and how to use the app.

## Concepts

- **Environments** — Logical groupings (e.g. Production, Staging). Each environment can contain multiple network blocks.
- **Network blocks** — CIDR ranges (e.g. \`10.1.0.0/16\`) that belong to an environment or are orphaned. They define a pool of IP addresses.
- **Allocations** — Subnets carved out of a block (e.g. \`10.1.0.0/24\`). They represent actual usage within a block.

## First steps

1. Open **Environments** and create an environment (e.g. "Production" or "Staging").
2. Open **Networks** and create a network block: choose a CIDR and assign it to an environment.
3. Create an allocation from a block to reserve a subnet (e.g. for a VPC or application).
4. Use the **Dashboard** to see utilization and the resource graph.
`,wf=`# Dashboard

The Dashboard gives you a high-level view of all IPAM resources and how they are used.

![Dashboard showing metrics, block utilization, and resource graph](/images/dashboard.png)

## Summary statistics

At the top you'll see counts for environments, network blocks, and allocations, plus total IPs, used IPs, and overall utilization. Use these to quickly see capacity and usage.

## Orphaned blocks

Blocks that are not assigned to any environment appear as **orphaned**. The Dashboard shows an alert when orphaned blocks exist, with a link to the Networks page to view or assign them.

## Block utilization

A list of each network block with a progress bar shows what percentage of its IP space is allocated. This helps you spot under- or over-used blocks.

## Resource graph

The resource graph shows how environments, blocks, and allocations are connected. You can click an environment to go to Networks filtered by that environment, or click a block to focus on it on the Networks page. Orphaned blocks appear under an "Orphaned" node.

## Export CSV

Use **Export CSV** to download a spreadsheet of your blocks and allocations for reporting or auditing.
`,yf=`# Environments

The Environments page lists all environments. Each environment can contain multiple network blocks.

## Viewing environments

The table shows each environment's name and ID. Click a row to expand it and see its network blocks, including CIDR, IP counts, and any allocations within each block. You can expand a block to see allocation details.

## Creating an environment

Click **Create environment** to add a new environment. You can optionally create an initial network block at the same time by providing a block name and CIDR. You can also create environments from the command palette (⌘K) by choosing "Create environment".

## Editing and deleting

Use the actions menu (⋮) on a row to **Edit** the environment name or **Delete** the environment. Deleting an environment removes it and all blocks that belong to it; blocks are not moved elsewhere.

## Opening a specific environment

If you search for an environment in the command palette (⌘K) and select it, the Environments page opens showing only that environment (with a link to return to "All environments").
`,Cf=`# Networks

The Networks page shows all network blocks and allocations. You can filter by environment and create new blocks or allocations.

## Environment filter

Use the **Environment** dropdown to show only blocks in a given environment, or "All" to see every block (including orphaned ones).

## Network blocks

The blocks table lists name, environment, CIDR, total IPs, used, available, and usage percentage. Use the actions menu (⋮) to edit or delete a block. Click **Create block** to add a new block: you can use the CIDR wizard to get a suggested range that doesn't overlap existing blocks in the chosen environment, or type a CIDR manually.

![CIDR wizard for creating a new network block](/images/cidr-wizard.png)

## Allocations

The allocations table lists each subnet (name, block, CIDR). Create allocations with **Create allocation**: pick a block, then either use a suggested CIDR or enter one manually. Allocations must fall within their block's range and not overlap other allocations in the same block.

## Opening a specific block

When you search for a block or allocation in the command palette and select a result, the Networks page opens with that block in focus (and the block list scoped accordingly).
`,Sf=`# Command palette

The command palette is a quick way to search, navigate, and create resources. Open it with **⌘K** (Mac) or **Ctrl+K** (Windows/Linux). Close it with **Esc** or by clicking outside.

![Command palette with search, navigation, and create actions](/images/command-palette.png)

## Global search

Type in the search box to find environments, network blocks, and allocations by name. Results appear above the static commands. Select an environment to open the Environments page showing only that environment; select a block or allocation to open the Networks page focused on that block.

## Page navigation

Use the list to jump to **Go to Dashboard**, **Go to Environments**, or **Go to Networks** without using the sidebar.

## Create actions

You can start creating directly from the palette:

- **Create environment** — Opens the Environments page with the create form open.
- **Create network block** — Opens the Networks page with the new block form open.
- **Create allocation** — Opens the Networks page with the new allocation form open.

## Keyboard shortcuts

Use **↑** and **↓** to move the selection, and **Enter** to run the selected command or open the selected search result.
`;function mo(n,t,e){const l=n.slice();return l[6]=t[e],l}function bo(n){let t,e,l=n[6].label+"",s,o;return{c(){t=p("li"),e=p("a"),s=D(l),o=I(),a(e,"href","#docs"+(n[6].id?"/"+n[6].id:"")),a(e,"class","docs-nav-link svelte-18urt5e"),be(e,"active",n[0]===n[6].id),a(t,"class","svelte-18urt5e")},m(i,c){R(i,t,c),r(t,e),r(e,s),r(t,o)},p(i,c){c&5&&be(e,"active",i[0]===i[6].id)},d(i){i&&z(t)}}}function If(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y=Ee(n[2]),w=[];for(let _=0;_<y.length;_+=1)w[_]=bo(mo(n,y,_));return v=new _f({props:{content:n[1]}}),{c(){t=p("div"),e=p("aside"),l=p("a"),s=D("← Back to IPAM"),o=I(),i=p("h2"),i.textContent="User guide",c=I(),u=p("nav"),f=p("ul");for(let _=0;_<w.length;_+=1)w[_].c();d=I(),h=p("p"),h.innerHTML="API reference is available from <strong>Settings → API docs</strong>.",m=I(),b=p("article"),Ie(v.$$.fragment),a(l,"href","#"),a(l,"class","docs-back svelte-18urt5e"),a(l,"onclick",n[4]),a(i,"class","docs-sidebar-title svelte-18urt5e"),a(f,"class","svelte-18urt5e"),a(u,"class","docs-nav svelte-18urt5e"),a(u,"aria-label","Documentation"),a(h,"class","docs-sidebar-note svelte-18urt5e"),a(e,"class","docs-sidebar svelte-18urt5e"),a(b,"class","docs-content svelte-18urt5e"),a(t,"class","docs-full svelte-18urt5e")},m(_,C){R(_,t,C),r(t,e),r(e,l),r(l,s),r(e,o),r(e,i),r(e,c),r(e,u),r(u,f);for(let k=0;k<w.length;k+=1)w[k]&&w[k].m(f,null);r(e,d),r(e,h),r(t,m),r(t,b),ye(v,b,null),g=!0},p(_,[C]){if(C&5){y=Ee(_[2]);let q;for(q=0;q<y.length;q+=1){const S=mo(_,y,q);w[q]?w[q].p(S,C):(w[q]=bo(S),w[q].c(),w[q].m(f,null))}for(;q<w.length;q+=1)w[q].d(1);w.length=y.length}const k={};C&2&&(k.content=_[1]),v.$set(k)},i(_){g||(Z(v.$$.fragment,_),g=!0)},o(_){Y(v.$$.fragment,_),g=!1},d(_){_&&z(t),Ke(w,_),Ce(v)}}}function qf(n,t,e){let l,s,{currentPage:o=""}=t;const i=[{id:"",label:"Overview"},{id:"getting-started",label:"Getting started"},{id:"dashboard",label:"Dashboard"},{id:"environments",label:"Environments"},{id:"networks",label:"Networks"},{id:"command-palette",label:"Command palette"}],c={"":kf,"getting-started":vf,dashboard:wf,environments:yf,networks:Cf,"command-palette":Sf},u=f=>{f.preventDefault(),window.location.hash=""};return n.$$set=f=>{"currentPage"in f&&e(3,o=f.currentPage)},n.$$.update=()=>{n.$$.dirty&8&&e(0,l=i.some(f=>f.id===o)?o:""),n.$$.dirty&1&&e(1,s=c[l]??"")},[l,s,i,o,u]}class Ef extends tt{constructor(t){super(),et(this,t,qf,If,Je,{currentPage:3})}}function go(n){let t,e;return{c(){t=p("div"),e=D(n[2]),a(t,"class","login-error svelte-1lfsvcq"),a(t,"role","alert")},m(l,s){R(l,t,s),r(t,e)},p(l,s){s&4&&V(e,l[2])},d(l){l&&z(t)}}}function Tf(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k=n[3]?"Signing in…":"Sign in",q,S,T,M=n[2]&&go(n);return{c(){t=p("div"),e=p("div"),l=p("h1"),l.textContent="IPAM",s=I(),o=p("p"),o.textContent="Sign in to continue",i=I(),c=p("form"),M&&M.c(),u=I(),f=p("label"),d=p("span"),d.textContent="Email",h=I(),m=p("input"),b=I(),v=p("label"),g=p("span"),g.textContent="Password",y=I(),w=p("input"),_=I(),C=p("button"),q=D(k),a(l,"class","login-title svelte-1lfsvcq"),a(o,"class","login-subtitle svelte-1lfsvcq"),a(m,"type","email"),a(m,"placeholder","admin@localhost"),a(m,"autocomplete","email"),m.disabled=n[3],a(m,"class","svelte-1lfsvcq"),a(f,"class","login-label svelte-1lfsvcq"),a(w,"type","password"),a(w,"placeholder","Password"),a(w,"autocomplete","current-password"),w.disabled=n[3],a(w,"class","svelte-1lfsvcq"),a(v,"class","login-label svelte-1lfsvcq"),a(C,"type","submit"),a(C,"class","btn btn-primary login-submit svelte-1lfsvcq"),C.disabled=n[3],a(c,"class","login-form svelte-1lfsvcq"),a(e,"class","login-card svelte-1lfsvcq"),a(t,"class","login-page svelte-1lfsvcq")},m(A,F){R(A,t,F),r(t,e),r(e,l),r(e,s),r(e,o),r(e,i),r(e,c),M&&M.m(c,null),r(c,u),r(c,f),r(f,d),r(f,h),r(f,m),fe(m,n[0]),r(c,b),r(c,v),r(v,g),r(v,y),r(v,w),fe(w,n[1]),r(c,_),r(c,C),r(C,q),S||(T=[W(m,"input",n[5]),W(w,"input",n[6]),W(c,"submit",n[4])],S=!0)},p(A,[F]){A[2]?M?M.p(A,F):(M=go(A),M.c(),M.m(c,u)):M&&(M.d(1),M=null),F&8&&(m.disabled=A[3]),F&1&&m.value!==A[0]&&fe(m,A[0]),F&8&&(w.disabled=A[3]),F&2&&w.value!==A[1]&&fe(w,A[1]),F&8&&k!==(k=A[3]?"Signing in…":"Sign in")&&V(q,k),F&8&&(C.disabled=A[3])},i:se,o:se,d(A){A&&z(t),M&&M.d(),S=!1,_e(T)}}}function Af(n,t,e){let l="",s="",o="",i=!1;async function c(d){if(d.preventDefault(),e(2,o=""),!l.trim()||!s){e(2,o="Email and password are required.");return}e(3,i=!0);try{const h=await Qo(l.trim(),s);h?gt.set(h):e(2,o="Invalid email or password.")}catch(h){e(2,o=h.message||"Login failed.")}finally{e(3,i=!1)}}function u(){l=this.value,e(0,l)}function f(){s=this.value,e(1,s)}return[l,s,o,i,c,u,f]}class Pf extends tt{constructor(t){super(),et(this,t,Af,Tf,Je,{})}}function _o(n){let t,e;return{c(){t=p("div"),e=D(n[3]),a(t,"class","setup-error svelte-119v6c4"),a(t,"role","alert")},m(l,s){R(l,t,s),r(t,e)},p(l,s){s&8&&V(e,l[3])},d(l){l&&z(t)}}}function Lf(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M,A=n[4]?"Creating account…":"Create admin account",F,Q,B,U=n[3]&&_o(n);return{c(){t=p("div"),e=p("div"),l=p("h1"),l.textContent="IPAM Setup",s=I(),o=p("p"),o.textContent="Create the initial admin account to get started.",i=I(),c=p("form"),U&&U.c(),u=I(),f=p("label"),d=p("span"),d.textContent="Admin email",h=I(),m=p("input"),b=I(),v=p("label"),g=p("span"),g.textContent="Password",y=I(),w=p("input"),_=I(),C=p("label"),k=p("span"),k.textContent="Confirm password",q=I(),S=p("input"),T=I(),M=p("button"),F=D(A),a(l,"class","setup-title svelte-119v6c4"),a(o,"class","setup-subtitle svelte-119v6c4"),a(m,"type","email"),a(m,"placeholder","admin@example.com"),a(m,"autocomplete","email"),m.disabled=n[4],a(m,"class","svelte-119v6c4"),a(f,"class","setup-label svelte-119v6c4"),a(w,"type","password"),a(w,"placeholder","At least 6 characters"),a(w,"autocomplete","new-password"),w.disabled=n[4],a(w,"class","svelte-119v6c4"),a(v,"class","setup-label svelte-119v6c4"),a(S,"type","password"),a(S,"placeholder","Confirm password"),a(S,"autocomplete","new-password"),S.disabled=n[4],a(S,"class","svelte-119v6c4"),a(C,"class","setup-label svelte-119v6c4"),a(M,"type","submit"),a(M,"class","btn btn-primary setup-submit svelte-119v6c4"),M.disabled=n[4],a(c,"class","setup-form svelte-119v6c4"),a(e,"class","setup-card svelte-119v6c4"),a(t,"class","setup-page svelte-119v6c4")},m(N,O){R(N,t,O),r(t,e),r(e,l),r(e,s),r(e,o),r(e,i),r(e,c),U&&U.m(c,null),r(c,u),r(c,f),r(f,d),r(f,h),r(f,m),fe(m,n[0]),r(c,b),r(c,v),r(v,g),r(v,y),r(v,w),fe(w,n[1]),r(c,_),r(c,C),r(C,k),r(C,q),r(C,S),fe(S,n[2]),r(c,T),r(c,M),r(M,F),Q||(B=[W(m,"input",n[6]),W(w,"input",n[7]),W(S,"input",n[8]),W(c,"submit",n[5])],Q=!0)},p(N,[O]){N[3]?U?U.p(N,O):(U=_o(N),U.c(),U.m(c,u)):U&&(U.d(1),U=null),O&16&&(m.disabled=N[4]),O&1&&m.value!==N[0]&&fe(m,N[0]),O&16&&(w.disabled=N[4]),O&2&&w.value!==N[1]&&fe(w,N[1]),O&16&&(S.disabled=N[4]),O&4&&S.value!==N[2]&&fe(S,N[2]),O&16&&A!==(A=N[4]?"Creating account…":"Create admin account")&&V(F,A),O&16&&(M.disabled=N[4])},i:se,o:se,d(N){N&&z(t),U&&U.d(),Q=!1,_e(B)}}}function zf(n,t,e){let l="",s="",o="",i="",c=!1;async function u(m){if(m.preventDefault(),e(3,i=""),!l.trim()||!s||!o){e(3,i="All fields are required.");return}if(s!==o){e(3,i="Passwords do not match.");return}if(s.length<6){e(3,i="Password must be at least 6 characters.");return}e(4,c=!0);try{await Gr(l.trim(),s);const b=await Qo(l.trim(),s);b?(gt.set(b),Kt.set(!1)):e(3,i="Account created. Please sign in.")}catch(b){e(3,i=b.message||"Setup failed.")}finally{e(4,c=!1)}}function f(){l=this.value,e(0,l)}function d(){s=this.value,e(1,s)}function h(){o=this.value,e(2,o)}return[l,s,o,i,c,u,f,d,h]}class Rf extends tt{constructor(t){super(),et(this,t,zf,Lf,Je,{})}}function ko(n,t,e){const l=n.slice();return l[19]=t[e],l}function vo(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k=n[3]&&wo(n);function q(Q,B){return Q[6]?Nf:Df}let S=q(n),T=S(n);function M(Q,B){return Q[2]?Bf:Q[1].length===0?Of:Mf}let A=M(n),F=A(n);return{c(){t=p("div"),e=p("div"),l=p("div"),s=p("h2"),s.textContent="API tokens",o=I(),i=p("button"),i.textContent="×",c=I(),u=p("p"),u.innerHTML='Use a token in the <code class="svelte-15h7vmj">Authorization: Bearer &lt;token&gt;</code> header for API access. Create a token and copy it now; it won’t be shown again.',f=I(),k&&k.c(),d=I(),T.c(),h=I(),m=p("div"),b=p("h3"),b.textContent="Your tokens",v=I(),F.c(),g=I(),y=p("div"),w=p("button"),w.textContent="Close",a(s,"id","api-tokens-title"),a(s,"class","svelte-15h7vmj"),a(i,"type","button"),a(i,"class","modal-close svelte-15h7vmj"),a(i,"aria-label","Close"),a(l,"class","modal-header svelte-15h7vmj"),a(u,"class","modal-desc svelte-15h7vmj"),a(b,"class","svelte-15h7vmj"),a(m,"class","tokens-section svelte-15h7vmj"),a(w,"type","button"),a(w,"class","btn"),a(y,"class","modal-footer svelte-15h7vmj"),a(e,"class","modal svelte-15h7vmj"),a(e,"role","dialog"),a(e,"aria-labelledby","api-tokens-title"),a(e,"aria-modal","true"),a(t,"class","modal-backdrop svelte-15h7vmj"),a(t,"role","presentation")},m(Q,B){R(Q,t,B),r(t,e),r(e,l),r(l,s),r(l,o),r(l,i),r(e,c),r(e,u),r(e,f),k&&k.m(e,null),r(e,d),T.m(e,null),r(e,h),r(e,m),r(m,b),r(m,v),F.m(m,null),r(e,g),r(e,y),r(y,w),_||(C=[W(i,"click",n[13]),W(w,"click",n[13]),W(e,"click",jf),W(e,"keydown",Uf),W(t,"click",n[13])],_=!0)},p(Q,B){Q[3]?k?k.p(Q,B):(k=wo(Q),k.c(),k.m(e,d)):k&&(k.d(1),k=null),S===(S=q(Q))&&T?T.p(Q,B):(T.d(1),T=S(Q),T&&(T.c(),T.m(e,h))),A===(A=M(Q))&&F?F.p(Q,B):(F.d(1),F=A(Q),F&&(F.c(),F.m(m,null)))},d(Q){Q&&z(t),k&&k.d(),T.d(),F.d(),_=!1,_e(C)}}}function wo(n){let t,e;return{c(){t=p("div"),e=D(n[3]),a(t,"class","modal-error svelte-15h7vmj"),a(t,"role","alert")},m(l,s){R(l,t,s),r(t,e)},p(l,s){s&8&&V(e,l[3])},d(l){l&&z(t)}}}function Df(n){let t,e,l,s,o,i,c,u=n[5]?"Creating…":"Create token",f,d,h,m;return{c(){t=p("div"),e=p("label"),e.textContent="Name",l=I(),s=p("div"),o=p("input"),i=I(),c=p("button"),f=D(u),a(e,"for","token-name"),a(e,"class","svelte-15h7vmj"),a(o,"id","token-name"),a(o,"type","text"),a(o,"placeholder","e.g. CI / CLI"),o.disabled=n[5],a(o,"class","svelte-15h7vmj"),a(c,"type","button"),a(c,"class","btn btn-primary"),c.disabled=d=n[5]||!(n[4]||"").trim(),a(s,"class","create-row svelte-15h7vmj"),a(t,"class","create-section svelte-15h7vmj")},m(b,v){R(b,t,v),r(t,e),r(t,l),r(t,s),r(s,o),fe(o,n[4]),r(s,i),r(s,c),r(c,f),h||(m=[W(o,"input",n[15]),W(c,"click",n[9])],h=!0)},p(b,v){v&32&&(o.disabled=b[5]),v&16&&o.value!==b[4]&&fe(o,b[4]),v&32&&u!==(u=b[5]?"Creating…":"Create token")&&V(f,u),v&48&&d!==(d=b[5]||!(b[4]||"").trim())&&(c.disabled=d)},d(b){b&&z(t),h=!1,_e(m)}}}function Nf(n){let t,e,l,s,o,i=n[6].token+"",c,u,f,d=n[7]?"Copied":"Copy",h,m,b,v,g;return{c(){t=p("div"),e=p("p"),e.textContent="New token (copy it now):",l=I(),s=p("div"),o=p("code"),c=D(i),u=I(),f=p("button"),h=D(d),m=I(),b=p("button"),b.textContent="Done",a(e,"class","new-token-label svelte-15h7vmj"),a(o,"class","new-token-value svelte-15h7vmj"),a(f,"type","button"),a(f,"class","btn btn-primary"),a(s,"class","new-token-row svelte-15h7vmj"),a(b,"type","button"),a(b,"class","btn"),a(t,"class","new-token-box svelte-15h7vmj")},m(y,w){R(y,t,w),r(t,e),r(t,l),r(t,s),r(s,o),r(o,c),r(s,u),r(s,f),r(f,h),r(t,m),r(t,b),v||(g=[W(f,"click",n[10]),W(b,"click",n[11])],v=!0)},p(y,w){w&64&&i!==(i=y[6].token+"")&&V(c,i),w&128&&d!==(d=y[7]?"Copied":"Copy")&&V(h,d)},d(y){y&&z(t),v=!1,_e(g)}}}function Mf(n){let t,e=[],l=new Map,s=Ee(n[1]);const o=i=>i[19].id;for(let i=0;i<s.length;i+=1){let c=ko(n,s,i),u=o(c);l.set(u,e[i]=yo(u,c))}return{c(){t=p("ul");for(let i=0;i<e.length;i+=1)e[i].c();a(t,"class","tokens-list svelte-15h7vmj")},m(i,c){R(i,t,c);for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(t,null)},p(i,c){c&4354&&(s=Ee(i[1]),e=Bo(e,c,o,1,i,s,l,t,Oo,yo,null,ko))},d(i){i&&z(t);for(let c=0;c<e.length;c+=1)e[c].d()}}}function Of(n){let t;return{c(){t=p("p"),t.textContent="No tokens yet.",a(t,"class","muted svelte-15h7vmj")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Bf(n){let t;return{c(){t=p("p"),t.textContent="Loading…",a(t,"class","muted svelte-15h7vmj")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function yo(n,t){let e,l,s=t[19].name+"",o,i,c,u=Co(t[19].created_at)+"",f,d,h,m=t[8]===t[19].id?"Deleting…":"Delete",b,v,g,y,w;function _(){return t[16](t[19])}return{key:n,first:null,c(){e=p("li"),l=p("span"),o=D(s),i=I(),c=p("span"),f=D(u),d=I(),h=p("button"),b=D(m),g=I(),a(l,"class","token-name svelte-15h7vmj"),a(c,"class","token-date svelte-15h7vmj"),a(h,"type","button"),a(h,"class","btn btn-danger svelte-15h7vmj"),h.disabled=v=t[8]===t[19].id,a(e,"class","token-item svelte-15h7vmj"),this.first=e},m(C,k){R(C,e,k),r(e,l),r(l,o),r(e,i),r(e,c),r(c,f),r(e,d),r(e,h),r(h,b),r(e,g),y||(w=W(h,"click",_),y=!0)},p(C,k){t=C,k&2&&s!==(s=t[19].name+"")&&V(o,s),k&2&&u!==(u=Co(t[19].created_at)+"")&&V(f,u),k&258&&m!==(m=t[8]===t[19].id?"Deleting…":"Delete")&&V(b,m),k&258&&v!==(v=t[8]===t[19].id)&&(h.disabled=v)},d(C){C&&z(e),y=!1,w()}}}function Ff(n){let t,e,l,s=n[0]&&vo(n);return{c(){s&&s.c(),t=Xe()},m(o,i){s&&s.m(o,i),R(o,t,i),e||(l=W(window,"keydown",n[14]),e=!0)},p(o,[i]){o[0]?s?s.p(o,i):(s=vo(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i:se,o:se,d(o){o&&z(t),s&&s.d(o),e=!1,l()}}}function Co(n){if(!n)return"";try{return new Date(n).toLocaleDateString(void 0,{dateStyle:"short"})}catch{return n}}const jf=n=>n.stopPropagation(),Uf=n=>n.stopPropagation();function Hf(n,t,e){let{open:l=!1}=t;const s=pt();let o=[],i=!0,c="",u="",f=!1,d=null,h=!1,m=null;async function b(){if(l){e(2,i=!0),e(3,c="");try{const S=await Wo();e(1,o=S.tokens??[])}catch(S){e(3,c=(S==null?void 0:S.message)??"Failed to load tokens"),e(1,o=[])}finally{e(2,i=!1)}}}async function v(){const S=(u||"").trim();if(S){e(5,f=!0),e(3,c=""),e(6,d=null);try{const T=await Qr(S);e(6,d=(T==null?void 0:T.token)??null),e(4,u=""),await b()}catch(T){e(3,c=(T==null?void 0:T.message)??"Failed to create token")}finally{e(5,f=!1)}}}function g(){d!=null&&d.token&&navigator.clipboard.writeText(d.token).then(()=>{e(7,h=!0),setTimeout(()=>e(7,h=!1),2e3)})}function y(){e(6,d=null),e(7,h=!1)}async function w(S){if(S){e(8,m=S),e(3,c="");try{await Go(S),await b()}catch(T){e(3,c=(T==null?void 0:T.message)??"Failed to delete token")}finally{e(8,m=null)}}}function _(){e(6,d=null),e(4,u=""),e(3,c=""),s("close")}const C=S=>l&&S.key==="Escape"&&_();function k(){u=this.value,e(4,u)}const q=S=>w(S.id);return n.$$set=S=>{"open"in S&&e(0,l=S.open)},n.$$.update=()=>{n.$$.dirty&1&&l&&b()},[l,o,i,c,u,f,d,h,m,v,g,y,w,_,C,k,q]}class Qf extends tt{constructor(t){super(),et(this,t,Hf,Ff,Je,{open:0})}}function So(n,t,e){const l=n.slice();return l[25]=t[e],l}function Io(n,t,e){const l=n.slice();return l[28]=t[e],l}function qo(n){let t,e,l,s,o,i,c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M,A=n[7]?"Creating…":"Create",F,Q,B,U=n[8]&&Eo(n);return{c(){t=p("div"),e=p("h2"),e.textContent="New user",l=I(),s=p("form"),U&&U.c(),o=I(),i=p("label"),c=p("span"),c.textContent="Email",u=I(),f=p("input"),d=I(),h=p("label"),m=p("span"),m.textContent="Password",b=I(),v=p("input"),g=I(),y=p("label"),w=p("span"),w.textContent="Role",_=I(),C=p("select"),k=p("option"),k.textContent="User",q=p("option"),q.textContent="Admin",S=I(),T=p("div"),M=p("button"),F=D(A),a(e,"class","admin-card-title svelte-qoiuqg"),a(f,"type","email"),a(f,"placeholder","user@example.com"),f.disabled=n[7],a(f,"class","svelte-qoiuqg"),a(i,"class","admin-label svelte-qoiuqg"),a(v,"type","password"),a(v,"placeholder","Password"),v.disabled=n[7],a(v,"class","svelte-qoiuqg"),a(h,"class","admin-label svelte-qoiuqg"),k.__value="user",fe(k,k.__value),q.__value="admin",fe(q,q.__value),C.disabled=n[7],a(C,"class","svelte-qoiuqg"),n[6]===void 0&&mt(()=>n[21].call(C)),a(y,"class","admin-label svelte-qoiuqg"),a(M,"type","submit"),a(M,"class","btn btn-primary"),M.disabled=n[7],a(T,"class","admin-form-actions svelte-qoiuqg"),a(s,"class","admin-form svelte-qoiuqg"),a(t,"class","admin-card svelte-qoiuqg")},m(N,O){R(N,t,O),r(t,e),r(t,l),r(t,s),U&&U.m(s,null),r(s,o),r(s,i),r(i,c),r(i,u),r(i,f),fe(f,n[4]),r(s,d),r(s,h),r(h,m),r(h,b),r(h,v),fe(v,n[5]),r(s,g),r(s,y),r(y,w),r(y,_),r(y,C),r(C,k),r(C,q),at(C,n[6],!0),r(s,S),r(s,T),r(T,M),r(M,F),Q||(B=[W(f,"input",n[19]),W(v,"input",n[20]),W(C,"change",n[21]),W(s,"submit",n[16])],Q=!0)},p(N,O){N[8]?U?U.p(N,O):(U=Eo(N),U.c(),U.m(s,o)):U&&(U.d(1),U=null),O&128&&(f.disabled=N[7]),O&16&&f.value!==N[4]&&fe(f,N[4]),O&128&&(v.disabled=N[7]),O&32&&v.value!==N[5]&&fe(v,N[5]),O&128&&(C.disabled=N[7]),O&64&&at(C,N[6]),O&128&&A!==(A=N[7]?"Creating…":"Create")&&V(F,A),O&128&&(M.disabled=N[7])},d(N){N&&z(t),U&&U.d(),Q=!1,_e(B)}}}function Eo(n){let t,e;return{c(){t=p("div"),e=D(n[8]),a(t,"class","admin-error svelte-qoiuqg"),a(t,"role","alert")},m(l,s){R(l,t,s),r(t,e)},p(l,s){s&256&&V(e,l[8])},d(l){l&&z(t)}}}function Wf(n){let t,e,l,s,o,i=Ee(n[0]),c=[];for(let u=0;u<i.length;u+=1)c[u]=To(Io(n,i,u));return{c(){t=p("div"),e=p("table"),l=p("thead"),l.innerHTML='<tr><th class="svelte-qoiuqg">Email</th> <th class="svelte-qoiuqg">Role</th></tr>',s=I(),o=p("tbody");for(let u=0;u<c.length;u+=1)c[u].c();a(e,"class","table svelte-qoiuqg"),a(t,"class","table-wrap svelte-qoiuqg")},m(u,f){R(u,t,f),r(t,e),r(e,l),r(e,s),r(e,o);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(o,null)},p(u,f){if(f&1){i=Ee(u[0]);let d;for(d=0;d<i.length;d+=1){const h=Io(u,i,d);c[d]?c[d].p(h,f):(c[d]=To(h),c[d].c(),c[d].m(o,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=i.length}},d(u){u&&z(t),Ke(c,u)}}}function Gf(n){let t;return{c(){t=p("p"),t.textContent="No users yet.",a(t,"class","admin-muted svelte-qoiuqg")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Zf(n){let t,e;return{c(){t=p("p"),e=D(n[2]),a(t,"class","admin-error svelte-qoiuqg")},m(l,s){R(l,t,s),r(t,e)},p(l,s){s&4&&V(e,l[2])},d(l){l&&z(t)}}}function Vf(n){let t;return{c(){t=p("p"),t.textContent="Loading…",a(t,"class","admin-muted svelte-qoiuqg")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function To(n){let t,e,l=n[28].email+"",s,o,i,c,u=n[28].role+"",f,d;return{c(){t=p("tr"),e=p("td"),s=D(l),o=I(),i=p("td"),c=p("span"),f=D(u),d=I(),a(e,"class","name svelte-qoiuqg"),a(c,"class","role-badge svelte-qoiuqg"),be(c,"admin",n[28].role==="admin"),a(i,"class","svelte-qoiuqg")},m(h,m){R(h,t,m),r(t,e),r(e,s),r(t,o),r(t,i),r(i,c),r(c,f),r(t,d)},p(h,m){m&1&&l!==(l=h[28].email+"")&&V(s,l),m&1&&u!==(u=h[28].role+"")&&V(f,u),m&1&&be(c,"admin",h[28].role==="admin")},d(h){h&&z(t)}}}function Kf(n){let t,e,l,s,o,i=[],c=new Map,u=Ee(n[10]);const f=d=>d[25].id;for(let d=0;d<u.length;d+=1){let h=So(n,u,d),m=f(h);c.set(m,i[d]=Ao(m,h))}return{c(){t=p("div"),e=p("table"),l=p("thead"),l.innerHTML='<tr><th class="svelte-qoiuqg">Name</th> <th class="svelte-qoiuqg">Created</th> <th class="svelte-qoiuqg"></th></tr>',s=I(),o=p("tbody");for(let d=0;d<i.length;d+=1)i[d].c();a(e,"class","table svelte-qoiuqg"),a(t,"class","table-wrap svelte-qoiuqg")},m(d,h){R(d,t,h),r(t,e),r(e,l),r(e,s),r(e,o);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(o,null)},p(d,h){h&41984&&(u=Ee(d[10]),i=Bo(i,h,f,1,d,u,c,o,Oo,Ao,null,So))},d(d){d&&z(t);for(let h=0;h<i.length;h+=1)i[h].d()}}}function Yf(n){let t;return{c(){t=p("p"),t.textContent="No tokens yet.",a(t,"class","admin-muted svelte-qoiuqg")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Xf(n){let t,e;return{c(){t=p("p"),e=D(n[12]),a(t,"class","admin-error svelte-qoiuqg")},m(l,s){R(l,t,s),r(t,e)},p(l,s){s&4096&&V(e,l[12])},d(l){l&&z(t)}}}function Jf(n){let t;return{c(){t=p("p"),t.textContent="Loading…",a(t,"class","admin-muted svelte-qoiuqg")},m(e,l){R(e,t,l)},p:se,d(e){e&&z(t)}}}function Ao(n,t){let e,l,s=t[25].name+"",o,i,c,u=Po(t[25].created_at)+"",f,d,h,m,b=t[13]===t[25].id?"Deleting…":"Delete",v,g,y,w,_;function C(){return t[23](t[25])}return{key:n,first:null,c(){e=p("tr"),l=p("td"),o=D(s),i=I(),c=p("td"),f=D(u),d=I(),h=p("td"),m=p("button"),v=D(b),y=I(),a(l,"class","name svelte-qoiuqg"),a(c,"class","svelte-qoiuqg"),a(m,"type","button"),a(m,"class","btn btn-danger btn-small svelte-qoiuqg"),m.disabled=g=t[13]===t[25].id,a(m,"title","Delete token"),a(h,"class","table-actions svelte-qoiuqg"),this.first=e},m(k,q){R(k,e,q),r(e,l),r(l,o),r(e,i),r(e,c),r(c,f),r(e,d),r(e,h),r(h,m),r(m,v),r(e,y),w||(_=W(m,"click",C),w=!0)},p(k,q){t=k,q&1024&&s!==(s=t[25].name+"")&&V(o,s),q&1024&&u!==(u=Po(t[25].created_at)+"")&&V(f,u),q&9216&&b!==(b=t[13]===t[25].id?"Deleting…":"Delete")&&V(v,b),q&9216&&g!==(g=t[13]===t[25].id)&&(m.disabled=g)},d(k){k&&z(e),w=!1,_()}}}function xf(n){let t,e,l,s,o,i=n[3]?"Cancel":"Add user",c,u,f,d,h,m,b,v,g,y,w,_,C,k,q,S,T,M;f=new Qf({props:{open:n[9]}}),f.$on("close",n[18]);let A=n[3]&&qo(n);function F(L,H){return L[1]?Vf:L[2]?Zf:L[0].length===0?Gf:Wf}let Q=F(n),B=Q(n);function U(L,H){return L[11]?Jf:L[12]?Xf:L[10].length===0?Yf:Kf}let N=U(n),O=N(n);return{c(){t=p("div"),e=p("header"),l=p("h1"),l.textContent="Admin",s=I(),o=p("button"),c=D(i),u=I(),Ie(f.$$.fragment),d=I(),A&&A.c(),h=I(),m=p("div"),b=p("h2"),b.textContent="Users",v=I(),B.c(),g=I(),y=p("div"),w=p("div"),_=p("h2"),_.textContent="API tokens",C=I(),k=p("button"),k.textContent="Add token",q=I(),O.c(),a(l,"class","admin-title svelte-qoiuqg"),a(o,"type","button"),a(o,"class","btn btn-primary"),a(e,"class","admin-header svelte-qoiuqg"),a(b,"class","admin-card-title svelte-qoiuqg"),a(m,"class","admin-card svelte-qoiuqg"),a(_,"class","admin-card-title svelte-qoiuqg"),a(k,"type","button"),a(k,"class","btn btn-primary btn-small svelte-qoiuqg"),a(w,"class","admin-card-header svelte-qoiuqg"),a(y,"class","admin-card svelte-qoiuqg"),a(t,"class","admin-page svelte-qoiuqg")},m(L,H){R(L,t,H),r(t,e),r(e,l),r(e,s),r(e,o),r(o,c),r(t,u),ye(f,t,null),r(t,d),A&&A.m(t,null),r(t,h),r(t,m),r(m,b),r(m,v),B.m(m,null),r(t,g),r(t,y),r(y,w),r(w,_),r(w,C),r(w,k),r(y,q),O.m(y,null),S=!0,T||(M=[W(o,"click",n[17]),W(k,"click",n[22])],T=!0)},p(L,[H]){(!S||H&8)&&i!==(i=L[3]?"Cancel":"Add user")&&V(c,i);const G={};H&512&&(G.open=L[9]),f.$set(G),L[3]?A?A.p(L,H):(A=qo(L),A.c(),A.m(t,h)):A&&(A.d(1),A=null),Q===(Q=F(L))&&B?B.p(L,H):(B.d(1),B=Q(L),B&&(B.c(),B.m(m,null))),N===(N=U(L))&&O?O.p(L,H):(O.d(1),O=N(L),O&&(O.c(),O.m(y,null)))},i(L){S||(Z(f.$$.fragment,L),S=!0)},o(L){Y(f.$$.fragment,L),S=!1},d(L){L&&z(t),Ce(f),A&&A.d(),B.d(),O.d(),T=!1,_e(M)}}}function Po(n){if(!n)return"";try{return new Date(n).toLocaleDateString(void 0,{dateStyle:"short"})}catch{return n}}function $f(n,t,e){let l=[],s=!0,o="",i=!1,c="",u="",f="user",d=!1,h="",m=!1,b=[],v=!0,g="",y=null;async function w(){e(1,s=!0),e(2,o="");try{const B=await Zr();e(0,l=B.users||[])}catch(B){e(2,o=B.message||"Failed to load users")}finally{e(1,s=!1)}}async function _(){e(11,v=!0),e(12,g="");try{const B=await Wo();e(10,b=B.tokens||[])}catch(B){e(12,g=(B==null?void 0:B.message)||"Failed to load tokens"),e(10,b=[])}finally{e(11,v=!1)}}async function C(B){if(B){e(13,y=B);try{await Go(B),await _()}catch(U){e(12,g=(U==null?void 0:U.message)||"Failed to delete token")}finally{e(13,y=null)}}}async function k(B){if(B.preventDefault(),e(8,h=""),!c.trim()||!u){e(8,h="Email and password are required.");return}e(7,d=!0);try{await Vr(c.trim(),u,f),e(4,c=""),e(5,u=""),e(6,f="user"),e(3,i=!1),await w()}catch(U){e(8,h=U.message||"Failed to create user")}finally{e(7,d=!1)}}_t(()=>{w(),_()});const q=()=>e(3,i=!i),S=()=>{e(9,m=!1),_()};function T(){c=this.value,e(4,c)}function M(){u=this.value,e(5,u)}function A(){f=zt(this),e(6,f)}return[l,s,o,i,c,u,f,d,h,m,b,v,g,y,_,C,k,q,S,T,M,A,()=>e(9,m=!0),B=>C(B.id)]}class ed extends tt{constructor(t){super(),et(this,t,$f,xf,Je,{})}}function td(n){let t,e,l,s,o,i,c,u,f,d,h;e=new dc({props:{current:n[0],currentUser:n[2]}}),e.$on("nav",n[23]),e.$on("logout",hd);const m=[cd,ad,rd,id,od],b=[];function v(g,y){return g[0]==="dashboard"?0:g[0]==="environments"?1:g[0]==="networks"?2:g[0]==="admin"?3:4}return o=v(n),i=b[o]=m[o](n),u=new kc({props:{open:n[14],currentRoute:n[0],currentUser:n[2]}}),u.$on("close",n[31]),u.$on("navigate",n[17]),u.$on("create",n[18]),d=new qc({props:{steps:Ec,open:n[1],currentStep:n[5]}}),d.$on("step",n[20]),d.$on("done",n[19]),d.$on("skip",n[19]),{c(){t=p("div"),Ie(e.$$.fragment),l=I(),s=p("main"),i.c(),c=I(),Ie(u.$$.fragment),f=I(),Ie(d.$$.fragment),a(s,"class","main svelte-luxoy7"),a(s,"data-tour","tour-command-palette"),a(t,"class","app svelte-luxoy7"),a(t,"role","presentation")},m(g,y){R(g,t,y),ye(e,t,null),r(t,l),r(t,s),b[o].m(s,null),r(t,c),ye(u,t,null),r(t,f),ye(d,t,null),h=!0},p(g,y){const w={};y[0]&1&&(w.current=g[0]),y[0]&4&&(w.currentUser=g[2]),e.$set(w);let _=o;o=v(g),o===_?b[o].p(g,y):(Re(),Y(b[_],1,1,()=>{b[_]=null}),De(),i=b[o],i?i.p(g,y):(i=b[o]=m[o](g),i.c()),Z(i,1),i.m(s,null));const C={};y[0]&16384&&(C.open=g[14]),y[0]&1&&(C.currentRoute=g[0]),y[0]&4&&(C.currentUser=g[2]),u.$set(C);const k={};y[0]&2&&(k.open=g[1]),y[0]&32&&(k.currentStep=g[5]),d.$set(k)},i(g){h||(Z(e.$$.fragment,g),Z(i),Z(u.$$.fragment,g),Z(d.$$.fragment,g),h=!0)},o(g){Y(e.$$.fragment,g),Y(i),Y(u.$$.fragment,g),Y(d.$$.fragment,g),h=!1},d(g){g&&z(t),Ce(e),b[o].d(),Ce(u),Ce(d)}}}function nd(n){let t,e;return t=new Ef({props:{currentPage:n[13]}}),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},p(l,s){const o={};s[0]&8192&&(o.currentPage=l[13]),t.$set(o)},i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function ld(n){let t,e,l,s;const o=[dd,fd,ud],i=[];function c(u,f){return u[4]===null?0:u[4]?1:2}return t=c(n),e=i[t]=o[t](n),{c(){e.c(),l=Xe()},m(u,f){i[t].m(u,f),R(u,l,f),s=!0},p(u,f){let d=t;t=c(u),t!==d&&(Re(),Y(i[d],1,1,()=>{i[d]=null}),De(),e=i[t],e||(e=i[t]=o[t](u),e.c()),Z(e,1),e.m(l.parentNode,l))},i(u){s||(Z(e),s=!0)},o(u){Y(e),s=!1},d(u){u&&z(l),i[t].d(u)}}}function sd(n){let t;return{c(){t=p("div"),t.innerHTML='<div class="loading-message svelte-luxoy7">Loading…</div>',a(t,"class","app loading svelte-luxoy7"),a(t,"role","presentation")},m(e,l){R(e,t,l)},p:se,i:se,o:se,d(e){e&&z(t)}}}function od(n){let t,e;return t=new ii({}),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},p:se,i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function id(n){let t,e;return t=new ed({}),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},p:se,i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function rd(n){let t,e;return t=new Lu({props:{environmentId:n[6],orphanedOnly:n[8],blockNameFilter:n[9],openCreateBlockFromQuery:n[11],openCreateAllocationFromQuery:n[12]}}),t.$on("clearEnv",n[28]),t.$on("setEnv",n[29]),t.$on("clearCreateQuery",n[30]),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},p(l,s){const o={};s[0]&64&&(o.environmentId=l[6]),s[0]&256&&(o.orphanedOnly=l[8]),s[0]&512&&(o.blockNameFilter=l[9]),s[0]&2048&&(o.openCreateBlockFromQuery=l[11]),s[0]&4096&&(o.openCreateAllocationFromQuery=l[12]),t.$set(o)},i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function ad(n){let t,e;return t=new Vc({props:{openCreateFromQuery:n[10],openEnvironmentId:n[7]}}),t.$on("clearCreateQuery",n[27]),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},p(l,s){const o={};s[0]&1024&&(o.openCreateFromQuery=l[10]),s[0]&128&&(o.openEnvironmentId=l[7]),t.$set(o)},i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function cd(n){let t,e;return t=new ii({}),t.$on("envBlocks",n[24]),t.$on("viewOrphaned",n[25]),t.$on("viewBlock",n[26]),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},p:se,i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function ud(n){let t,e;return t=new Pf({}),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function fd(n){let t,e;return t=new Rf({}),{c(){Ie(t.$$.fragment)},m(l,s){ye(t,l,s),e=!0},i(l){e||(Z(t.$$.fragment,l),e=!0)},o(l){Y(t.$$.fragment,l),e=!1},d(l){Ce(t,l)}}}function dd(n){let t;return{c(){t=p("div"),t.innerHTML='<div class="loading-message svelte-luxoy7">Loading…</div>',a(t,"class","app loading svelte-luxoy7"),a(t,"role","presentation")},m(e,l){R(e,t,l)},i:se,o:se,d(e){e&&z(t)}}}function pd(n){let t,e,l,s;const o=[sd,ld,nd,td],i=[];function c(u,f){return u[3]?u[2]?u[0]==="docs"?2:3:1:0}return t=c(n),e=i[t]=o[t](n),{c(){e.c(),l=Xe()},m(u,f){i[t].m(u,f),R(u,l,f),s=!0},p(u,f){let d=t;t=c(u),t===d?i[t].p(u,f):(Re(),Y(i[d],1,1,()=>{i[d]=null}),De(),e=i[t],e?e.p(u,f):(e=i[t]=o[t](u),e.c()),Z(e,1),e.m(l.parentNode,l))},i(u){s||(Z(e),s=!0)},o(u){Y(e),s=!1},d(u){u&&z(l),i[t].d(u)}}}async function hd(){const{logout:n}=await hr(async()=>{const{logout:t}=await Promise.resolve().then(()=>Xr);return{logout:t}},void 0);await n(),window.location.hash=""}function md(n,t,e){let l,s,o;ln(n,gt,E=>e(2,l=E)),ln(n,cn,E=>e(3,s=E)),ln(n,Kt,E=>e(4,o=E));let i="dashboard",c=!1,u=0,f=null,d=null,h=!1,m=null,b=!1,v=!1,g=!1,y="",w=!1;function _(E,P=null,j={}){if(e(0,i=E),e(6,f=P),e(8,h=!1),e(9,m=j.block??null),e(10,b=j.create===!0),e(11,v=j.createBlock===!0),e(12,g=j.createAllocation===!0),e(7,d=j.env??null),E==="dashboard")window.location.hash="";else if(E==="networks"){const J=new URLSearchParams;P&&J.set("environment",P),j.block&&J.set("block",j.block),j.createBlock&&J.set("createBlock","1"),j.createAllocation&&J.set("createAllocation","1");const oe=J.toString();window.location.hash="networks"+(oe?"?"+oe:"")}else if(E==="environments"){const J=new URLSearchParams;j.create&&J.set("create","1"),j.env&&J.set("env",j.env);const oe=J.toString();window.location.hash="environments"+(oe?"?"+oe:"")}else E==="docs"?window.location.hash=j.page?"docs/"+j.page:"docs":E==="admin"?window.location.hash="admin":window.location.hash=E}function C(){const E=(window.location.hash||"#").slice(1)||"dashboard",[P,j]=E.split("?");if(P==="environments"||P==="networks"){if(e(0,i=P),e(6,f=null),e(7,d=null),e(8,h=!1),e(9,m=null),e(10,b=!1),e(11,v=!1),e(12,g=!1),j){const J=new URLSearchParams(j);if(P==="networks"){const oe=J.get("environment");oe&&e(6,f=oe),e(8,h=J.get("orphaned")==="1"||J.get("orphaned")==="true");const ne=J.get("block");e(9,m=ne||null),e(11,v=J.get("createBlock")==="1"),e(12,g=J.get("createAllocation")==="1")}else if(P==="environments"){e(10,b=J.get("create")==="1");const oe=J.get("env");e(7,d=oe||null)}}}else P==="docs"||P.startsWith("docs/")?(e(0,i="docs"),e(13,y=P==="docs"?"":P.slice(5))):P==="admin"?e(0,i="admin"):(e(0,i="dashboard"),e(6,f=null),e(7,d=null),e(8,h=!1),e(9,m=null),e(10,b=!1),e(11,v=!1),e(12,g=!1))}function k(E){const{path:P,block:j,environmentId:J}=E.detail||{};P==="environments"?_("environments",null,J?{env:J}:{}):P==="networks"?_("networks",null,j?{block:j}:{}):P==="dashboard"?_("dashboard"):P==="docs"?_("docs",null,{page:E.detail&&E.detail.page||""}):P==="admin"&&_("admin")}function q(E){var j;const P=(j=E.detail)==null?void 0:j.action;P==="create-env"?_("environments",null,{create:!0}):P==="create-block"?_("networks",null,{createBlock:!0}):P==="create-alloc"&&_("networks",null,{createAllocation:!0})}typeof window<"u"&&C();let S=!1;_t(()=>{Zo(),C();const E=()=>C();window.addEventListener("hashchange",E);function P(j){(j.metaKey||j.ctrlKey)&&j.key==="k"&&(j.preventDefault(),e(14,w=!w))}return window.addEventListener("keydown",P),()=>{window.removeEventListener("hashchange",E),window.removeEventListener("keydown",P)}});let T=!1;async function M(){e(1,c=!1);try{await Hr(),gt.update(E=>E&&{...E,tour_completed:!0})}catch{}}function A(E){var P;e(5,u=((P=E.detail)==null?void 0:P.index)??0)}const F=E=>_(E.detail),Q=E=>_("networks",E.detail),B=()=>{window.location.hash="networks?orphaned=1",C()},U=E=>{window.location.hash="networks?block="+encodeURIComponent(E.detail),C()},N=()=>{e(10,b=!1),window.location.hash.includes("create=1")&&(window.location.hash="environments")},O=()=>{e(6,f=null),e(8,h=!1),e(9,m=null),window.location.hash="networks"},L=E=>_("networks",E.detail),H=()=>{e(11,v=!1),e(12,g=!1);const E=window.location.hash;if(E.includes("createBlock=1")||E.includes("createAllocation=1")){const P=new URLSearchParams(E.split("?")[1]||"");P.delete("createBlock"),P.delete("createAllocation");const j=P.toString();window.location.hash="networks"+(j?"?"+j:"")}},G=()=>e(14,w=!1);return n.$$.update=()=>{n.$$.dirty[0]&13&&s&&l&&i==="admin"&&l.role!=="admin"&&(window.location.hash=""),n.$$.dirty[0]&2097180&&s&&!l&&o===null&&!S&&(e(21,S=!0),Vo()),n.$$.dirty[0]&4194318&&s&&l&&!c&&!T&&(e(22,T=!0),l.tour_completed||(e(5,u=0),e(1,c=!0)))},[i,c,l,s,o,u,f,d,h,m,b,v,g,y,w,_,C,k,q,M,A,S,T,F,Q,B,U,N,O,L,H,G]}class bd extends tt{constructor(t){super(),et(this,t,md,pd,Je,{},null,[-1,-1])}}new bd({target:document.getElementById("app")});
